(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26568,(e,t,n)=>{"use strict";var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,i=/\n/g,a=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,u=/^\s+|\s+$/g;function d(e){return e?e.replace(u,""):""}t.exports=function(e,t){if("string"!=typeof e)throw TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,u=1;function h(e){var t=e.match(i);t&&(n+=t.length);var r=e.lastIndexOf("\n");u=~r?e.length-r:u+e.length}function p(){var e={line:n,column:u};return function(t){return t.position=new m(e),g(a),t}}function m(e){this.start=e,this.end={line:n,column:u},this.source=t.source}function f(r){var i=Error(t.source+":"+n+":"+u+": "+r);if(i.reason=r,i.filename=t.source,i.line=n,i.column=u,i.source=e,t.silent);else throw i}function g(t){var n=t.exec(e);if(n){var r=n[0];return h(r),e=e.slice(r.length),n}}function x(e){var t;for(e=e||[];t=y();)!1!==t&&e.push(t);return e}function y(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;""!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,""===e.charAt(n-1))return f("End of comment missing");var r=e.slice(2,n-2);return u+=2,h(r),e=e.slice(n),u+=2,t({type:"comment",comment:r})}}m.prototype.content=e,g(a);var v,b=[];for(x(b);v=function(){var e=p(),t=g(s);if(t){if(y(),!g(o))return f("property missing ':'");var n=g(l),i=e({type:"declaration",property:d(t[0].replace(r,"")),value:n?d(n[0].replace(r,"")):""});return g(c),i}}();)!1!==v&&(b.push(v),x(b));return b}},70454,(e,t,n)=>{"use strict";var r=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){let n=null;if(!e||"string"!=typeof e)return n;let r=(0,i.default)(e),a="function"==typeof t;return r.forEach(e=>{if("declaration"!==e.type)return;let{property:r,value:i}=e;a?t(r,i,e):i&&((n=n||{})[r]=i)}),n};let i=r(e.r(26568))},65185,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.camelCase=void 0;var r=/^--[a-zA-Z0-9_-]+$/,i=/-([a-z])/g,a=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(e,t){return t.toUpperCase()},c=function(e,t){return"".concat(t,"-")};n.camelCase=function(e,t){var n;return(void 0===t&&(t={}),!(n=e)||a.test(n)||r.test(n))?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(o,c):e.replace(s,c)).replace(i,l))}},15511,(e,t,n)=>{"use strict";var r=(e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(e.r(70454)),i=e.r(65185);function a(e,t){var n={};return e&&"string"==typeof e&&(0,r.default)(e,function(e,r){e&&r&&(n[(0,i.camelCase)(e,t)]=r)}),n}a.default=a,t.exports=a},4100,(e,t,n)=>{"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},l=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,n=r.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!a)return!1;for(t in e);return void 0===t||r.call(e,t)},c=function(e,t){a&&"__proto__"===t.name?a(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;else if(s)return s(e,t).value}return e[t]};t.exports=function e(){var t,n,r,i,a,s,d=arguments[0],h=1,p=arguments.length,m=!1;for("boolean"==typeof d&&(m=d,d=arguments[1]||{},h=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});h<p;++h)if(t=arguments[h],null!=t)for(n in t)r=u(d,n),d!==(i=u(t,n))&&(m&&i&&(l(i)||(a=o(i)))?(a?(a=!1,s=r&&o(r)?r:[]):s=r&&l(r)?r:{},c(d,{name:n,newValue:e(m,s,i)})):void 0!==i&&c(d,{name:n,newValue:i}));return d}},52911,e=>{"use strict";let t,n,r;e.i(47167);var i,a,s,o,l,c,u,d,h,p,m,f,g,x,y,v,b,w,S,j,E,N,k,C,T,D,A=e.i(43476),P=e.i(71645),M=e.i(88840);class I{baseUrl;constructor(e){this.baseUrl=e}async request(e,t={}){let{params:n,...r}=t,i=`${this.baseUrl}${e}`;if(n){let e=new URLSearchParams(n);i+=`?${e.toString()}`}try{let e=await fetch(i,{...r,headers:{"Content-Type":"application/json",...r.headers}});if(!e.ok){let t=await e.text();throw Error(`API Error: ${e.status} - ${t||e.statusText}`)}return await e.json()}catch(t){throw console.error(`API request failed for ${e}:`,t),t instanceof Error&&t.message.startsWith("API Error")||(0,M.triggerApiError)(),t}}async get(e,t){return this.request(e,{method:"GET",params:t})}async post(e,t){return this.request(e,{method:"POST",body:JSON.stringify(t)})}async put(e,t){return this.request(e,{method:"PUT",body:JSON.stringify(t)})}async delete(e){return this.request(e,{method:"DELETE"})}}let L=new I("http://localhost:3001/api");new I("http://localhost:3002/api");var O=e.i(3374);let R=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}),V=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))});function U({children:e,variant:t="primary",size:n="md",isLoading:r=!1,className:i="",disabled:a,...s}){return(0,A.jsx)("button",{className:`rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden ${{primary:"bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-500 hover:to-primary-400 text-white shadow-lg shadow-primary-500/30 hover:shadow-xl hover:shadow-primary-500/40 hover:scale-[1.02] active:scale-[0.98]",secondary:"bg-slate-700/50 hover:bg-slate-600/50 text-white border border-slate-600/50 hover:border-slate-500 backdrop-blur-sm",danger:"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white shadow-lg shadow-red-500/30 hover:shadow-xl hover:shadow-red-500/40",ghost:"bg-transparent hover:bg-slate-800/50 text-slate-300 hover:text-white border border-transparent hover:border-slate-700",success:"bg-gradient-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 text-white shadow-lg shadow-green-500/30"}[t]} ${{sm:"px-3 py-1.5 text-xs",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base"}[n]} ${i}`,disabled:a||r,...s,children:r?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[(0,A.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,A.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,A.jsx)("span",{children:"Cargando..."})]}):e})}function F(e){return({USD:"$",VES:"Bs.",USDT:"₮"})[e]||"$"}function B(e,t=2){let[n,r]=e.toFixed(t).split("."),i=n.replace(/\B(?=(\d{3})+(?!\d))/g,".");return`${i},${r}`}var _=e.i(63150);function $({isOpen:e,onClose:t,onConfirm:n,title:r="Confirmar",message:i="¿Estás seguro de realizar esta acción?",confirmText:a="Sí, eliminar",cancelText:s="Cancelar",type:o="danger"}){return e?(0,A.jsxs)("div",{className:"fixed inset-0 z-[70] flex items-center justify-center px-6 animate-fade-in",children:[(0,A.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:t}),(0,A.jsxs)("div",{className:"relative w-full max-w-xs glass-panel rounded-2xl p-6 border border-white/10 shadow-2xl text-center transform transition-all scale-100",children:[(0,A.jsx)("div",{className:`w-12 h-12 rounded-full mx-auto mb-4 flex items-center justify-center ${"danger"===o?"bg-rose-900/20 text-rose-500":"warning"===o?"bg-amber-900/20 text-amber-500":"bg-slate-800 text-indigo-400"}`,children:(0,A.jsx)(_.ExclamationTriangleIcon,{className:"w-6 h-6"})}),(0,A.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:r}),(0,A.jsx)("p",{className:"text-sm text-slate-400 mb-6",children:i}),(0,A.jsxs)("div",{className:"flex gap-3",children:[(0,A.jsx)("button",{onClick:t,className:"flex-1 bg-slate-800 hover:bg-slate-700 text-slate-300 py-2 rounded-xl text-sm transition",children:s}),(0,A.jsx)("button",{onClick:()=>{n(),t()},className:`flex-1 py-2 rounded-xl text-sm font-bold shadow-lg transition ${"danger"===o?"bg-rose-600 hover:bg-rose-500 text-white shadow-rose-600/20":"warning"===o?"bg-amber-600 hover:bg-amber-500 text-white shadow-amber-600/20":"bg-indigo-600 hover:bg-indigo-500 text-white shadow-indigo-600/20"}`,children:a})]})]})]}):null}function z({id:e,value:t="",onChange:n,placeholder:r="DD / MM / AAAA",className:i=""}){let[a,s]=(0,P.useState)(null),[o,l]=(0,P.useState)(new Date().getMonth()),[c,u]=(0,P.useState)(new Date().getFullYear()),[d,h]=(0,P.useState)(!1),[p,m]=(0,P.useState)(""),f=(0,P.useRef)(null);(0,P.useEffect)(()=>{if(t){let e=new Date(t);if(!isNaN(e.getTime())){let t=6e4*e.getTimezoneOffset(),n=new Date(e.getTime()+t);s(n),m(g(n))}}else s(null),m("")},[t]),(0,P.useEffect)(()=>{let e=e=>{f.current&&!f.current.contains(e.target)&&h(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);let g=e=>{let t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return`${t}/${n}/${r}`},x=(e,t)=>!!(e&&t&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()),y=e=>{let t,r,i,a=new Date(c,o,e);s(a),m(g(a)),n&&n((t=a.getFullYear(),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0"),`${t}-${r}-${i}`)),setTimeout(()=>h(!1),150)};return(0,A.jsxs)("div",{ref:f,className:`relative w-full ${i}`,id:`date-picker-component-${e}`,children:[(0,A.jsxs)("div",{className:"relative group",children:[(0,A.jsx)("input",{type:"text",id:e,readOnly:!0,value:p,onClick:()=>{if(h(!d),!d)if(a)l(a.getMonth()),u(a.getFullYear());else{let e=new Date;l(e.getMonth()),u(e.getFullYear())}},placeholder:r,className:"w-full pl-10 pr-3 py-2 bg-slate-950 border border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent cursor-pointer transition-all hover:bg-slate-900 font-medium text-slate-200 placeholder-slate-600 text-sm"}),(0,A.jsx)("div",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-slate-500 group-hover:text-blue-400 transition-colors",children:(0,A.jsx)("i",{className:"fas fa-calendar text-base"})})]}),d&&(0,A.jsxs)("div",{className:"absolute top-full left-0 mt-2 w-full bg-slate-900 border border-slate-700 rounded-xl shadow-2xl z-50 p-3 animate-fade-in",children:[(0,A.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,A.jsx)("button",{type:"button",onClick:()=>{l(e=>0===e?(u(e=>e-1),11):e-1)},className:"p-1 rounded-lg hover:bg-slate-800 text-slate-400 hover:text-blue-400 transition-colors",children:(0,A.jsx)("i",{className:"fas fa-chevron-left text-base"})}),(0,A.jsxs)("div",{className:"font-semibold text-slate-100 text-sm",children:[["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][o]," ",c]}),(0,A.jsx)("button",{type:"button",onClick:()=>{l(e=>11===e?(u(e=>e+1),0):e+1)},className:"p-1 rounded-lg hover:bg-slate-800 text-slate-400 hover:text-blue-400 transition-colors",children:(0,A.jsx)("i",{className:"fas fa-chevron-right text-base"})})]}),(0,A.jsxs)("div",{className:"grid grid-cols-7 mb-2 text-center",children:[(0,A.jsx)("div",{className:"text-xs font-semibold text-slate-500",children:"Do"}),(0,A.jsx)("div",{className:"text-xs font-semibold text-slate-500",children:"Lu"}),(0,A.jsx)("div",{className:"text-xs font-semibold text-slate-500",children:"Ma"}),(0,A.jsx)("div",{className:"text-xs font-semibold text-slate-500",children:"Mi"}),(0,A.jsx)("div",{className:"text-xs font-semibold text-slate-500",children:"Ju"}),(0,A.jsx)("div",{className:"text-xs font-semibold text-slate-500",children:"Vi"}),(0,A.jsx)("div",{className:"text-xs font-semibold text-slate-500",children:"Sa"})]}),(0,A.jsx)("div",{className:"grid grid-cols-7 gap-1",children:(()=>{let e=new Date(c,o,1).getDay(),t=new Date(c,o+1,0).getDate(),n=new Date(c,o,0).getDate(),r=[],i=new Date;for(let t=0;t<e;t++)r.push((0,A.jsx)("div",{className:"h-7 w-7 flex items-center justify-center text-slate-700 text-xs pointer-events-none",children:n-e+1+t},`prev-${t}`));for(let e=1;e<=t;e++){let t=new Date(c,o,e),n=x(t,i),s=x(t,a),l="h-7 w-7 rounded-full flex items-center justify-center text-xs font-medium transition-all duration-200 hover:bg-slate-800 hover:text-blue-400 focus:outline-none";s?l+=" bg-blue-600 text-white shadow-md hover:bg-blue-500 hover:text-white transform scale-105":n?l+=" text-blue-400 border border-blue-500/50 font-bold bg-blue-900/20":l+=" text-slate-300",r.push((0,A.jsx)("button",{type:"button",onClick:()=>y(e),className:l,children:e},e))}return r})()})]})]})}function H({account:e,onDelete:t,onEdit:n,getTransactions:r}){var i;let a,s,o,[l,c]=(0,P.useState)(!1),[u,d]=(0,P.useState)([]),[h,p]=(0,P.useState)(!1),[m,f]=(0,P.useState)(!1),g=(i=e.currency,a="bg-slate-800 text-slate-400",s="fa-wallet",o="border-slate-700",i&&("USD"===i?(a="bg-blue-500/20 text-blue-400",s="fa-dollar-sign",o="border-blue-500/30"):"VES"===i?(a="bg-indigo-500/20 text-indigo-400",s="fa-money-bill-wave",o="border-indigo-500/30"):"USDT"===i&&(a="bg-emerald-500/20 text-emerald-400",s="fa-coins",o="border-emerald-500/30")),{iconColor:a,icon:s,borderColor:o}),x=async()=>{if("ASSET"===e.type){p(!0);try{let t=await r(e.id,5);d(t)}catch(e){console.error("Failed to fetch transactions",e),d([])}finally{p(!1)}}};return(0,A.jsxs)("div",{className:`glass-panel p-3 border ${g.borderColor} rounded-xl shadow-sm hover:bg-slate-800 transition-colors`,children:[(0,A.jsxs)("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>{let t=!l;c(t),t&&"ASSET"===e.type&&x()},children:[(0,A.jsxs)("div",{className:"flex items-center gap-3",children:[(0,A.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${g.iconColor}`,children:(0,A.jsx)("i",{className:`fas ${g.icon}`})}),(0,A.jsxs)("div",{children:[(0,A.jsx)("h4",{className:"text-sm font-medium text-white mb-1",children:e.name}),(0,A.jsx)("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded bg-slate-700 text-slate-300",children:e.currency})]})]}),(0,A.jsx)("div",{className:"flex items-center gap-4",children:(0,A.jsxs)("span",{className:`font-bold text-lg ${0>Number(e.balance)?"text-rose-500":"text-white"}`,children:[F(e.currency)," ",B(Number(e.balance))]})})]}),l&&(0,A.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:[(0,A.jsxs)("div",{className:"flex justify-end gap-2 mb-4",children:[(0,A.jsx)("button",{onClick:t=>{t.stopPropagation(),n?.(e)},className:"w-8 h-8 rounded-md bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 hover:text-blue-300 flex items-center justify-center transition",title:"Editar cuenta",children:(0,A.jsx)("i",{className:"fas fa-pen text-sm"})}),(0,A.jsx)("button",{onClick:e=>{e.stopPropagation(),f(!0)},className:"w-8 h-8 rounded-md bg-red-500/20 text-red-400 hover:bg-red-500/30 hover:text-red-300 flex items-center justify-center transition",title:"Eliminar cuenta",children:(0,A.jsx)("i",{className:"fas fa-trash text-sm"})})]}),h?(0,A.jsx)("div",{className:"flex justify-center items-center py-4",children:(0,A.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-500"})}):u.length>0?(0,A.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,A.jsx)("h5",{className:"text-xs text-slate-400 font-bold uppercase mb-2",children:"Últimos Movimientos"}),u.map(t=>(0,A.jsxs)("div",{className:"flex justify-between items-center text-slate-300",children:[(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("span",{className:"text-slate-500 text-xs",children:new Date(t.date).toLocaleDateString()}),(0,A.jsx)("p",{children:t.description})]}),(0,A.jsxs)("span",{className:`${"INCOME"===t.type?"text-emerald-400":"text-rose-400"}`,children:["INCOME"===t.type?"+":"-",F(e.currency)," ",B(Number(t.amount))]})]},t.id))]}):(0,A.jsx)("p",{className:"text-center text-slate-500 text-sm py-4",children:"No hay transacciones recientes."})]}),m&&(0,A.jsx)($,{isOpen:m,onClose:()=>f(!1),onConfirm:()=>t(e.id),title:"Eliminar Cuenta",message:`\xbfEst\xe1s seguro de que quieres eliminar la cuenta "${e.name}"? Esta acci\xf3n no se puede deshacer.`,confirmText:"Sí, eliminar"})]})}function Y({isOpen:e,onClose:t,title:n,children:r}){return((0,P.useEffect)(()=>{let n=n=>{"Escape"===n.key&&e&&t()};return e&&(document.addEventListener("keydown",n),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",n),document.body.style.overflow="unset"}},[e,t]),e)?(0,A.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center",children:[(0,A.jsx)("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:t}),(0,A.jsxs)("div",{className:"relative w-full sm:max-w-md glass-panel rounded-t-[2rem] sm:rounded-[2rem] p-6 shadow-2xl border-t sm:border border-white/10 transform transition-all animate-slide-up",children:[(0,A.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,A.jsx)("h3",{className:"text-xl font-bold text-white",children:n}),(0,A.jsx)("button",{onClick:t,className:"w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center text-slate-400 hover:text-white transition",children:(0,A.jsx)("i",{className:"fas fa-times"})})]}),r]})]}):null}let W=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))});function q({isOpen:e,onClose:t,type:n,accounts:r,buckets:i,rates:a,onSave:s,onRequestSettle:o}){let[l,c]=(0,P.useState)(""),[u,d]=(0,P.useState)(""),[h,p]=(0,P.useState)(""),[m,f]=(0,P.useState)(""),[g,x]=(0,P.useState)(!1),[y,v]=(0,P.useState)(null);(0,P.useEffect)(()=>{e&&(c(""),f(""),p(""),v(null),r.length>0&&!u&&d(r[0].id))},[e,r,u]),(0,P.useEffect)(()=>{if(!l||!u||!h)return void v(null);let e=r.find(e=>String(e.id)===u),t=i.find(e=>String(e.id)===h);if(!e||!t||e.currency===t.currency)return void v(null);let n=parseFloat(l);if(isNaN(n))return;let s=n;"USD"===e.currency?s=n*a.USD:"USDT"===e.currency&&(s=n*a.USDT);let o=s;"USD"===t.currency?o=s/a.USD:"USDT"===t.currency?o=s/a.USDT:"VES"===t.currency&&(o=s),v(o.toFixed(2))},[l,u,h,r,i,a]);let b=async()=>{if(l&&u&&m.trim()){x(!0);try{await s(parseFloat(l),parseInt(u),h?parseInt(h):null,m,y?parseFloat(y):void 0),t()}catch(e){console.error(e),alert("Error al guardar la transacción")}finally{x(!1)}}},w=r.find(e=>e.id===u),S=w?F(w.currency):"$";return(0,A.jsx)(Y,{isOpen:e,onClose:t,title:"INCOME"===n?"Registrar Ingreso":"Registrar Gasto",children:(0,A.jsxs)("div",{className:"space-y-4",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1 ml-1",children:"Cuenta"}),(0,A.jsx)("select",{value:u,onChange:e=>d(e.target.value),className:"w-full input-modern p-3 rounded-xl text-white bg-slate-800 border border-slate-700 focus:border-indigo-500",children:r.map(e=>(0,A.jsxs)("option",{value:e.id,children:[e.name," (",F(e.currency)," ",B(Number(e.balance)),")"]},e.id))})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1 ml-1",children:"Monto"}),(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsxs)("div",{className:"relative flex-1",children:[(0,A.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:S}),(0,A.jsx)("input",{type:"number",value:l,onChange:e=>c(e.target.value),placeholder:"0.00",step:"0.01",className:"w-full input-modern p-3 pl-10 rounded-xl text-white placeholder-slate-600 font-mono text-lg"})]}),o&&(0,A.jsx)("button",{onClick:o,className:"bg-slate-700 hover:bg-slate-600 text-indigo-400 p-3 rounded-xl transition flex items-center justify-center border border-slate-600",title:"Pagar Deuda / Cobrar Préstamo",children:(0,A.jsx)(W,{className:"w-6 h-6"})})]}),y&&(0,A.jsxs)("div",{className:"mt-2 text-xs text-indigo-300 bg-indigo-500/10 p-2 rounded-lg border border-indigo-500/20",children:["Se usaran ",F(i.find(e=>String(e.id)===h)?.currency||"USD")," ",B(parseFloat(y))," del bucket."]})]}),(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:"flex justify-between mb-1 ml-1",children:[(0,A.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase",children:"Descripción"}),(0,A.jsx)("div",{className:"flex gap-2",children:["Comida","Pasaje","Cashea","Servicios","Ocio"].map(e=>(0,A.jsx)("button",{onClick:()=>f(e),className:"text-[10px] bg-slate-700 hover:bg-slate-600 text-slate-300 px-2 py-0.5 rounded transition",children:e},e))})]}),(0,A.jsx)("input",{type:"text",value:m,onChange:e=>f(e.target.value),placeholder:"Descripción del movimiento...",className:"w-full input-modern p-3 rounded-xl text-white placeholder-slate-600"})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1 ml-1",children:"Bucket (Opcional)"}),(0,A.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"w-full input-modern p-3 rounded-xl text-white bg-slate-800 border border-slate-700 focus:border-indigo-500",children:[(0,A.jsx)("option",{value:"",children:"Sin Bucket"}),i.map(e=>(0,A.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,A.jsx)("button",{onClick:b,disabled:!l||!u||!m.trim()||g,className:`w-full font-bold py-4 rounded-2xl shadow-lg transition transform active:scale-95 disabled:opacity-50 ${"INCOME"===n?"bg-emerald-600 hover:bg-emerald-500 shadow-emerald-600/20 text-white":"bg-rose-600 hover:bg-rose-500 shadow-rose-600/20 text-white"}`,children:g?"Guardando...":"INCOME"===n?"Registrar Ingreso":"Registrar Gasto"})]})})}let G=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}),K=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))});function X({isOpen:e,onClose:t,account:n,assetAccounts:r,liabilityAccounts:i=[],receivableAccounts:a=[],onSettle:s,rates:o={USD:1,USDT:1}}){let[l,c]=(0,P.useState)(""),[u,d]=(0,P.useState)(""),[h,p]=(0,P.useState)(""),[m,f]=(0,P.useState)(""),[g,x]=(0,P.useState)("SOURCE"),[y,v]=(0,P.useState)("LIABILITY"),[b,w]=(0,P.useState)(""),[S,j]=(0,P.useState)(!1),E=n||(b?("LIABILITY"===y?i:a).find(e=>String(e.id)===b):null),N=r.find(e=>String(e.id)===m),k=N&&E&&N.currency!==E.currency,C=N?.currency,T=E?.currency;(0,P.useEffect)(()=>{e&&(d(""),p(""),x("SOURCE"),n?(v("LIABILITY"===n.type?"LIABILITY":"RECEIVABLE"),w(String(n.id))):(v("LIABILITY"),w("")),r.length>0&&f(String(r[0].id)))},[e,n,r]),(0,P.useEffect)(()=>{if(k){let e=1;"VES"===C&&"USD"===T||"USD"===C&&"VES"===T?e=o.USD:"VES"===C&&"USDT"===T?e=o.USDT:"USDT"===C&&"VES"===T&&(e=o.USDT),p(String(e))}},[k,C,T,o]);let D="LIABILITY"===(n?n.type:y),{sVal:M,tVal:I}=(()=>{let e=parseFloat(u),t=parseFloat(h);if(!e)return{sVal:0,tVal:0};if(!k)return{sVal:e,tVal:e};if(!t||isNaN(t))return{sVal:0,tVal:0};let n="VES"===C,r="VES"===T;if(n&&!r)if("SOURCE"===g)return{sVal:e,tVal:e/t};else return{sVal:e*t,tVal:e};if(!n&&r)if("SOURCE"===g)return{sVal:e,tVal:e*t};else return{sVal:e/t,tVal:e};return"SOURCE"===g?{sVal:e,tVal:e*t}:{sVal:e/t,tVal:e}})(),L=async()=>{if(u&&m&&E&&(!k||h)){j(!0);try{let e=D?`Pago de deuda: ${E.name}`:`Cobro de pr\xe9stamo: ${E.name}`;await s(M,parseInt(m),Number(E.id),e,D?"LIABILITY":"RECEIVABLE",I),t()}catch(e){console.error(e),alert("Error al registrar la operación")}finally{j(!1)}}},O=e=>{v(e),w(""),d("")};return(0,A.jsx)(Y,{isOpen:e,onClose:t,title:D?"Registrar Pago de Deuda":"Registrar Cobro de Préstamo",children:(0,A.jsxs)("div",{className:"space-y-6",children:[!n&&(0,A.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50 mb-4",children:[(0,A.jsxs)("div",{className:"flex gap-2 mb-4 p-1 bg-slate-900 rounded-lg",children:[(0,A.jsx)("button",{onClick:()=>O("LIABILITY"),className:`flex-1 py-2 text-xs font-bold rounded-md transition ${"LIABILITY"===y?"bg-rose-600 text-white":"text-slate-400 hover:text-white"}`,children:"Pagar Deuda"}),(0,A.jsx)("button",{onClick:()=>O("RECEIVABLE"),className:`flex-1 py-2 text-xs font-bold rounded-md transition ${"RECEIVABLE"===y?"bg-emerald-600 text-white":"text-slate-400 hover:text-white"}`,children:"Cobrar Préstamo"})]}),(0,A.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2 ml-1",children:D?"Deuda a Pagar":"Préstamo a Cobrar"}),(0,A.jsxs)("select",{value:b,onChange:e=>{w(e.target.value),d("")},className:"w-full input-modern p-3 rounded-xl text-white bg-slate-800 border border-slate-700 focus:border-indigo-500",children:[(0,A.jsx)("option",{value:"",children:"Seleccionar..."}),("LIABILITY"===y?i:a).map(e=>(0,A.jsxs)("option",{value:e.id,children:[e.name," (Pendiente: ",F(e.currency)," ",B(Math.abs(Number(e.balance))),")"]},e.id))]})]}),E&&(0,A.jsxs)("div",{className:"text-center",children:[n&&(0,A.jsx)("p",{className:"text-sm text-slate-400 mb-1",children:D?"Deuda con":"Deudor"}),n&&(0,A.jsx)("h4",{className:"text-xl font-bold text-white mb-2",children:E.name}),(0,A.jsxs)("p",{className:`font-mono font-bold ${D?"text-rose-400":"text-emerald-400"}`,children:["Saldo Pendiente: ",F(E.currency)," ",B(Math.abs(Number(E.balance)))]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2 ml-1",children:D?"Pagar desde (Origen)":"Depositar en (Destino)"}),(0,A.jsx)("select",{value:m,onChange:e=>f(e.target.value),className:"w-full input-modern p-3 rounded-xl text-white bg-slate-800 border border-slate-700 focus:border-indigo-500",children:r.map(e=>(0,A.jsxs)("option",{value:e.id,children:[e.name," (",F(e.currency)," ",B(Number(e.balance)),")"]},e.id))})]}),(0,A.jsx)("div",{className:"flex justify-center -my-3",children:(0,A.jsx)(G,{className:"w-5 h-5 text-slate-600"})}),(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:"flex justify-between ml-1 mb-1",children:[(0,A.jsxs)("label",{className:"block text-xs font-bold text-slate-500 uppercase",children:["Monto a pagar (","SOURCE"===g?C||"$":T||"$",")"]}),k&&(0,A.jsxs)("button",{onClick:()=>x(e=>"SOURCE"===e?"TARGET":"SOURCE"),className:"text-[10px] font-bold text-indigo-400 hover:text-indigo-300 flex items-center gap-1 bg-indigo-500/10 px-2 py-0.5 rounded transition",children:[(0,A.jsx)(K,{className:"w-3 h-3"}),"Cambiar a ","SOURCE"===g?T:C]})]}),(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:"SOURCE"===g?C?F(C):"$":T?F(T):"$"}),(0,A.jsx)("input",{type:"number",value:u,onChange:e=>d(e.target.value),placeholder:"0.00",step:"0.01",className:"w-full input-modern p-3 pl-10 rounded-xl text-white placeholder-slate-600 font-mono text-lg"})]})]}),k&&(0,A.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-dashed border-slate-700 space-y-3",children:[(0,A.jsxs)("div",{className:"flex justify-between items-center",children:[(0,A.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Tasa de Cambio"}),(0,A.jsx)("span",{className:"text-[10px] text-indigo-400 bg-indigo-500/10 px-2 py-0.5 rounded",children:"Conversion"})]}),(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("input",{type:"number",value:h,onChange:e=>p(e.target.value),step:"0.01",className:"w-full bg-slate-900 border border-slate-600 rounded-lg py-2 px-3 text-right font-mono text-white focus:border-indigo-500 outline-none",placeholder:"Tasa..."}),(0,A.jsx)("span",{className:"text-xs font-mono text-slate-500",children:"VES"===C||"VES"===T?"Bs":""})]}),(0,A.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-slate-700/50",children:[(0,A.jsx)("span",{className:"text-xs text-slate-500",children:"SOURCE"===g?"Se abonará a la deuda:":"Se pagará desde el origen:"}),(0,A.jsx)("span",{className:`font-mono font-bold ${D?"text-rose-400":"text-emerald-400"}`,children:"SOURCE"===g?`${T?F(T):""} ${B(I)}`:`${C?F(C):""} ${B(M)}`})]})]}),(0,A.jsx)("button",{onClick:L,disabled:!u||!m||!E||k&&!h||S,className:`w-full font-bold py-4 rounded-2xl shadow-lg transition transform active:scale-95 disabled:opacity-50 text-white ${D?"bg-rose-600 hover:bg-rose-500 shadow-rose-600/20":"bg-emerald-600 hover:bg-emerald-500 shadow-emerald-600/20"}`,children:S?"Procesando...":D?"Confirmar Pago":"Confirmar Cobro"})]})})}function Z({currency:e,rate:t,loading:n,onFetchRate:r,onRateChange:i}){let[a,s]=(0,P.useState)(String(t));(0,P.useEffect)(()=>{s(String(t))},[t]);let o=()=>{let e=parseFloat(a);isNaN(e)?s(String(t)):i(e)},l="USD"===e?"text-indigo-400":"text-emerald-400";return(0,A.jsxs)("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 shadow-lg shadow-black/20",children:[(0,A.jsx)("span",{className:"text-slate-400 font-semibold",children:e}),(0,A.jsx)("div",{className:"h-3 w-[1px] bg-slate-700"}),(0,A.jsx)("div",{className:"h-3 w-[1px] bg-slate-700"}),(0,A.jsx)("input",{type:"number",value:a,onChange:e=>s(e.target.value),onBlur:o,onKeyDown:e=>"Enter"===e.key&&o(),className:`w-16 bg-transparent text-right font-mono ${l} outline-none placeholder-slate-600`,placeholder:"0.00",step:"0.01"}),(0,A.jsx)("button",{onClick:r,disabled:n,className:`${l} hover:text-white transition-colors disabled:opacity-50`,children:(0,A.jsx)("i",{className:`fas fa-sync-alt text-[10px] ${n?"animate-spin":""}`})})]})}let J=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}),Q=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});function ee({accounts:e,onCreateAccount:t,onUpdateAccount:n,onDeleteAccount:r,getTransactionsByAccount:i,buckets:a=[],onAddTransaction:s,rates:o={USD:1,USDT:1},loadingRates:l={USD:!1,USDT:!1},onFetchUsdRate:c,onFetchUsdtRate:u,onSetRate:d}){let h,p,m,f,g,x,y,v,b,w,S,j,[E,N]=(0,P.useState)({ASSET:!1,RECEIVABLE:!1,LIABILITY:!1}),[k,C]=(0,P.useState)("USD"),[T,D]=(0,P.useState)({ASSET:{name:"",init:"",currency:"USD"},RECEIVABLE:{name:"",init:"",currency:"USD",startDate:"",dueDate:""},LIABILITY:{name:"",init:"",currency:"USD",startDate:"",dueDate:""}}),[M,I]=(0,P.useState)(!1),[L,O]=(0,P.useState)(!1),[_,W]=(0,P.useState)(null),[G,K]=(0,P.useState)({name:"",balance:"",currency:"USD"}),[ee,et]=(0,P.useState)(null),[en,er]=(0,P.useState)(""),[ei,ea]=(0,P.useState)(""),[es,eo]=(0,P.useState)(null),[el,ec]=(0,P.useState)(!1),[eu,ed]=(0,P.useState)(!1),[eh,ep]=(0,P.useState)(!1),em=e.filter(e=>"ASSET"===e.type),ef=[...em].sort((e,t)=>{let n=e=>{let t=Number(e.balance);return"USD"===e.currency||"USDT"===e.currency?t:"VES"===e.currency?t/(o.USD||1):t};return n(t)-n(e)}),eg=e.filter(e=>"RECEIVABLE"===e.type),ex=eg.filter(e=>Math.abs(Number(e.balance))>.01),ey=eg.filter(e=>.01>=Math.abs(Number(e.balance))),ev=el?ey:ex,eb=e.filter(e=>"LIABILITY"===e.type),ew=eb.filter(e=>Math.abs(Number(e.balance))>.01),eS=eb.filter(e=>.01>=Math.abs(Number(e.balance))),ej=eu?eS:ew,[eE,eN]=(0,P.useState)(!1),[ek,eC]=(0,P.useState)(null),[eT,eD]=(0,P.useState)({name:"",balance:"",currency:"USD",startDate:"",dueDate:""}),[eA,eP]=(0,P.useState)(null),[eM,eI]=(0,P.useState)(!1),[eL,eO]=(0,P.useState)(null),[eR,eV]=(0,P.useState)({name:"",balance:"",currency:"USD",startDate:"",dueDate:""}),[eU,eF]=(0,P.useState)(!1),[eB,e_]=(0,P.useState)(null),[e$,ez]=(0,P.useState)(!1),[eH,eY]=(0,P.useState)("INCOME"),[eW,eq]=(0,P.useState)(!1),[eG,eK]=(0,P.useState)(""),[eX,eZ]=(0,P.useState)(""),[eJ,eQ]=(0,P.useState)(""),[e0,e1]=(0,P.useState)(""),[e2,e5]=(0,P.useState)("SOURCE"),[e4,e3]=(0,P.useState)({USD:String(o.USD),USDT:String(o.USDT)});(0,P.useEffect)(()=>{e3({USD:String(o.USD),USDT:String(o.USDT)})},[o]);let e6=e=>{N(t=>({...t,[e]:!t[e]}))},e8=async e=>{let n=T[e];if(n.name.trim()){I(!0);try{await t(n.name,e,n.currency,parseFloat(n.init)||0,n.startDate||null,n.dueDate||null),D(t=>({...t,[e]:"ASSET"===e?{name:"",init:"",currency:"USD"}:{name:"",init:"",currency:"USD",startDate:"",dueDate:""}}))}catch(e){console.error(e)}finally{I(!1)}}},e7=async e=>{I(!0);try{await r(e)}catch(e){console.error(e)}finally{I(!1)}},e9=(e,t,n)=>{D(r=>({...r,[e]:{...r[e],[t]:n}}))},te=async()=>{if(_&&G.name.trim()&&n){I(!0);try{await n(_.id,{name:G.name,balance:parseFloat(G.balance)||_.balance,currency:G.currency}),O(!1),W(null),K({name:"",balance:"",currency:"USD"})}catch(e){console.error(e),alert("Error al actualizar la cuenta")}finally{I(!1)}}},tt=e=>e?new Date(e).toISOString().split("T")[0]:null,tn=e=>{if(!e)return null;let t=new Date(e);return new Date(t.getTime()+6e4*t.getTimezoneOffset()).toLocaleDateString()},tr=async()=>{if(ek&&eT.name.trim()&&n){I(!0);try{await n(ek.id,{name:eT.name,balance:parseFloat(eT.balance)||ek.balance,currency:eT.currency,start_date:tt(eT.startDate),due_date:tt(eT.dueDate)}),eN(!1),eC(null),eD({name:"",balance:"",currency:"USD",startDate:"",dueDate:""})}catch(e){console.error(e),alert("Error al actualizar el préstamo")}finally{I(!1)}}},ti=async()=>{if(eL&&eR.name.trim()&&n){I(!0);try{await n(eL.id,{name:eR.name,balance:parseFloat(eR.balance)||eL.balance,currency:eR.currency,start_date:tt(eR.startDate),due_date:tt(eR.dueDate)}),eI(!1),eO(null),eV({name:"",balance:"",currency:"USD",startDate:"",dueDate:""})}catch(e){console.error(e),alert("Error al actualizar la deuda")}finally{I(!1)}}},ta=async(e,t,n,r)=>{s&&await s(e,eH,t,n,r)};(0,P.useEffect)(()=>{if(eW&&eG&&eX){eJ||e5("SOURCE");let t=e.find(e=>String(e.id)===eG),n=e.find(e=>String(e.id)===eX);if(t&&n&&t.currency!==n.currency){let e=t.currency,r=n.currency,i=1;"VES"===e&&"USD"===r||"USD"===e&&"VES"===r?i=o.USD:"VES"===e&&"USDT"===r||"USDT"===e&&"VES"===r?i=o.USDT:"USD"===e&&"USDT"===r?i=1:"USDT"===e&&"USD"===r&&(i=1),e1(String(i))}else e1("1")}},[eG,eX,eW,o]);let{sVal:ts,tVal:to}=(()=>{let t=parseFloat(eJ),n=parseFloat(e0);if(!t)return{sVal:0,tVal:0};let r=e.find(e=>String(e.id)===eG),i=e.find(e=>String(e.id)===eX);if(!r||!i)return{sVal:0,tVal:0};let a=r.currency,s=i.currency;if(a===s)return{sVal:t,tVal:t};if(!n||isNaN(n))return{sVal:0,tVal:0};let o="VES"===a,l="VES"===s;if(o&&!l)if("SOURCE"===e2)return{sVal:t,tVal:t/n};else return{sVal:t*n,tVal:t};if(!o&&l)if("SOURCE"===e2)return{sVal:t,tVal:t*n};else return{sVal:t/n,tVal:t};return"SOURCE"===e2?{sVal:t,tVal:t*n}:{sVal:t/n,tVal:t}})(),tl=Number(to.toFixed(2)),tc=async()=>{if(!s||!eG||!eX||!eJ)return;let t=e.find(e=>String(e.id)===eG),n=e.find(e=>String(e.id)===eX);if(t&&n){if(isNaN(ts)||ts<=0)return void alert("Monto inválido");if(t.currency!==n.currency&&(!parseFloat(e0)||isNaN(parseFloat(e0))))return void alert("Tasa de cambio inválida");if(isNaN(tl)||tl<=0)return void alert("Error en cálculo de conversión");I(!0);try{await s(ts,"TRANSFER_OUT",Number(eG),null,`Transferencia enviada a ${n.name}`),await s(tl,"TRANSFER_IN",Number(eX),null,`Transferencia recibida de ${t.name}`),eq(!1),eQ(""),eK(""),eZ(""),e5("SOURCE")}catch(e){console.error(e),alert("Error al realizar la transferencia")}finally{I(!1)}}},tu=async(e,t,n,r,i,a)=>{if(!s)return;if(t===n)return void alert("No se puede utilizar la misma cuenta de origen y destino.");let o=void 0!==a?a:e;I(!0),console.log("handleSettle Called:",{amount:e,tAmount:o,sourceAccountId:t,targetAccountId:n,type:i});try{if("LIABILITY"===i){let i=`${r}`;console.log("Tx 1 (Source Bank):",{amount:e,type:"EXPENSE",accountId:t,desc:i}),await s(e,"EXPENSE",t,null,i);let a="Ajuste de Deuda (Pago Realizado)";console.log("Tx 2 (Target Debt):",{amount:o,type:"EXPENSE",accountId:n,desc:a}),await s(o,"EXPENSE",n,null,a)}else{let i=`Ajuste de Pr\xe9stamo (Cobro Realizado)`;console.log("Tx 1 (Target Loan):",{amount:o,type:"EXPENSE",accountId:n,desc:i}),await s(o,"EXPENSE",n,null,i);let a=`${r}`;console.log("Tx 2 (Source Bank):",{amount:e,type:"INCOME",accountId:t,desc:a}),await s(e,"INCOME",t,null,a)}eF(!1),e_(null)}catch(e){console.error(e),alert("Error al registrar operación")}finally{I(!1)}},td=(e,t)=>{let n="bg-slate-800 text-slate-400",r="fa-wallet",i="border-slate-700";return"ASSET"===e&&t?"USD"===t?(n="bg-blue-500/20 text-blue-400",r="fa-dollar-sign",i="border-blue-500/30"):"VES"===t?(n="bg-indigo-500/20 text-indigo-400",r="fa-money-bill-wave",i="border-indigo-500/30"):"USDT"===t&&(n="bg-emerald-500/20 text-emerald-400",r="fa-coins",i="border-emerald-500/30"):"LIABILITY"===e?(n="bg-rose-500/20 text-rose-400",r="fa-file-invoice-dollar",i="border-rose-500/30"):"RECEIVABLE"===e&&(n="bg-emerald-500/20 text-emerald-400",r="fa-hand-holding-dollar",i="border-emerald-500/30"),{iconColor:n,icon:r,borderColor:i}},th=(h=0,p=0,m=0,e.forEach(e=>{let t=((e,t)=>{if(t===k)return e;if("VES"===t){if("USD"===k)return e/o.USD;if("USDT"===k)return e/o.USDT}if("USD"===t){if("VES"===k)return e*o.USD;if("USDT"===k)return e*o.USD/o.USDT}if("USDT"===t){if("VES"===k)return e*o.USDT;if("USD"===k)return e*o.USDT/o.USD}return e})(Number(e.balance),e.currency);"ASSET"===e.type?h+=t:"RECEIVABLE"===e.type?p+=Math.abs(t):"LIABILITY"===e.type&&(m+=Math.abs(t))}),f=h+p-m,{assets:h,receivables:p,liabilities:m,equity:f});return(0,A.jsxs)("div",{id:"view-home",className:"space-y-6 animate-fade-in",children:[(0,A.jsxs)("div",{className:"flex gap-3 justify-center text-xs",children:[(0,A.jsx)(Z,{currency:"USD",rate:o.USD,loading:l.USD,onFetchRate:c||(()=>{}),onRateChange:e=>d&&d("USD",e)}),(0,A.jsx)(Z,{currency:"USDT",rate:o.USDT,loading:l.USDT,onFetchRate:u||(()=>{}),onRateChange:e=>d&&d("USDT",e)})]}),(0,A.jsxs)("section",{className:"relative overflow-hidden rounded-[2rem] bg-gradient-to-br from-[#2e2a5b] to-[#0f172a] p-6 shadow-2xl border border-white/10 group",children:[(0,A.jsx)("div",{className:"absolute top-0 right-0 -mr-10 -mt-10 w-40 h-40 bg-indigo-500 rounded-full opacity-10 blur-3xl group-hover:opacity-20 transition duration-700"}),(0,A.jsx)("div",{className:"absolute bottom-0 left-0 -ml-10 -mb-10 w-40 h-40 bg-blue-500 rounded-full opacity-5 blur-3xl"}),(0,A.jsxs)("div",{className:"flex justify-between items-start mb-2 relative z-10",children:[(0,A.jsx)("p",{className:"text-indigo-200/70 text-xs font-medium uppercase tracking-wider",children:"Patrimonio Neto"}),(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsxs)("select",{value:k,onChange:e=>C(e.target.value),className:"appearance-none bg-black/20 text-white text-[10px] font-bold uppercase rounded-lg py-1 px-3 pr-6 focus:outline-none cursor-pointer border border-white/10 hover:bg-black/30 transition-colors",children:[(0,A.jsx)("option",{value:"USD",className:"bg-slate-900",children:"USD"}),(0,A.jsx)("option",{value:"VES",className:"bg-slate-900",children:"VES"}),(0,A.jsx)("option",{value:"USDT",className:"bg-slate-900",children:"USDT"})]}),(0,A.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-indigo-300",children:(0,A.jsx)("i",{className:"fas fa-chevron-down text-[8px]"})})]})]}),(0,A.jsxs)("h2",{className:"text-4xl font-mono font-bold text-white mb-6 relative z-10 tracking-tight",children:[F(k),B(th.equity)]}),(0,A.jsxs)("div",{className:"grid grid-cols-3 gap-2 border-t border-white/10 pt-4 relative z-10",children:[(0,A.jsxs)("div",{className:"text-center",children:[(0,A.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1 text-emerald-400/80",children:[(0,A.jsx)("i",{className:"fas fa-arrow-up text-[10px]"}),(0,A.jsx)("p",{className:"text-[9px] uppercase tracking-wide font-bold",children:"Activos"})]}),(0,A.jsxs)("p",{className:"font-mono font-medium text-white text-xs",children:[F(k),B(th.assets)]})]}),(0,A.jsxs)("div",{className:"text-center border-l border-white/5",children:[(0,A.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1 text-blue-400/80",children:[(0,A.jsx)("i",{className:"far fa-clock text-[10px]"}),(0,A.jsx)("p",{className:"text-[9px] uppercase tracking-wide font-bold",children:"Cobrar"})]}),(0,A.jsxs)("p",{className:"font-mono font-medium text-white text-xs",children:[F(k),B(th.receivables)]})]}),(0,A.jsxs)("div",{className:"text-center border-l border-white/5",children:[(0,A.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1 text-rose-400/80",children:[(0,A.jsx)("i",{className:"fas fa-arrow-down text-[10px]"}),(0,A.jsx)("p",{className:"text-[9px] uppercase tracking-wide font-bold",children:"Deudas"})]}),(0,A.jsxs)("p",{className:"font-mono font-medium text-white text-xs",children:[F(k),B(th.liabilities)]})]})]})]}),(0,A.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,A.jsxs)(U,{variant:"success",className:"!rounded-2xl !p-4 flex-col items-center justify-center gap-2 h-auto",onClick:()=>{eY("INCOME"),ez(!0)},children:[(0,A.jsx)("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:(0,A.jsx)("i",{className:"fas fa-plus text-white text-sm"})}),(0,A.jsx)("span",{className:"text-[10px] font-medium text-white/90",children:"Ingreso"})]}),(0,A.jsxs)(U,{variant:"danger",className:"!rounded-2xl !p-4 flex-col items-center justify-center gap-2 h-auto",onClick:()=>{eY("EXPENSE"),ez(!0)},children:[(0,A.jsx)("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:(0,A.jsx)("i",{className:"fas fa-minus text-white text-sm"})}),(0,A.jsx)("span",{className:"text-[10px] font-medium text-white/90",children:"Gasto"})]}),(0,A.jsxs)(U,{variant:"primary",className:"!rounded-2xl !p-4 flex-col items-center justify-center gap-2 h-auto bg-slate-800/50 hover:bg-slate-700/50 border border-slate-700/50",onClick:()=>eq(!0),children:[(0,A.jsx)("div",{className:"w-10 h-10 rounded-full bg-indigo-500/90 flex items-center justify-center group-hover:bg-indigo-500/20 transition",children:(0,A.jsx)("i",{className:"fas fa-exchange-alt text-white text-sm"})}),(0,A.jsx)("span",{className:"text-[10px] font-medium text-white/90",children:"Mover"})]})]}),(0,A.jsxs)("section",{className:"space-y-3",children:[(0,A.jsxs)("div",{className:"flex justify-between items-end px-1",children:[(0,A.jsx)("h3",{className:"font-bold text-white text-sm",children:"Cuentas"}),(0,A.jsx)("button",{onClick:()=>e6("ASSET"),className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center shadow-lg shadow-indigo-600/20 hover:scale-105 transition",children:(0,A.jsx)("i",{className:"fas fa-plus text-sm"})})]}),(0,A.jsx)("div",{className:"space-y-3",children:0===em.length?(0,A.jsx)("p",{className:"text-center text-slate-500 py-4 text-sm",children:"No hay cuentas"}):(0,A.jsxs)(A.Fragment,{children:[ef.slice(0,eh?void 0:3).map(e=>(0,A.jsx)(H,{account:e,onDelete:e7,onEdit:e=>{W(e),K({name:e.name,balance:String(e.balance),currency:e.currency}),O(!0)},getTransactions:i},e.id)),em.length>3&&(0,A.jsx)("button",{onClick:()=>ep(!eh),className:"w-full py-2 text-xs font-bold text-slate-500 hover:text-white hover:bg-slate-800 rounded-xl transition flex items-center justify-center gap-2",children:eh?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("i",{className:"fas fa-chevron-up"})," Ver menos"]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("i",{className:"fas fa-chevron-down"})," Ver más (",em.length-3,")"]})})]})})]}),(0,A.jsxs)("section",{className:"space-y-3",children:[(0,A.jsxs)("div",{className:"flex justify-between items-end px-1",children:[(0,A.jsxs)("h3",{className:"font-bold text-white text-sm",children:["Préstamos ",el&&"(Archivados)"]}),(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsx)("button",{onClick:()=>ec(!el),className:`w-8 h-8 rounded-full flex items-center justify-center transition ${el?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-slate-800 text-slate-500 hover:text-white hover:bg-slate-700"}`,title:el?"Ver Activos":"Ver Archivados (Pagados)",children:(0,A.jsx)(V,{className:"w-4 h-4"})}),(0,A.jsx)("button",{onClick:()=>e6("RECEIVABLE"),className:"w-8 h-8 rounded-full bg-emerald-600 text-white flex items-center justify-center shadow-lg shadow-emerald-600/20 hover:scale-105 transition",children:(0,A.jsx)("i",{className:"fas fa-plus text-sm"})})]})]}),(0,A.jsx)("div",{className:"space-y-3",children:0===ev.length?(0,A.jsx)("p",{className:"text-center text-slate-500 py-4 text-sm",children:"No hay préstamos"}):ev.map(e=>{let t=td("RECEIVABLE"),n=es===e.id;return(0,A.jsxs)("div",{className:`glass-panel p-3 border ${t.borderColor} rounded-xl shadow-sm hover:bg-slate-800 transition-colors`,children:[(0,A.jsxs)("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>eo(n?null:e.id),children:[(0,A.jsxs)("div",{className:"flex items-center gap-3",children:[(0,A.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${t.iconColor}`,children:(0,A.jsx)("i",{className:`fas ${t.icon}`})}),(0,A.jsxs)("div",{children:[(0,A.jsx)("h4",{className:"text-sm font-medium text-white mb-1",children:e.name}),(0,A.jsxs)("div",{className:"flex flex-col gap-1 items-start",children:[(0,A.jsx)("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded bg-slate-700 text-slate-300",children:e.currency}),(0,A.jsxs)("div",{className:"text-[10px] text-slate-400 mt-0.5 flex gap-2",children:[e.start_date&&(0,A.jsxs)("span",{children:[(0,A.jsx)("i",{className:"fas fa-calendar-check mr-1"}),tn(e.start_date)]}),e.due_date&&(0,A.jsxs)("span",{children:[(0,A.jsx)("i",{className:"fas fa-flag-checkered mr-1"}),tn(e.due_date)]})]})]})]})]}),(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsxs)("span",{className:`font-bold text-lg ${0>Number(e.balance)?"text-rose-500":"text-emerald-400"}`,children:[F(e.currency)," ",B(Number(e.balance))]}),(0,A.jsx)("button",{onClick:t=>{t.stopPropagation(),e_({account:e,type:"RECEIVABLE"}),eF(!0)},className:"w-8 h-8 rounded-full bg-emerald-500/20 text-emerald-400 flex items-center justify-center hover:bg-emerald-500/30 transition ml-2 backdrop-blur-sm",title:"Registrar Cobro",children:(0,A.jsx)(Q,{className:"w-5 h-5"})})]})]}),n&&(0,A.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:[(0,A.jsxs)("div",{className:"mb-4 text-xs space-y-2",children:[(0,A.jsxs)("div",{className:"flex justify-between items-center bg-slate-800/50 px-3 py-2 rounded-lg",children:[(0,A.jsx)("span",{className:"text-slate-400",children:"Inicio"}),(0,A.jsx)("span",{className:"text-slate-200 font-mono",children:tn(e.start_date)||"-"})]}),e.due_date&&(0,A.jsxs)("div",{className:"flex justify-between items-center bg-slate-800/50 px-3 py-2 rounded-lg border border-slate-700/50",children:[(0,A.jsx)("span",{className:"text-slate-400",children:"Vencimiento"}),(0,A.jsx)("span",{className:"text-orange-300 font-mono",children:tn(e.due_date)})]})]}),(0,A.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,A.jsx)("button",{onClick:t=>{t.stopPropagation(),eC(e),eD({name:e.name,balance:String(e.balance),currency:e.currency,startDate:e.start_date||"",dueDate:e.due_date||""}),eN(!0)},className:"w-8 h-8 rounded-md bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 hover:text-blue-300 flex items-center justify-center transition",title:"Editar préstamo",children:(0,A.jsx)("i",{className:"fas fa-pen text-sm"})}),(0,A.jsx)("button",{onClick:t=>{t.stopPropagation(),et(e.id),ea(e.name),er("Préstamo")},className:"w-8 h-8 rounded-md bg-red-500/20 text-red-400 hover:bg-red-500/30 hover:text-red-300 flex items-center justify-center transition",title:"Eliminar préstamo",children:(0,A.jsx)("i",{className:"fas fa-trash text-sm"})})]})]})]},e.id)})})]}),(0,A.jsxs)("section",{className:"space-y-3",children:[(0,A.jsxs)("div",{className:"flex justify-between items-end px-1",children:[(0,A.jsxs)("h3",{className:"font-bold text-white text-sm",children:["Deudas ",eu&&"(Archivadas)"]}),(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsx)("button",{onClick:()=>ed(!eu),className:`w-8 h-8 rounded-full flex items-center justify-center transition ${eu?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-slate-800 text-slate-500 hover:text-white hover:bg-slate-700"}`,title:eu?"Ver Activas":"Ver Archivadas (Pagadas)",children:(0,A.jsx)(V,{className:"w-4 h-4"})}),(0,A.jsx)("button",{onClick:()=>e6("LIABILITY"),className:"w-8 h-8 rounded-full bg-rose-600 text-white flex items-center justify-center shadow-lg shadow-rose-600/20 hover:scale-105 transition",children:(0,A.jsx)("i",{className:"fas fa-plus text-sm"})})]})]}),(0,A.jsx)("div",{className:"space-y-3",children:0===ej.length?(0,A.jsx)("p",{className:"text-center text-slate-500 py-4 text-sm",children:"No hay deudas"}):ej.map(e=>{let t=td("LIABILITY"),n=eA===e.id;return(0,A.jsxs)("div",{className:`glass-panel p-3 border ${t.borderColor} rounded-xl shadow-sm hover:bg-slate-800 transition-colors`,children:[(0,A.jsxs)("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>eP(n?null:e.id),children:[(0,A.jsxs)("div",{className:"flex items-center gap-3",children:[(0,A.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${t.iconColor}`,children:(0,A.jsx)("i",{className:`fas ${t.icon}`})}),(0,A.jsxs)("div",{children:[(0,A.jsx)("h4",{className:"text-sm font-medium text-white mb-1",children:e.name}),(0,A.jsxs)("div",{className:"flex flex-col gap-1 items-start",children:[(0,A.jsx)("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded bg-slate-700 text-slate-300",children:e.currency}),(0,A.jsxs)("div",{className:"text-[10px] text-slate-400 mt-0.5 flex gap-2",children:[e.start_date&&(0,A.jsxs)("span",{children:[(0,A.jsx)("i",{className:"fas fa-calendar-check mr-1"}),tn(e.start_date)]}),e.due_date&&(0,A.jsxs)("span",{children:[(0,A.jsx)("i",{className:"fas fa-flag-checkered mr-1"}),tn(e.due_date)]})]})]})]})]}),(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsxs)("span",{className:`font-bold text-lg ${0>Number(e.balance)?"text-rose-500":"text-rose-400"}`,children:[F(e.currency)," ",B(Number(e.balance))]}),(0,A.jsx)("button",{onClick:t=>{t.stopPropagation(),e_({account:e,type:"LIABILITY"}),eF(!0)},className:"w-8 h-8 rounded-full bg-rose-500/20 text-rose-400 flex items-center justify-center hover:bg-rose-500/30 transition ml-2 backdrop-blur-sm",title:"Registrar Pago",children:(0,A.jsx)(J,{className:"w-5 h-5"})})]})]}),n&&(0,A.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:[(0,A.jsxs)("div",{className:"mb-4 text-xs space-y-2",children:[(0,A.jsxs)("div",{className:"flex justify-between items-center bg-slate-800/50 px-3 py-2 rounded-lg",children:[(0,A.jsx)("span",{className:"text-slate-400",children:"Inicio"}),(0,A.jsx)("span",{className:"text-slate-200 font-mono",children:tn(e.start_date)||"-"})]}),e.due_date&&(0,A.jsxs)("div",{className:"flex justify-between items-center bg-slate-800/50 px-3 py-2 rounded-lg border border-slate-700/50",children:[(0,A.jsx)("span",{className:"text-slate-400",children:"Pago Estimado"}),(0,A.jsx)("span",{className:"text-orange-300 font-mono",children:tn(e.due_date)})]})]}),(0,A.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,A.jsx)("button",{onClick:t=>{t.stopPropagation(),eO(e),eV({name:e.name,balance:String(e.balance),currency:e.currency,startDate:e.start_date||"",dueDate:e.due_date||""}),eI(!0)},className:"w-8 h-8 rounded-md bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 hover:text-blue-300 flex items-center justify-center transition",title:"Editar deuda",children:(0,A.jsx)("i",{className:"fas fa-pen text-sm"})}),(0,A.jsx)("button",{onClick:t=>{t.stopPropagation(),et(e.id),ea(e.name),er("Deuda")},className:"w-8 h-8 rounded-md bg-red-500/20 text-red-400 hover:bg-red-500/30 hover:text-red-300 flex items-center justify-center transition",title:"Eliminar deuda",children:(0,A.jsx)("i",{className:"fas fa-trash text-sm"})})]})]})]},e.id)})})]}),(0,A.jsx)(Y,{isOpen:E.ASSET,onClose:()=>e6("ASSET"),title:"Nueva Cuenta",children:(0,A.jsxs)("div",{className:"space-y-4",children:[(0,A.jsx)("input",{type:"text",value:T.ASSET.name,onChange:e=>e9("ASSET","name",e.target.value),placeholder:"Nombre (ej. Banco)",className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500"}),(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsx)("input",{type:"number",value:T.ASSET.init,onChange:e=>e9("ASSET","init",e.target.value),placeholder:"Saldo Inicial",step:"0.01",className:"w-2/3 input-modern p-4 rounded-xl text-white placeholder-slate-500"}),(0,A.jsxs)("select",{value:T.ASSET.currency,onChange:e=>e9("ASSET","currency",e.target.value),className:"w-1/3 input-modern p-4 rounded-xl text-white bg-slate-800",children:[(0,A.jsx)("option",{className:"bg-slate-800",value:"USD",children:"USD"}),(0,A.jsx)("option",{className:"bg-slate-800",value:"VES",children:"VES"}),(0,A.jsx)("option",{className:"bg-slate-800",value:"USDT",children:"USDT"})]})]}),(0,A.jsx)("button",{onClick:()=>e8("ASSET"),disabled:M,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-indigo-600/20 transition transform active:scale-95 disabled:opacity-50",children:M?"Creando...":"Crear Cuenta"})]})}),(0,A.jsx)(Y,{isOpen:E.RECEIVABLE,onClose:()=>e6("RECEIVABLE"),title:"Nuevo Préstamo",children:(0,A.jsxs)("div",{className:"space-y-4",children:[(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsxs)("div",{className:"w-1/2",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Inicio"}),(0,A.jsx)(z,{id:"receivable-start-date",value:T.RECEIVABLE.startDate,onChange:e=>e9("RECEIVABLE","startDate",e),placeholder:"Hoy"})]}),(0,A.jsxs)("div",{className:"w-1/2",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Vencimiento"}),(0,A.jsx)(z,{id:"receivable-due-date",value:T.RECEIVABLE.dueDate,onChange:e=>e9("RECEIVABLE","dueDate",e),placeholder:"Opcional"})]})]}),(0,A.jsx)("input",{type:"text",value:T.RECEIVABLE.name,onChange:e=>e9("RECEIVABLE","name",e.target.value),placeholder:"Deudor",className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500"}),(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsx)("input",{type:"number",value:T.RECEIVABLE.init,onChange:e=>e9("RECEIVABLE","init",e.target.value),placeholder:"Monto",step:"0.01",className:"w-2/3 input-modern p-4 rounded-xl text-white placeholder-slate-500"}),(0,A.jsxs)("select",{value:T.RECEIVABLE.currency,onChange:e=>e9("RECEIVABLE","currency",e.target.value),className:"w-1/3 input-modern p-4 rounded-xl text-white bg-slate-800",children:[(0,A.jsx)("option",{className:"bg-slate-800",value:"USD",children:"USD"}),(0,A.jsx)("option",{className:"bg-slate-800",value:"VES",children:"VES"})]})]}),(0,A.jsx)("button",{onClick:()=>e8("RECEIVABLE"),disabled:M,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-emerald-600/20 transition transform active:scale-95 disabled:opacity-50",children:M?"Creando...":"Guardar"})]})}),(0,A.jsx)(Y,{isOpen:E.LIABILITY,onClose:()=>e6("LIABILITY"),title:"Nueva Deuda",children:(0,A.jsxs)("div",{className:"space-y-4",children:[(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsxs)("div",{className:"w-1/2",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Inicio"}),(0,A.jsx)(z,{id:"liability-start-date",value:T.LIABILITY.startDate,onChange:e=>e9("LIABILITY","startDate",e),placeholder:"Hoy"})]}),(0,A.jsxs)("div",{className:"w-1/2",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Pago"}),(0,A.jsx)(z,{id:"liability-due-date",value:T.LIABILITY.dueDate,onChange:e=>e9("LIABILITY","dueDate",e),placeholder:"Opcional"})]})]}),(0,A.jsx)("input",{type:"text",value:T.LIABILITY.name,onChange:e=>e9("LIABILITY","name",e.target.value),placeholder:"Acreedor",className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500"}),(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsx)("input",{type:"number",value:T.LIABILITY.init,onChange:e=>e9("LIABILITY","init",e.target.value),placeholder:"Monto",step:"0.01",className:"w-2/3 input-modern p-4 rounded-xl text-white placeholder-slate-500"}),(0,A.jsxs)("select",{value:T.LIABILITY.currency,onChange:e=>e9("LIABILITY","currency",e.target.value),className:"w-1/3 input-modern p-4 rounded-xl text-white bg-slate-800",children:[(0,A.jsx)("option",{className:"bg-slate-800",value:"USD",children:"USD"}),(0,A.jsx)("option",{className:"bg-slate-800",value:"VES",children:"VES"})]})]}),(0,A.jsx)("button",{onClick:()=>e8("LIABILITY"),disabled:M,className:"w-full bg-rose-600 hover:bg-rose-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-rose-600/20 transition transform active:scale-95 disabled:opacity-50",children:M?"Creando...":"Guardar"})]})}),(0,A.jsx)(Y,{isOpen:L,onClose:()=>{O(!1),W(null),K({name:"",balance:"",currency:"USD"})},title:"Editar Cuenta",children:(0,A.jsxs)("div",{className:"space-y-4",children:[(0,A.jsx)("input",{type:"text",value:G.name,onChange:e=>K({...G,name:e.target.value}),placeholder:"Nombre de la cuenta",className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500"}),(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsx)("input",{type:"number",value:G.balance,onChange:e=>K({...G,balance:e.target.value}),placeholder:"Balance",step:"0.01",className:"w-2/3 input-modern p-4 rounded-xl text-white placeholder-slate-500"}),(0,A.jsxs)("select",{value:G.currency,onChange:e=>K({...G,currency:e.target.value}),className:"w-1/3 input-modern p-4 rounded-xl text-white bg-slate-800",children:[(0,A.jsx)("option",{className:"bg-slate-800",value:"USD",children:"USD"}),(0,A.jsx)("option",{className:"bg-slate-800",value:"VES",children:"VES"}),(0,A.jsx)("option",{className:"bg-slate-800",value:"USDT",children:"USDT"})]})]}),(0,A.jsx)("button",{onClick:te,disabled:!G.name.trim()||M,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-blue-600/20 transition transform active:scale-95 disabled:opacity-50",children:M?"Guardando...":"Guardar Cambios"})]})}),(0,A.jsx)(Y,{isOpen:eE,onClose:()=>{eN(!1),eC(null),eD({name:"",balance:"",currency:"USD",startDate:"",dueDate:""})},title:"Editar Préstamo",children:(0,A.jsxs)("div",{className:"space-y-4",children:[(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsxs)("div",{className:"w-1/2",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Inicio"}),(0,A.jsx)(z,{id:"edit-receivable-start",value:eT.startDate,onChange:e=>eD({...eT,startDate:e}),placeholder:"Hoy"})]}),(0,A.jsxs)("div",{className:"w-1/2",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Vencimiento"}),(0,A.jsx)(z,{id:"edit-receivable-due",value:eT.dueDate,onChange:e=>eD({...eT,dueDate:e}),placeholder:"Opcional"})]})]}),(0,A.jsx)("input",{type:"text",value:eT.name,onChange:e=>eD({...eT,name:e.target.value}),placeholder:"Deudor",className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500"}),(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsx)("input",{type:"number",value:eT.balance,onChange:e=>eD({...eT,balance:e.target.value}),placeholder:"Monto",step:"0.01",className:"w-2/3 input-modern p-4 rounded-xl text-white placeholder-slate-500"}),(0,A.jsxs)("select",{value:eT.currency,onChange:e=>eD({...eT,currency:e.target.value}),className:"w-1/3 input-modern p-4 rounded-xl text-white bg-slate-800",children:[(0,A.jsx)("option",{className:"bg-slate-800",value:"USD",children:"USD"}),(0,A.jsx)("option",{className:"bg-slate-800",value:"VES",children:"VES"})]})]}),(0,A.jsx)("button",{onClick:tr,disabled:!eT.name.trim()||M,className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-emerald-600/20 transition transform active:scale-95 disabled:opacity-50",children:M?"Guardando...":"Guardar Cambios"})]})}),(0,A.jsx)(Y,{isOpen:eM,onClose:()=>{eI(!1),eO(null),eV({name:"",balance:"",currency:"USD",startDate:"",dueDate:""})},title:"Editar Deuda",children:(0,A.jsxs)("div",{className:"space-y-4",children:[(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsxs)("div",{className:"w-1/2",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Inicio"}),(0,A.jsx)(z,{id:"edit-liability-start",value:eR.startDate,onChange:e=>eV({...eR,startDate:e}),placeholder:"Hoy"})]}),(0,A.jsxs)("div",{className:"w-1/2",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Pago"}),(0,A.jsx)(z,{id:"edit-liability-due",value:eR.dueDate,onChange:e=>eV({...eR,dueDate:e}),placeholder:"Opcional"})]})]}),(0,A.jsx)("input",{type:"text",value:eR.name,onChange:e=>eV({...eR,name:e.target.value}),placeholder:"Acreedor",className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500"}),(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsx)("input",{type:"number",value:eR.balance,onChange:e=>eV({...eR,balance:e.target.value}),placeholder:"Monto",step:"0.01",className:"w-2/3 input-modern p-4 rounded-xl text-white placeholder-slate-500"}),(0,A.jsxs)("select",{value:eR.currency,onChange:e=>eV({...eR,currency:e.target.value}),className:"w-1/3 input-modern p-4 rounded-xl text-white bg-slate-800",children:[(0,A.jsx)("option",{className:"bg-slate-800",value:"USD",children:"USD"}),(0,A.jsx)("option",{className:"bg-slate-800",value:"VES",children:"VES"})]})]}),(0,A.jsx)("button",{onClick:ti,disabled:!eR.name.trim()||M,className:"w-full bg-rose-600 hover:bg-rose-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-rose-600/20 transition transform active:scale-95 disabled:opacity-50",children:M?"Guardando...":"Guardar Cambios"})]})}),(0,A.jsx)(q,{isOpen:e$,onClose:()=>ez(!1),type:eH,accounts:e.filter(e=>"ASSET"===e.type),buckets:a||[],rates:o,onSave:ta,onRequestSettle:()=>{ez(!1),e_(null),eF(!0)}}),(0,A.jsx)(Y,{isOpen:eW,onClose:()=>{eq(!1),eK(""),eZ(""),eQ(""),e1("")},title:"Mover Dinero",children:(0,A.jsxs)("div",{className:"space-y-6",children:[(0,A.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,A.jsxs)("div",{className:"flex-1",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Desde"}),(0,A.jsxs)("select",{value:eG,onChange:e=>eK(e.target.value),className:"w-full input-modern p-3 rounded-xl text-white bg-slate-800 text-sm",children:[(0,A.jsx)("option",{value:"",children:"Seleccionar..."}),em.map(e=>(0,A.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,")"]},e.id))]}),eG&&((g=em.find(e=>String(e.id)===eG))?(0,A.jsxs)("p",{className:"text-[10px] text-slate-400 mt-1 text-right",children:["Disp: ",F(g.currency),B(Number(g.balance))]}):null)]}),(0,A.jsx)("div",{className:"text-slate-500 pt-4",children:(0,A.jsx)(R,{className:"w-5 h-5"})}),(0,A.jsxs)("div",{className:"flex-1",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Hasta"}),(0,A.jsxs)("select",{value:eX,onChange:e=>eZ(e.target.value),className:"w-full input-modern p-3 rounded-xl text-white bg-slate-800 text-sm",children:[(0,A.jsx)("option",{value:"",children:"Seleccionar..."}),em.filter(e=>String(e.id)!==eG).map(e=>(0,A.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,")"]},e.id))]})]})]}),(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:"flex justify-between items-end mb-1",children:[(0,A.jsxs)("label",{className:"text-[10px] font-bold text-slate-500 uppercase ml-1",children:["Monto en ","SOURCE"===e2?(x=e.find(e=>String(e.id)===eG),x?.currency||"Origen"):(y=e.find(e=>String(e.id)===eX),y?.currency||"Destino")]}),eG&&eX&&e.find(e=>String(e.id)===eG)?.currency!==e.find(e=>String(e.id)===eX)?.currency&&(0,A.jsxs)("button",{onClick:()=>e5(e=>"SOURCE"===e?"TARGET":"SOURCE"),className:"text-[10px] font-bold text-indigo-400 hover:text-indigo-300 flex items-center gap-1 bg-indigo-500/10 px-2 py-0.5 rounded transition",children:[(0,A.jsx)("i",{className:"fas fa-exchange-alt"}),"Cambiar a ","SOURCE"===e2?(v=e.find(e=>String(e.id)===eX),v?.currency||"Destino"):(b=e.find(e=>String(e.id)===eG),b?.currency||"Origen")]})]}),(0,A.jsx)("input",{type:"number",value:eJ,onChange:e=>eQ(e.target.value),step:"0.01",placeholder:"0.00",className:"w-full input-modern p-4 rounded-xl text-2xl font-bold text-white placeholder-slate-700 text-center font-mono",required:!0})]}),eG&&eX&&e.find(e=>String(e.id)===eG)?.currency!==e.find(e=>String(e.id)===eX)?.currency&&(0,A.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-dashed border-slate-700 space-y-3",children:[(0,A.jsxs)("div",{className:"flex justify-between items-center",children:[(0,A.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Tasa de Cambio"}),(0,A.jsx)("span",{className:"text-[10px] text-indigo-400 bg-indigo-500/10 px-2 py-0.5 rounded",children:"Conversion"})]}),(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("input",{type:"number",value:e0,onChange:e=>e1(e.target.value),step:"0.01",className:"w-full bg-slate-900 border border-slate-600 rounded-lg py-2 px-3 text-right font-mono text-white focus:border-indigo-500 outline-none",placeholder:"Tasa..."}),(0,A.jsx)("span",{className:"text-xs font-mono text-slate-500",children:(w=e.find(e=>String(e.id)===eG),w?.currency==="VES"||e.find(e=>String(e.id)===eX)?.currency==="VES"?"Bs":"")})]}),(0,A.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-slate-700/50",children:[(0,A.jsx)("span",{className:"text-xs text-slate-500",children:"SOURCE"===e2?"Se recibirá en destino:":"Se enviará desde el origen:"}),(0,A.jsx)("span",{className:"font-mono font-bold text-emerald-400",children:"SOURCE"===e2?(S=e.find(e=>String(e.id)===eX),`${F(S?.currency||"USD")} ${B(Number(to.toFixed(2)))}`):(j=e.find(e=>String(e.id)===eG),`${F(j?.currency||"USD")} ${B(Number(ts.toFixed(2)))}`)})]})]}),(0,A.jsx)("button",{onClick:tc,disabled:!eG||!eX||!eJ||M,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-indigo-600/20 transition transform active:scale-95 disabled:opacity-50",children:M?"Transfiriendo...":"Confirmar Transferencia"})]})}),(0,A.jsx)($,{isOpen:!!ee,onClose:()=>et(null),onConfirm:()=>{ee&&e7(ee),et(null)},title:`Eliminar ${en}`,message:`\xbfEst\xe1s seguro de que quieres eliminar "${ei}"? esta acci\xf3n no se puede deshacer.`,confirmText:"Sí, eliminar"}),(0,A.jsx)(X,{isOpen:eU,onClose:()=>eF(!1),account:eB?.account||null,assetAccounts:em,liabilityAccounts:ej,receivableAccounts:ev,onSettle:tu,rates:o})]})}let et=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}),en=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}),er=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}),ei=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});function ea({buckets:e,accounts:t=[],onCreateBucket:n,onUpdateBucket:r,onDeleteBucket:i,onTransferBucket:a,rates:s={USD:1,USDT:1}}){let[o,l]=(0,P.useState)(!1),[c,u]=(0,P.useState)(""),[d,h]=(0,P.useState)("USD"),[p,m]=(0,P.useState)(""),[f,g]=(0,P.useState)(!1),[x,y]=(0,P.useState)("ORIGINAL"),[v,b]=(0,P.useState)(!1),w=(0,P.useRef)(null),[S,j]=(0,P.useState)(!1),[E,N]=(0,P.useState)(""),[k,C]=(0,P.useState)(""),[T,D]=(0,P.useState)(""),[M,I]=(0,P.useState)(""),[L,O]=(0,P.useState)("SOURCE"),[R,U]=(0,P.useState)(!1),[_,z]=(0,P.useState)({id:"",name:"",balance:"",currency:"USD"}),[H,W]=(0,P.useState)(null),[q,G]=(0,P.useState)(""),[X,Z]=(0,P.useState)(""),[J,Q]=(0,P.useState)(""),[ee,ea]=(0,P.useState)("USD");(0,P.useEffect)(()=>{function e(e){w.current&&!w.current.contains(e.target)&&b(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let es=(e,t)=>{if("ORIGINAL"===x)return{value:e,symbol:F(t)};if(t===x)return{value:e,symbol:F(x)};let n=e;"USD"===t?n=e*s.USD:"USDT"===t?n=e*s.USDT:"VES"===t&&(n=e);let r=n;return"USD"===x?r=n/s.USD:"USDT"===x&&(r=n/s.USDT),{value:r,symbol:F(x)}},eo=e=>e.reduce((e,t)=>{let n=Number(t.balance),r=t.currency||"USD";if("ORIGINAL"!==x)return e+es(n,r).value;{let t=n;return"VES"===r&&s.USD&&(t/=s.USD),e+t}},0),el=eo(e),ec=eo(t.filter(e=>"ASSET"===e.type)),eu=t.find(e=>"1"===String(e.id)),ed=eu?es(Number(eu.balance),eu.currency):null,eh="ORIGINAL"===x?"$":F(x),ep=async()=>{if(c.trim()){g(!0);try{await n(c,d,parseFloat(p)||0),u(""),h("USD"),m(""),l(!1)}catch(e){console.error(e)}finally{g(!1)}}},em=async(e,t)=>{W(e),G(t)},ef=async()=>{if(H){g(!0);try{await i(H)}catch(e){console.error(e)}W(null),g(!1)}},{source:eg,target:ex}={source:e.find(e=>String(e.id)===E),target:e.find(e=>String(e.id)===k)},ey=eg&&ex&&eg.currency!==ex.currency,ev=eg?.currency,eb=ex?.currency;(0,P.useEffect)(()=>{if(ey){let e=1;"VES"===ev&&"USD"===eb||"USD"===ev&&"VES"===eb?e=s.USD:"VES"===ev&&"USDT"===eb?e=s.USDT:"USDT"===ev&&"VES"===eb&&(e=s.USDT),I(String(e))}},[E,k,ey,ev,eb,s]);let{sVal:ew,tVal:eS}=(()=>{let e=parseFloat(T),t=parseFloat(M);if(!e)return{sVal:0,tVal:0};if(!ey)return{sVal:e,tVal:e};if(!t||isNaN(t))return{sVal:0,tVal:0};let n="VES"===ev,r="VES"===eb;if(n&&!r)if("SOURCE"===L)return{sVal:e,tVal:e/t};else return{sVal:e*t,tVal:e};if(!n&&r)if("SOURCE"===L)return{sVal:e,tVal:e*t};else return{sVal:e/t,tVal:e};return"SOURCE"===L?{sVal:e,tVal:e*t}:{sVal:e/t,tVal:e}})(),ej=async()=>{if(E&&k&&T&&a&&(!ey||M)){g(!0);try{await a(parseInt(E),parseInt(k),ew,eS),j(!1),N(""),C(""),D(""),I(""),O("SOURCE")}catch(e){console.error(e),alert("Error al transferir entre presupuestos")}finally{g(!1)}}},eE=async()=>{if(_.id&&X.trim()&&r){g(!0);try{await r(_.id,{name:X,balance:parseFloat(J)||0,currency:ee}),U(!1),z({id:"",name:"",balance:"",currency:"USD"}),Z(""),Q(""),ea("USD")}catch(e){console.error(e),alert("Error al actualizar el presupuesto")}finally{g(!1)}}};return(0,A.jsxs)("div",{className:"animate-fade-in space-y-6",children:[(0,A.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:"Presupuestos"}),(0,A.jsxs)("div",{className:"text-xs font-medium space-y-0.5 mt-1",children:[(0,A.jsxs)("p",{className:"text-slate-400",children:["Fondos totales: ",(0,A.jsxs)("span",{className:"text-emerald-400 font-mono",children:[eh,B(el)]})]}),(0,A.jsxs)("p",{className:"text-slate-400",children:["Activos Totales: ",(0,A.jsxs)("span",{className:"text-blue-400 font-mono",children:[eh,B(ec)]})]}),eu&&ed&&(0,A.jsxs)("p",{className:"text-slate-400",children:[eu.name,": ",(0,A.jsxs)("span",{className:"text-indigo-400 font-mono",children:[ed.symbol,B(ed.value)]})]})]})]}),(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsxs)("div",{className:"relative",ref:w,children:[(0,A.jsx)("button",{onClick:()=>b(!v),className:"w-10 h-10 rounded-2xl bg-slate-800 text-slate-400 flex items-center justify-center border border-white/5 hover:bg-slate-700 hover:text-white transition",title:"Cambiar Vista de Moneda",children:(0,A.jsx)(ei,{className:"w-5 h-5"})}),v&&(0,A.jsxs)("div",{className:"absolute right-0 top-12 bg-slate-900 border border-slate-700 rounded-xl shadow-xl z-50 w-32 p-1 flex flex-col gap-1",children:[(0,A.jsx)("button",{onClick:()=>{y("ORIGINAL"),b(!1)},className:`text-left px-3 py-2 rounded-lg text-xs font-bold transition ${"ORIGINAL"===x?"bg-indigo-600 text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:"Predeterminado"}),(0,A.jsx)("button",{onClick:()=>{y("VES"),b(!1)},className:`text-left px-3 py-2 rounded-lg text-xs font-bold transition ${"VES"===x?"bg-indigo-600 text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:"Bs."}),(0,A.jsx)("button",{onClick:()=>{y("USD"),b(!1)},className:`text-left px-3 py-2 rounded-lg text-xs font-bold transition ${"USD"===x?"bg-indigo-600 text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:"USD"}),(0,A.jsx)("button",{onClick:()=>{y("USDT"),b(!1)},className:`text-left px-3 py-2 rounded-lg text-xs font-bold transition ${"USDT"===x?"bg-indigo-600 text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:"USDT"})]})]}),(0,A.jsx)("button",{onClick:()=>j(!0),className:"w-10 h-10 rounded-2xl bg-slate-800 text-blue-400 flex items-center justify-center border border-white/5 hover:bg-slate-700 hover:text-white transition",title:"Transferir entre buckets",children:(0,A.jsx)(K,{className:"w-5 h-5"})}),(0,A.jsx)("button",{onClick:()=>l(!0),className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-indigo-500 to-blue-600 text-white flex items-center justify-center shadow-lg shadow-indigo-500/30 hover:scale-105 active:scale-95 transition",children:(0,A.jsx)(et,{className:"w-6 h-6"})})]})]}),0===e.length?(0,A.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center opacity-50",children:[(0,A.jsx)("div",{className:"w-24 h-24 rounded-full bg-slate-800 flex items-center justify-center mb-4",children:(0,A.jsx)(V,{className:"w-12 h-12 text-slate-600"})}),(0,A.jsx)("p",{className:"text-slate-400 font-medium",children:"No hay presupuestos"}),(0,A.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Crea categorías para organizar tu dinero"})]}):(0,A.jsx)("div",{className:"grid grid-cols-2 gap-4 pb-24",children:e.map((e,t)=>{let n=es(Number(e.balance),e.currency);return(0,A.jsxs)("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-b from-slate-800/80 to-slate-900/80 backdrop-blur-md p-4 border border-white/5 shadow-lg hover:border-blue-500/30 transition-all duration-300 animate-fade-in",style:{animationDelay:`${50*t}ms`},children:[(0,A.jsx)(V,{className:"absolute -bottom-4 -right-4 w-24 h-24 text-white/5 group-hover:text-blue-500/10 group-hover:scale-110 transition-all duration-500"}),(0,A.jsxs)("div",{className:"relative z-10 flex flex-col h-full",children:[(0,A.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,A.jsx)("h4",{className:"text-sm font-bold text-white truncate max-w-[70%]",children:e.name}),(0,A.jsx)("div",{className:"flex gap-1",children:(0,A.jsx)("button",{onClick:t=>{t.stopPropagation(),z({id:e.id,name:e.name,balance:e.balance.toString(),currency:e.currency||"USD"}),Z(e.name),Q(e.balance.toString()),ea(e.currency||"USD"),U(!0)},className:"w-6 h-6 rounded-full text-slate-500 hover:text-blue-400 hover:bg-blue-500/10 flex items-center justify-center transition",children:(0,A.jsx)(en,{className:"w-3 h-3"})})})]}),(0,A.jsxs)("div",{className:"mt-auto",children:[(0,A.jsx)("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider mb-0.5",children:"Disponible"}),(0,A.jsxs)("div",{className:"flex justify-between items-end",children:[(0,A.jsxs)("p",{className:"text-xl font-mono font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-indigo-400",children:[n.symbol,B(n.value)]}),(0,A.jsx)("button",{onClick:t=>{t.stopPropagation(),em(e.id,e.name)},className:"w-6 h-6 rounded-full text-slate-600 hover:text-rose-400 transition",children:(0,A.jsx)(er,{className:"w-4 h-4"})})]})]})]})]},e.id)})}),(0,A.jsx)(Y,{isOpen:o,onClose:()=>l(!1),title:"Nuevo Presupuesto",children:(0,A.jsxs)("div",{className:"space-y-4",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Nombre"}),(0,A.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Categoría (ej. Comida, Ahorro)",className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500 focus:ring-2 focus:ring-indigo-500/50"})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Moneda"}),(0,A.jsxs)("select",{value:d,onChange:e=>h(e.target.value),className:"w-full input-modern p-4 rounded-xl text-white bg-slate-800",children:[(0,A.jsx)("option",{value:"USD",children:"USD"}),(0,A.jsx)("option",{value:"VES",children:"VES"}),(0,A.jsx)("option",{value:"USDT",children:"USDT"})]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Fondo Inicial"}),(0,A.jsx)("input",{type:"number",value:p,onChange:e=>m(e.target.value),placeholder:"0.00",step:"0.01",className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500"})]}),(0,A.jsx)("button",{onClick:ep,disabled:f||!c.trim(),className:"w-full bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-500 hover:to-blue-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-indigo-600/20 transition transform active:scale-95 disabled:opacity-50 mt-2",children:f?"Creando...":"Crear Presupuesto"})]})}),(0,A.jsx)(Y,{isOpen:R,onClose:()=>{U(!1),z({id:"",name:"",balance:"",currency:"USD"}),Z(""),Q(""),ea("USD")},title:"Editar Presupuesto",children:(0,A.jsxs)("div",{className:"space-y-4",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Nombre"}),(0,A.jsx)("input",{type:"text",value:X,onChange:e=>Z(e.target.value),placeholder:"Nombre del presupuesto",className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500 focus:ring-2 focus:ring-indigo-500/50",autoFocus:!0})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Balance"}),(0,A.jsx)("input",{type:"number",value:J,onChange:e=>Q(e.target.value),placeholder:"0.00",step:"0.01",className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500"})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Moneda"}),(0,A.jsxs)("select",{value:ee,onChange:e=>ea(e.target.value),className:"w-full input-modern p-4 rounded-xl text-white bg-slate-800",children:[(0,A.jsx)("option",{value:"USD",children:"USD"}),(0,A.jsx)("option",{value:"VES",children:"VES"}),(0,A.jsx)("option",{value:"USDT",children:"USDT"})]})]}),(0,A.jsx)("button",{onClick:eE,disabled:!X.trim()||f,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-blue-600/20 transition transform active:scale-95 disabled:opacity-50",children:f?"Guardando...":"Guardar Cambios"})]})}),(0,A.jsx)(Y,{isOpen:S,onClose:()=>{j(!1),N(""),C(""),D(""),I(""),O("SOURCE")},title:"Mover Fondos",children:(0,A.jsxs)("div",{className:"space-y-6",children:[(0,A.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,A.jsxs)("div",{className:"flex-1",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Desde"}),(0,A.jsxs)("select",{value:E,onChange:e=>N(e.target.value),className:"w-full input-modern p-3 rounded-xl text-white bg-slate-800 text-sm",children:[(0,A.jsx)("option",{value:"",children:"Seleccionar..."}),e.map(e=>(0,A.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,")"]},e.id))]}),eg&&(0,A.jsxs)("p",{className:"text-[10px] text-slate-400 mt-1 text-right",children:["Disp: ",F(eg.currency),B(Number(eg.balance))]})]}),(0,A.jsx)("div",{className:"text-slate-500 pt-4",children:(0,A.jsx)(K,{className:"w-5 h-5"})}),(0,A.jsxs)("div",{className:"flex-1",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Hacia"}),(0,A.jsxs)("select",{value:k,onChange:e=>C(e.target.value),className:"w-full input-modern p-3 rounded-xl text-white bg-slate-800 text-sm",children:[(0,A.jsx)("option",{value:"",children:"Seleccionar..."}),e.filter(e=>String(e.id)!==E).map(e=>(0,A.jsxs)("option",{value:e.id,children:[e.name," (",e.currency,")"]},e.id))]})]})]}),(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:"flex justify-between items-end mb-1",children:[(0,A.jsxs)("label",{className:"text-[10px] font-bold text-slate-500 uppercase ml-1",children:["Monto en ","SOURCE"===L?ev||"Origen":eb||"Destino"]}),ey&&(0,A.jsxs)("button",{onClick:()=>O(e=>"SOURCE"===e?"TARGET":"SOURCE"),className:"text-[10px] font-bold text-indigo-400 hover:text-indigo-300 flex items-center gap-1 bg-indigo-500/10 px-2 py-0.5 rounded transition",children:[(0,A.jsx)(K,{className:"w-3 h-3"}),"Cambiar a ","SOURCE"===L?eb:ev]})]}),(0,A.jsx)("input",{type:"number",value:T,onChange:e=>D(e.target.value),step:"0.01",placeholder:"0.00",className:"w-full input-modern p-4 rounded-xl text-2xl font-bold text-white placeholder-slate-700 text-center font-mono",required:!0})]}),ey&&(0,A.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-dashed border-slate-700 space-y-3",children:[(0,A.jsxs)("div",{className:"flex justify-between items-center",children:[(0,A.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Tasa de Cambio"}),(0,A.jsx)("span",{className:"text-[10px] text-indigo-400 bg-indigo-500/10 px-2 py-0.5 rounded",children:"Conversion"})]}),(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("input",{type:"number",value:M,onChange:e=>I(e.target.value),step:"0.01",className:"w-full bg-slate-900 border border-slate-600 rounded-lg py-2 px-3 text-right font-mono text-white focus:border-indigo-500 outline-none",placeholder:"Tasa..."}),(0,A.jsx)("span",{className:"text-xs font-mono text-slate-500",children:"VES"===ev||"VES"===eb?"Bs":""})]}),(0,A.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-slate-700/50",children:[(0,A.jsx)("span",{className:"text-xs text-slate-500",children:"SOURCE"===L?"Se abonará al presupuesto:":"Se descontará del origen:"}),(0,A.jsx)("span",{className:"font-mono font-bold text-emerald-400",children:"SOURCE"===L?`${eb?F(eb):""} ${B(eS)}`:`${ev?F(ev):""} ${B(ew)}`})]})]}),(0,A.jsx)("button",{onClick:ej,disabled:!E||!k||!T||ey&&!M||f,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-indigo-600/20 transition transform active:scale-95 disabled:opacity-50",children:f?"Transfiriendo...":"Confirmar Movimiento"})]})}),(0,A.jsx)($,{isOpen:!!H,onClose:()=>W(null),onConfirm:ef,title:"Eliminar Presupuesto",message:`\xbfEst\xe1s seguro de que quieres eliminar la categor\xeda "${q}"? Los fondos volver\xe1n a la cuenta principal.`,confirmText:"Sí, eliminar"})]})}let es=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}),eo=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}),el=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}),ec={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function eu(e){return (t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}let ed={date:eu({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:eu({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:eu({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},eh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ep(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{let t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function em(e){return(t,n={})=>{let r,i=n.width,a=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;let o=s[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}(l,e=>e.test(o)):function(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}(l,e=>e.test(o));return r=e.valueCallback?e.valueCallback(c):c,{value:r=n.valueCallback?n.valueCallback(r):r,rest:t.slice(o.length)}}}let ef={code:"en-US",formatDistance:(e,t,n)=>{let r,i=ec[e];if(r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix)if(n.comparison&&n.comparison>0)return"in "+r;else return r+" ago";return r},formatLong:ed,formatRelative:(e,t,n,r)=>eh[e],localize:{ordinalNumber:(e,t)=>{let n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:ep({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ep({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:ep({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ep({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ep({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(i={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{let n=e.match(i.matchPattern);if(!n)return null;let r=n[0],a=e.match(i.parsePattern);if(!a)return null;let s=i.valueCallback?i.valueCallback(a[0]):a[0];return{value:s=t.valueCallback?t.valueCallback(s):s,rest:e.slice(r.length)}}),era:em({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:em({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:em({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:em({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:em({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},eg={},ex=Symbol.for("constructDateFrom");function ey(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&ex in e?e[ex](t):e instanceof Date?new e.constructor(t):new Date(t)}function ev(e,t){return ey(t||e,e)}function eb(e){let t=ev(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-n}function ew(e,t){let n=ev(e,t?.in);return n.setHours(0,0,0,0),n}function eS(e,t){let n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??eg.weekStartsOn??eg.locale?.options?.weekStartsOn??0,r=ev(e,t?.in),i=r.getDay();return r.setDate(r.getDate()-(7*(i<n)+i-n)),r.setHours(0,0,0,0),r}function ej(e,t){return eS(e,{...t,weekStartsOn:1})}function eE(e,t){let n=ev(e,t?.in),r=n.getFullYear(),i=ey(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let a=ej(i),s=ey(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);let o=ej(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function eN(e,t){let n=ev(e,t?.in),r=n.getFullYear(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??eg.firstWeekContainsDate??eg.locale?.options?.firstWeekContainsDate??1,a=ey(t?.in||e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);let s=eS(a,t),o=ey(t?.in||e,0);o.setFullYear(r,0,i),o.setHours(0,0,0,0);let l=eS(o,t);return+n>=+s?r+1:+n>=+l?r:r-1}function ek(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}let eC={y(e,t){let n=e.getFullYear(),r=n>0?n:1-n;return ek("yy"===t?r%100:r,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):ek(n+1,2)},d:(e,t)=>ek(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>ek(e.getHours()%12||12,t.length),H:(e,t)=>ek(e.getHours(),t.length),m:(e,t)=>ek(e.getMinutes(),t.length),s:(e,t)=>ek(e.getSeconds(),t.length),S(e,t){let n=t.length;return ek(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},eT={G:function(e,t,n){let r=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return eC.y(e,t)},Y:function(e,t,n,r){let i=eN(e,r),a=i>0?i:1-i;return"YY"===t?ek(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):ek(a,t.length)},R:function(e,t){return ek(eE(e),t.length)},u:function(e,t){return ek(e.getFullYear(),t.length)},Q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ek(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ek(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){let r=e.getMonth();switch(t){case"M":case"MM":return eC.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){let r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ek(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){let i,a,s,o,l=Math.round((eS(i=ev(e,r?.in),r)-(a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??eg.firstWeekContainsDate??eg.locale?.options?.firstWeekContainsDate??1,s=eN(i,r),(o=ey(r?.in||i,0)).setFullYear(s,0,a),o.setHours(0,0,0,0),eS(o,r)))/6048e5)+1;return"wo"===t?n.ordinalNumber(l,{unit:"week"}):ek(l,t.length)},I:function(e,t,n){let r,i,a,s=Math.round((ej(r=ev(e,void 0))-(i=eE(r,void 0),(a=ey(r,0)).setFullYear(i,0,4),a.setHours(0,0,0,0),ej(a)))/6048e5)+1;return"Io"===t?n.ordinalNumber(s,{unit:"week"}):ek(s,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):eC.d(e,t)},D:function(e,t,n){let r,i,a=function(e,t,n){let[r,i]=function(e,...t){let n=ey.bind(null,e||t.find(e=>"object"==typeof e));return t.map(n)}(void 0,e,t),a=ew(r),s=ew(i);return Math.round((a-eb(a)-(s-eb(s)))/864e5)}(r=ev(e,void 0),((i=ev(r,void 0)).setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i))+1;return"Do"===t?n.ordinalNumber(a,{unit:"dayOfYear"}):ek(a,t.length)},E:function(e,t,n){let r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){let i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ek(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){let i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ek(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){let r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return ek(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){let r,i=e.getHours();switch(r=12===i?"noon":0===i?"midnight":i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){let r,i=e.getHours();switch(r=i>=17?"evening":i>=12?"afternoon":i>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return eC.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):eC.H(e,t)},K:function(e,t,n){let r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):ek(r,t.length)},k:function(e,t,n){let r=e.getHours();return(0===r&&(r=24),"ko"===t)?n.ordinalNumber(r,{unit:"hour"}):ek(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):eC.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):eC.s(e,t)},S:function(e,t){return eC.S(e,t)},X:function(e,t,n){let r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return eA(r);case"XXXX":case"XX":return eP(r);default:return eP(r,":")}},x:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"x":return eA(r);case"xxxx":case"xx":return eP(r);default:return eP(r,":")}},O:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+eD(r,":");default:return"GMT"+eP(r,":")}},z:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+eD(r,":");default:return"GMT"+eP(r,":")}},t:function(e,t,n){return ek(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return ek(+e,t.length)}};function eD(e,t=""){let n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return 0===a?n+String(i):n+String(i)+t+ek(a,2)}function eA(e,t){return e%60==0?(e>0?"-":"+")+ek(Math.abs(e)/60,2):eP(e,t)}function eP(e,t=""){let n=Math.abs(e);return(e>0?"-":"+")+ek(Math.trunc(n/60),2)+t+ek(n%60,2)}let eM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},eI=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},eL={p:eI,P:(e,t)=>{let n,r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return eM(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",eM(i,t)).replace("{{time}}",eI(a,t))}},eO=/^D+$/,eR=/^Y+$/,eV=["D","DD","YY","YYYY"],eU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eB=/^'([^]*?)'?$/,e_=/''/g,e$=/[a-zA-Z]/,ez=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}),eH=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],eY=new Set(eH),eW=e=>180*e/Math.PI,eq=e=>eK(eW(Math.atan2(e[1],e[0]))),eG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:eq,rotateZ:eq,skewX:e=>eW(Math.atan(e[1])),skewY:e=>eW(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},eK=e=>((e%=360)<0&&(e+=360),e),eX=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),eZ=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),eJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eX,scaleY:eZ,scale:e=>(eX(e)+eZ(e))/2,rotateX:e=>eK(eW(Math.atan2(e[6],e[5]))),rotateY:e=>eK(eW(Math.atan2(-e[2],e[0]))),rotateZ:eq,rotate:eq,skewX:e=>eW(Math.atan(e[4])),skewY:e=>eW(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function eQ(e){return+!!e.includes("scale")}function e0(e,t){let n,r;if(!e||"none"===e)return eQ(t);let i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(i)n=eJ,r=i;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=eG,r=t}if(!r)return eQ(t);let a=n[t],s=r[1].split(",").map(e1);return"function"==typeof a?a(s):s[a]}function e1(e){return parseFloat(e.trim())}let e2=e=>t=>"string"==typeof t&&t.startsWith(e),e5=e2("--"),e4=e2("var(--"),e3=e=>!!e4(e)&&e6.test(e.split("/*")[0].trim()),e6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function e8({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}let e7=(e,t,n)=>e+(t-e)*n;function e9(e){return void 0===e||1===e}function te({scale:e,scaleX:t,scaleY:n}){return!e9(e)||!e9(t)||!e9(n)}function tt(e){return te(e)||tn(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tn(e){var t,n;return(t=e.x)&&"0%"!==t||(n=e.y)&&"0%"!==n}function tr(e,t,n,r,i){return void 0!==i&&(e=r+i*(e-r)),r+n*(e-r)+t}function ti(e,t=0,n=1,r,i){e.min=tr(e.min,t,n,r,i),e.max=tr(e.max,t,n,r,i)}function ta(e,{x:t,y:n}){ti(e.x,t.translate,t.scale,t.originPoint),ti(e.y,n.translate,n.scale,n.originPoint)}function ts(e,t){e.min=e.min+t,e.max=e.max+t}function to(e,t,n,r,i=.5){let a=e7(e.min,e.max,i);ti(e,t,n,a,r)}function tl(e,t){to(e.x,t.x,t.scaleX,t.scale,t.originX),to(e.y,t.y,t.scaleY,t.scale,t.originY)}function tc(e,t){return e8(function(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}let tu=new Set(["width","height","top","left","right","bottom",...eH]),td=(e,t,n)=>n>t?t:n<e?e:n,th={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},tp={...th,transform:e=>td(0,1,e)},tm={...th,default:1},tf=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),tg=tf("deg"),tx=tf("%"),ty=tf("px"),tv=tf("vh"),tb=tf("vw"),tw={...tx,parse:e=>tx.parse(e)/100,transform:e=>tx.transform(100*e)},tS=e=>t=>t.test(e),tj=[th,ty,tx,tg,tb,tv,{test:e=>"auto"===e,parse:e=>e}],tE=e=>tj.find(tS(e)),tN=()=>{},tk=()=>{},tC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,tT=e=>e===th||e===ty,tD=new Set(["x","y","z"]),tA=eH.filter(e=>!tD.has(e)),tP={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>e0(t,"x"),y:(e,{transform:t})=>e0(t,"y")};tP.translateX=tP.x,tP.translateY=tP.y;let tM=e=>e,tI={},tL=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tO(e,t){let n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=tL.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,a=!1,s=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){s.has(t)&&(u.schedule(t),e()),l++,t(o)}let u={schedule:(e,t=!1,a=!1)=>{let o=a&&i?n:r;return t&&s.add(e),o.has(e)||o.add(e),e},cancel:e=>{r.delete(e),s.delete(e)},process:e=>{if(o=e,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),t,l=0,n.clear(),i=!1,a&&(a=!1,u.process(e))}};return u}(a,t?n:void 0),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:p,postRender:m}=s,f=()=>{let a=tI.useManualTiming?i.timestamp:performance.now();n=!1,tI.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,40),1)),i.timestamp=a,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))};return{schedule:tL.reduce((t,a)=>{let o=s[a];return t[a]=(t,a=!1,s=!1)=>(!n&&(n=!0,r=!0,i.isProcessing||e(f)),o.schedule(t,a,s)),t},{}),cancel:e=>{for(let t=0;t<tL.length;t++)s[tL[t]].cancel(e)},state:i,steps:s}}let{schedule:tR,cancel:tV,state:tU,steps:tF}=tO("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:tM,!0),tB=new Set,t_=!1,t$=!1,tz=!1;function tH(){if(t$){let e=Array.from(tB).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{let t,r=(t=[],tA.forEach(n=>{let r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(+!!n.startsWith("scale")))}),t);r.length&&(n.set(e,r),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=n.get(e);t&&t.forEach(([t,n])=>{e.getValue(t)?.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}t$=!1,t_=!1,tB.forEach(e=>e.complete(tz)),tB.clear()}function tY(){tB.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(t$=!0)})}class tW{constructor(e,t,n,r,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(tB.add(this),t_||(t_=!0,tR.read(tY),tR.resolveKeyframes(tH))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){let i=r?.get(),a=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){let r=n.readValue(t,a);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=a),r&&void 0===i&&r.set(e[0])}for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),tB.delete(this)}cancel(){"scheduled"===this.state&&(tB.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}let tq=e=>Math.round(1e5*e)/1e5,tG=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,tK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tX=(e,t)=>n=>!!("string"==typeof n&&tK.test(n)&&n.startsWith(e)||t&&null!=n&&Object.prototype.hasOwnProperty.call(n,t)),tZ=(e,t,n)=>r=>{if("string"!=typeof r)return r;let[i,a,s,o]=r.match(tG);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:void 0!==o?parseFloat(o):1}},tJ={...th,transform:e=>Math.round(td(0,255,e))},tQ={test:tX("rgb","red"),parse:tZ("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+tJ.transform(e)+", "+tJ.transform(t)+", "+tJ.transform(n)+", "+tq(tp.transform(r))+")"},t0={test:tX("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:tQ.transform},t1={test:tX("hsl","hue"),parse:tZ("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+tx.transform(tq(t))+", "+tx.transform(tq(n))+", "+tq(tp.transform(r))+")"},t2={test:e=>tQ.test(e)||t0.test(e)||t1.test(e),parse:e=>tQ.test(e)?tQ.parse(e):t1.test(e)?t1.parse(e):t0.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?tQ.transform(e):t1.transform(e),getAnimatableNone:e=>{let t=t2.parse(e);return t.alpha=0,t2.transform(t)}},t5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,t4="number",t3="color",t6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function t8(e){let t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[],a=0,s=t.replace(t6,e=>(t2.test(e)?(r.color.push(a),i.push(t3),n.push(t2.parse(e))):e.startsWith("var(")?(r.var.push(a),i.push("var"),n.push(e)):(r.number.push(a),i.push(t4),n.push(parseFloat(e))),++a,"${}")).split("${}");return{values:n,split:s,indexes:r,types:i}}function t7(e){return t8(e).values}function t9(e){let{split:t,types:n}=t8(e),r=t.length;return e=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],void 0!==e[a]){let t=n[a];t===t4?i+=tq(e[a]):t===t3?i+=t2.transform(e[a]):i+=e[a]}return i}}let ne=e=>"number"==typeof e?0:t2.test(e)?t2.getAnimatableNone(e):e,nt={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(tG)?.length||0)+(e.match(t5)?.length||0)>0},parse:t7,createTransformer:t9,getAnimatableNone:function(e){let t=t7(e);return t9(e)(t.map(ne))}},nn=new Set(["brightness","contrast","saturate","opacity"]);function nr(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[r]=n.match(tG)||[];if(!r)return e;let i=n.replace(r,""),a=+!!nn.has(t);return r!==n&&(a*=100),t+"("+a+i+")"}let ni=/\b([a-z-]*)\(.*?\)/gu,na={...nt,getAnimatableNone:e=>{let t=e.match(ni);return t?t.map(nr).join(" "):e}},ns={...th,transform:Math.round},no={borderWidth:ty,borderTopWidth:ty,borderRightWidth:ty,borderBottomWidth:ty,borderLeftWidth:ty,borderRadius:ty,radius:ty,borderTopLeftRadius:ty,borderTopRightRadius:ty,borderBottomRightRadius:ty,borderBottomLeftRadius:ty,width:ty,maxWidth:ty,height:ty,maxHeight:ty,top:ty,right:ty,bottom:ty,left:ty,padding:ty,paddingTop:ty,paddingRight:ty,paddingBottom:ty,paddingLeft:ty,margin:ty,marginTop:ty,marginRight:ty,marginBottom:ty,marginLeft:ty,backgroundPositionX:ty,backgroundPositionY:ty,rotate:tg,rotateX:tg,rotateY:tg,rotateZ:tg,scale:tm,scaleX:tm,scaleY:tm,scaleZ:tm,skew:tg,skewX:tg,skewY:tg,distance:ty,translateX:ty,translateY:ty,translateZ:ty,x:ty,y:ty,z:ty,perspective:ty,transformPerspective:ty,opacity:tp,originX:tw,originY:tw,originZ:ty,zIndex:ns,fillOpacity:tp,strokeOpacity:tp,numOctaves:ns},nl={...no,color:t2,backgroundColor:t2,outlineColor:t2,fill:t2,stroke:t2,borderColor:t2,borderTopColor:t2,borderRightColor:t2,borderBottomColor:t2,borderLeftColor:t2,filter:na,WebkitFilter:na},nc=e=>nl[e];function nu(e,t){let n=nc(e);return n!==na&&(n=nt),n.getAnimatableNone?n.getAnimatableNone(t):void 0}let nd=new Set(["auto","none","0"]);class nh extends tW{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let r=e[n];if("string"==typeof r&&e3(r=r.trim())){let i=function e(t,n,r=1){tk(r<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[i,a]=function(e){let t=tC.exec(e);if(!t)return[,];let[,n,r,i]=t;return[`--${n??r}`,i]}(t);if(!i)return;let s=window.getComputedStyle(n).getPropertyValue(i);if(s){let e=s.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e)?parseFloat(e):e}return e3(a)?e(a,n,r+1):a}(r,t.current);void 0!==i&&(e[n]=i),n===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!tu.has(n)||2!==e.length)return;let[r,i]=e,a=tE(r),s=tE(i);if(a!==s)if(tT(a)&&tT(s))for(let t=0;t<e.length;t++){let n=e[t];"string"==typeof n&&(e[t]=parseFloat(n))}else tP[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++)(null===e[t]||function(e){if("number"==typeof e)return 0===e;if(null===e)return!0;return"none"===e||"0"===e||/^0[^.\s]+$/u.test(e)}(e[t]))&&n.push(t);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){let t=e[i];"string"==typeof t&&!nd.has(t)&&t8(t).values.length&&(r=e[i]),i++}if(r&&n)for(let i of t)e[i]=nu(n,r)}(e,n,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tP[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;let r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);let i=n.length-1,a=n[i];n[i]=tP[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}}let np=e=>!!(e&&e.getVelocity);function nm(){t=void 0}let nf={now:()=>(void 0===t&&nf.set(tU.isProcessing||tI.useManualTiming?tU.timestamp:performance.now()),t),set:e=>{t=e,queueMicrotask(nm)}};function ng(e,t){-1===e.indexOf(t)&&e.push(t)}function nx(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}class ny{constructor(){this.subscriptions=[]}add(e){return ng(this.subscriptions,e),()=>nx(this.subscriptions,e)}notify(e,t,n){let r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class nv{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=nf.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=nf.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ny);let n=this.events[e].add(t);return"change"===e?()=>{n(),tR.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return r&&r.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=nf.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let n=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),n?1e3/n*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nb(e,t){return new nv(e,t)}let nw=[...tj,t2,nt],{schedule:nS}=tO(queueMicrotask,!1),nj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nE={};for(let e in nj)nE[e]={isEnabled:t=>nj[e].some(e=>!!t[e])};let nN=()=>({translate:0,scale:1,origin:0,originPoint:0}),nk=()=>({x:nN(),y:nN()}),nC=()=>({min:0,max:0}),nT=()=>({x:nC(),y:nC()}),nD="undefined"!=typeof window,nA={current:null},nP={current:!1},nM=new WeakMap;function nI(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function nL(e){return"string"==typeof e||Array.isArray(e)}let nO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nR=["initial",...nO];function nV(e){return nI(e.animate)||nR.some(t=>nL(e[t]))}function nU(e){return!!(nV(e)||e.variants)}function nF(e){let t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function nB(e,t,n,r){if("function"==typeof t){let[i,a]=nF(r);t=t(void 0!==n?n:e.custom,i,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[i,a]=nF(r);t=t(void 0!==n?n:e.custom,i,a)}return t}let n_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class n${scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tW,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=nf.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,tR.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.blockInitialAnimation=!!i,this.isControllingVariants=nV(t),this.isVariantNode=nU(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in u){const t=u[e];void 0!==o[e]&&np(t)&&t.set(o[e])}}mount(e){this.current=e,nM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),nP.current||function(){if(nP.current=!0,nD)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>nA.current=e.matches;e.addEventListener("change",t),t()}else nA.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||nA.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),tV(this.notifyUpdate),tV(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let n;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let r=eY.has(e);r&&this.onBindTransform&&this.onBindTransform();let i=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&tR.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});window.MotionCheckAppearSync&&(n=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),n&&n(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in nE){let t=nE[e];if(!t)continue;let{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nT()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<n_.length;t++){let n=n_[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=e["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(e,t,n){for(let r in t){let i=t[r],a=n[r];if(np(i))e.addValue(r,i);else if(np(a))e.addValue(r,nb(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){let t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{let t=e.getStaticValue(r);e.addValue(r,nb(void 0!==t?t:i,{owner:e}))}}for(let r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=nb(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];if(null!=n){let r,i;if("string"==typeof n&&(r=n,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r)||(i=n,/^0[^.\s]+$/u.test(i))))n=parseFloat(n);else{let r;r=n,!nw.find(tS(r))&&nt.test(t)&&(n=nu(e,t))}this.setBaseTarget(e,np(n)?n.get():n)}return np(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:n}=this.props;if("string"==typeof n||"object"==typeof n){let r=nB(this.props,n,this.presenceContext?.custom);r&&(t=r[e])}if(n&&void 0!==t)return t;let r=this.getBaseTargetFromProps(this.props,e);return void 0===r||np(r)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new ny),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){nS.render(this.render)}}class nz extends n${constructor(){super(...arguments),this.KeyframeResolver=nh}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;np(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}let nH=(e,t)=>t&&"number"==typeof e?t.transform(e):e,nY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nW=eH.length;function nq(e,t,n){let{style:r,vars:i,transformOrigin:a}=e,s=!1,o=!1;for(let e in t){let n=t[e];if(eY.has(e)){s=!0;continue}if(e5(e)){i[e]=n;continue}{let t=nH(n,no[e]);e.startsWith("origin")?(o=!0,a[e]=t):r[e]=t}}if(!t.transform&&(s||n?r.transform=function(e,t,n){let r="",i=!0;for(let a=0;a<nW;a++){let s=eH[a],o=e[s];if(void 0===o)continue;let l=!0;if(!(l="number"==typeof o?o===+!!s.startsWith("scale"):0===parseFloat(o))||n){let e=nH(o,no[s]);if(!l){i=!1;let t=nY[s]||s;r+=`${t}(${e}) `}n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:n=0}=a;r.transformOrigin=`${e} ${t} ${n}`}}function nG(e,{style:t,vars:n},r,i){let a,s=e.style;for(a in t)s[a]=t[a];for(a in i?.applyProjectionStyles(s,r),n)s.setProperty(a,n[a])}function nK(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let nX={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!ty.test(e))return e;else e=parseFloat(e);let n=nK(e,t.target.x),r=nK(e,t.target.y);return`${n}% ${r}%`}},nZ={borderRadius:{...nX,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nX,borderTopRightRadius:nX,borderBottomLeftRadius:nX,borderBottomRightRadius:nX,boxShadow:{correct:(e,{treeScale:t,projectionDelta:n})=>{let r=nt.parse(e);if(r.length>5)return e;let i=nt.createTransformer(e),a=+("number"!=typeof r[0]),s=n.x.scale*t.x,o=n.y.scale*t.y;r[0+a]/=s,r[1+a]/=o;let l=e7(s,o,.5);return"number"==typeof r[2+a]&&(r[2+a]/=l),"number"==typeof r[3+a]&&(r[3+a]/=l),i(r)}}};function nJ(e,{layout:t,layoutId:n}){return eY.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!nZ[e]||"opacity"===e)}function nQ(e,t,n){let{style:r}=e,i={};for(let a in r)(np(r[a])||t.style&&np(t.style[a])||nJ(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}class n0 extends nz{constructor(){super(...arguments),this.type="html",this.renderInstance=nG}readValueFromInstance(e,t){if(eY.has(t))return this.projection?.isProjecting?eQ(t):((e,t)=>{let{transform:n="none"}=getComputedStyle(e);return e0(n,t)})(e,t);{let n=window.getComputedStyle(e),r=(e5(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return tc(e,t)}build(e,t,n){nq(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return nQ(e,t,n)}}let n1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),n2={offset:"stroke-dashoffset",array:"stroke-dasharray"},n5={offset:"strokeDashoffset",array:"strokeDasharray"};function n4(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},l,c,u){if(nq(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=u?.transformBox??"fill-box",delete d.transformBox),void 0!==t&&(d.x=t),void 0!==n&&(d.y=n),void 0!==r&&(d.scale=r),void 0!==i&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;let a=i?n2:n5;e[a.offset]=ty.transform(-r);let s=ty.transform(t),o=ty.transform(n);e[a.array]=`${s} ${o}`}(d,i,a,s,!1)}let n3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),n6=e=>"string"==typeof e&&"svg"===e.toLowerCase();function n8(e,t,n){let r=nQ(e,t,n);for(let n in e)(np(e[n])||np(t[n]))&&(r[-1!==eH.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=e[n]);return r}class n7 extends nz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nT}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(eY.has(t)){let e=nc(t);return e&&e.default||0}return t=n3.has(t)?t:n1(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return n8(e,t,n)}build(e,t,n){n4(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){for(let n in nG(e,t,void 0,r),t.attrs)e.setAttribute(n3.has(n)?n:n1(n),t.attrs[n])}mount(e){this.isSVGTag=n6(e.tagName),super.mount(e)}}let n9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function re(e){if("string"!=typeof e||e.includes("-"));else if(n9.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let rt=(0,P.createContext)({}),rn=(0,P.createContext)({strict:!1}),rr=(0,P.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ri=(0,P.createContext)({});function ra(e){return Array.isArray(e)?e.join(" "):e}let rs=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ro(e,t,n){for(let r in t)np(t[r])||nJ(r,n)||(e[r]=t[r])}let rl=()=>({...rs(),attrs:{}}),rc=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ru(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rc.has(e)}let rd=e=>!ru(e);try{a=(()=>{let e=Error("Cannot find module '@emotion/is-prop-valid'");throw e.code="MODULE_NOT_FOUND",e})().default,"function"==typeof a&&(rd=e=>e.startsWith("on")?!ru(e):a(e))}catch{}let rh=(0,P.createContext)(null);function rp(e){let t=(0,P.useRef)(null);return null===t.current&&(t.current=e()),t.current}function rm(e){return np(e)?e.get():e}let rf=e=>(t,n)=>{let r=(0,P.useContext)(ri),i=(0,P.useContext)(rh),a=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:function(e,t,n,r){let i={},a=r(e,{});for(let e in a)i[e]=rm(a[e]);let{initial:s,animate:o}=e,l=nV(e),c=nU(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial,d=(u=u||!1===s)?o:s;if(d&&"boolean"!=typeof d&&!nI(d)){let t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){let r=nB(e,t[n]);if(r){let{transitionEnd:e,transition:t,...n}=r;for(let e in n){let t=n[e];if(Array.isArray(t)){let e=u?t.length-1:0;t=t[e]}null!==t&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}(n,r,i,e),renderState:t()}})(e,t,r,i);return n?a():rp(a)},rg=rf({scrapeMotionValuesFromProps:nQ,createRenderState:rs}),rx=rf({scrapeMotionValuesFromProps:n8,createRenderState:rl}),ry=Symbol.for("motionComponentSymbol");function rv(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let rb="data-"+n1("framerAppearId"),rw=(0,P.createContext)({}),rS=nD?P.useLayoutEffect:P.useEffect;function rj(e,{forwardMotionProps:t=!1}={},n,r){n&&function(e){for(let t in e)nE[t]={...nE[t],...e[t]}}(n);let i=re(e)?rx:rg;function a(n,a){var s;let o,l={...(0,P.useContext)(rr),...n,layoutId:function({layoutId:e}){let t=(0,P.useContext)(rt).id;return t&&void 0!==e?t+"-"+e:e}(n)},{isStatic:c}=l,u=function(e){let{initial:t,animate:n}=function(e,t){if(nV(e)){let{initial:t,animate:n}=e;return{initial:!1===t||nL(t)?t:void 0,animate:nL(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,P.useContext)(ri));return(0,P.useMemo)(()=>({initial:t,animate:n}),[ra(t),ra(n)])}(n),d=i(n,c);if(!c&&nD){(0,P.useContext)(rn).strict;let t=function(e){let{drag:t,layout:n}=nE;if(!t&&!n)return{};let r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=t.MeasureLayout,u.visualElement=function(e,t,n,r,i){let{visualElement:a}=(0,P.useContext)(ri),s=(0,P.useContext)(rn),o=(0,P.useContext)(rh),l=(0,P.useContext)(rr).reducedMotion,c=(0,P.useRef)(null);r=r||s.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:a,props:n,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));let u=c.current,d=(0,P.useContext)(rw);u&&!u.projection&&i&&("html"===u.type||"svg"===u.type)&&function(e,t,n,r){let{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&rv(o),visualElement:e,animationType:"string"==typeof a?a:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(c.current,n,i,d);let h=(0,P.useRef)(!1);(0,P.useInsertionEffect)(()=>{u&&h.current&&u.update(n,o)});let p=n[rb],m=(0,P.useRef)(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return rS(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),m.current&&u.animationState&&u.animationState.animateChanges())}),(0,P.useEffect)(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),m.current=!1),u.enteringChildren=void 0)}),u}(e,d,l,r,t.ProjectionNode)}return(0,A.jsxs)(ri.Provider,{value:u,children:[o&&u.visualElement?(0,A.jsx)(o,{visualElement:u.visualElement,...l}):null,function(e,t,n,{latestValues:r},i,a=!1){let s=(re(e)?function(e,t,n,r){let i=(0,P.useMemo)(()=>{let n=rl();return n4(n,t,n6(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){let t={};ro(t,e.style,e),i.style={...t,...i.style}}return i}:function(e,t){let n,r,i={},a=(n=e.style||{},ro(r={},n,e),Object.assign(r,function({transformTemplate:e},t){return(0,P.useMemo)(()=>{let n=rs();return nq(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),r);return e.drag&&!1!==e.dragListener&&(i.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=a,i})(t,r,i,e),o=function(e,t,n){let r={};for(let i in e)("values"!==i||"object"!=typeof e.values)&&(rd(i)||!0===n&&ru(i)||!t&&!ru(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(t,"string"==typeof e,a),l=e!==P.Fragment?{...o,...s,ref:n}:{},{children:c}=t,u=(0,P.useMemo)(()=>np(c)?c.get():c,[c]);return(0,P.createElement)(e,{...l,children:u})}(e,n,(s=u.visualElement,(0,P.useCallback)(e=>{e&&d.onMount&&d.onMount(e),s&&(e?s.mount(e):s.unmount()),a&&("function"==typeof a?a(e):rv(a)&&(a.current=e))},[s])),d,c,t)]})}a.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;let s=(0,P.forwardRef)(a);return s[ry]=e,s}function rE(e,t,n){let r=e.getProps();return nB(r,t,void 0!==n?n:r.custom,e)}function rN(e,t){return e?.[t]??e?.default??e}let rk=e=>Array.isArray(e);function rC(e,t){let{transitionEnd:n={},transition:r={},...i}=rE(e,t)||{};for(let t in i={...i,...n}){var a;let n=rk(a=i[t])?a[a.length-1]||0:a;e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,nb(n))}}function rT(e,t){let n=e.getValue("willChange");if(np(n)&&n.add)return n.add(t);if(!n&&tI.WillChange){let n=new tI.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function rD(e){e.duration=0,e.type="keyframes"}let rA=(e,t)=>n=>t(e(n)),rP=(...e)=>e.reduce(rA),rM=e=>1e3*e,rI={layout:0,mainThread:0,waapi:0};function rL(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function rO(e,t){return n=>n>0?t:e}let rR=(e,t,n)=>{let r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},rV=[t0,tQ,t1];function rU(e){let t=rV.find(t=>t.test(e));if(tN(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===t1&&(n=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,a=0,s=0;if(t/=100){let r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;i=rL(o,r,e+1/3),a=rL(o,r,e),s=rL(o,r,e-1/3)}else i=a=s=n;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*s),alpha:r}}(n)),n}let rF=(e,t)=>{let n=rU(e),r=rU(t);if(!n||!r)return rO(e,t);let i={...n};return e=>(i.red=rR(n.red,r.red,e),i.green=rR(n.green,r.green,e),i.blue=rR(n.blue,r.blue,e),i.alpha=e7(n.alpha,r.alpha,e),tQ.transform(i))},rB=new Set(["none","hidden"]);function r_(e,t){return n=>e7(e,t,n)}function r$(e){return"number"==typeof e?r_:"string"==typeof e?e3(e)?rO:t2.test(e)?rF:rY:Array.isArray(e)?rz:"object"==typeof e?t2.test(e)?rF:rH:rO}function rz(e,t){let n=[...e],r=n.length,i=e.map((e,n)=>r$(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function rH(e,t){let n={...e,...t},r={};for(let i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=r$(e[i])(e[i],t[i]));return e=>{for(let t in r)n[t]=r[t](e);return n}}let rY=(e,t)=>{let n=nt.createTransformer(t),r=t8(e),i=t8(t);if(!(r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length))return tN(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),rO(e,t);if(rB.has(e)&&!i.values.length||rB.has(t)&&!r.values.length)return rB.has(e)?n=>n<=0?e:t:n=>n>=1?t:e;return rP(rz(function(e,t){let n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){let a=t.types[i],s=e.indexes[a][r[a]],o=e.values[s]??0;n[i]=o,r[a]++}return n}(r,i),i.values),n)};function rW(e,t,n){return"number"==typeof e&&"number"==typeof t&&"number"==typeof n?e7(e,t,n):r$(e)(e,t)}let rq=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>tR.update(t,e),stop:()=>tV(t),now:()=>tU.isProcessing?tU.timestamp:nf.now()}},rG=(e,t,n=10)=>{let r="",i=Math.max(Math.round(t/n),2);for(let t=0;t<i;t++)r+=Math.round(1e4*e(t/(i-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`};function rK(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}function rX(e,t,n){var r,i;let a=Math.max(t-5,0);return r=n-e(a),(i=t-a)?1e3/i*r:0}let rZ=.01,rJ=2,rQ=.005,r0=.5;function r1(e,t){return e*Math.sqrt(1-t*t)}let r2=["duration","bounce"],r5=["stiffness","damping","mass"];function r4(e,t){return t.some(t=>void 0!==e[t])}function r3(e=.3,t=.3){let n,r="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:i,restDelta:a}=r,s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!r4(e,r5)&&r4(e,r2))if(e.visualDuration){let n=2*Math.PI/(1.2*e.visualDuration),r=n*n,i=2*td(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:1,stiffness:r,damping:i}}else{let n=function({duration:e=800,bounce:t=.3,velocity:n=0,mass:r=1}){let i,a;tN(e<=rM(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let s=1-t;s=td(.05,1,s),e=td(.01,10,e/1e3),s<1?(i=t=>{let r=t*s,i=r*e;return .001-(r-n)/r1(t,s)*Math.exp(-i)},a=t=>{let r=t*s*e,a=Math.pow(s,2)*Math.pow(t,2)*e,o=Math.exp(-r),l=r1(Math.pow(t,2),s);return(r*n+n-a)*o*(-i(t)+.001>0?-1:1)/l}):(i=t=>-.001+Math.exp(-t*e)*((t-n)*e+1),a=t=>e*e*(n-t)*Math.exp(-t*e));let o=function(e,t,n){let r=n;for(let n=1;n<12;n++)r-=e(r)/t(r);return r}(i,a,5/e);if(e=rM(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(o,2)*r;return{stiffness:t,damping:2*s*Math.sqrt(r*t),duration:e}}}(e);(t={...t,...n,mass:1}).isResolvedFromDuration=!0}return t}({...r,velocity:-((r.velocity||0)/1e3)}),f=p||0,g=u/(2*Math.sqrt(c*d)),x=o-s,y=Math.sqrt(c/d)/1e3,v=5>Math.abs(x);if(i||(i=v?rZ:rJ),a||(a=v?rQ:r0),g<1){let e=r1(y,g);n=t=>o-Math.exp(-g*y*t)*((f+g*y*x)/e*Math.sin(e*t)+x*Math.cos(e*t))}else if(1===g)n=e=>o-Math.exp(-y*e)*(x+(f+y*x)*e);else{let e=y*Math.sqrt(g*g-1);n=t=>{let n=Math.exp(-g*y*t),r=Math.min(e*t,300);return o-n*((f+g*y*x)*Math.sinh(r)+e*x*Math.cosh(r))/e}}let b={calculatedDuration:m&&h||null,next:e=>{let t=n(e);if(m)l.done=e>=h;else{let r=0===e?f:0;g<1&&(r=0===e?rM(f):rX(n,e,t));let s=Math.abs(o-t)<=a;l.done=Math.abs(r)<=i&&s}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(rK(b),2e4),t=rG(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function r6({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){let d,h,p=e[0],m={done:!1,value:p},f=n*t,g=p+f,x=void 0===s?g:s(g);x!==g&&(f=x-p);let y=e=>-f*Math.exp(-e/r),v=e=>x+y(e),b=e=>{let t=y(e),n=v(e);m.done=Math.abs(t)<=c,m.value=m.done?x:n},w=e=>{let t;if(t=m.value,void 0!==o&&t<o||void 0!==l&&t>l){var n;d=e,h=r3({keyframes:[m.value,(n=m.value,void 0===o?l:void 0===l||Math.abs(o-n)<Math.abs(l-n)?o:l)],velocity:rX(v,e,m.value),damping:i,stiffness:a,restDelta:c,restSpeed:u})}};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return(h||void 0!==d||(t=!0,b(e),w(e)),void 0!==d&&e>=d)?h.next(e-d):(t||b(e),m)}}}r3.applyToOptions=e=>{let t=function(e,t=100,n){let r=n({...e,keyframes:[0,t]}),i=Math.min(rK(r),2e4);return{type:"keyframes",ease:e=>r.next(i*e).value/t,duration:i/1e3}}(e,100,r3);return e.ease=t.ease,e.duration=rM(t.duration),e.type="keyframes",e};let r8=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function r7(e,t,n,r){return e===t&&n===r?tM:i=>0===i||1===i?i:r8(function(e,t,n,r,i){let a,s,o=0;do(a=r8(s=t+(n-t)/2,r,i)-e)>0?n=s:t=s;while(Math.abs(a)>1e-7&&++o<12)return s}(i,0,1,e,n),t,r)}let r9=r7(.42,0,1,1),ie=r7(0,0,.58,1),it=r7(.42,0,.58,1),ir=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ii=e=>t=>1-e(1-t),ia=r7(.33,1.53,.69,.99),is=ii(ia),io=ir(is),il=e=>(e*=2)<1?.5*is(e):.5*(2-Math.pow(2,-10*(e-1))),ic=e=>1-Math.sin(Math.acos(e)),iu=ii(ic),id=ir(ic),ih=e=>Array.isArray(e)&&"number"==typeof e[0],ip={linear:tM,easeIn:r9,easeInOut:it,easeOut:ie,circIn:ic,circInOut:id,circOut:iu,backIn:is,backInOut:io,backOut:ia,anticipate:il},im=e=>{if(ih(e)){tk(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,n,r,i]=e;return r7(t,n,r,i)}return"string"==typeof e?(tk(void 0!==ip[e],`Invalid easing type '${e}'`,"invalid-easing-type"),ip[e]):e},ig=(e,t,n)=>{let r=t-e;return 0===r?1:(n-e)/r};function ix({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){var i;let a,s=Array.isArray(r)&&"number"!=typeof r[0]?r.map(im):im(r),o={done:!1,value:t[0]},l=function(e,t,{clamp:n=!0,ease:r,mixer:i}={}){let a=e.length;if(tk(a===t.length,"Both input and output ranges must be the same length","range-length"),1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];let s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,n){let r=[],i=n||tI.mix||rW,a=e.length-1;for(let n=0;n<a;n++){let a=i(e[n],e[n+1]);t&&(a=rP(Array.isArray(t)?t[n]||tM:t,a)),r.push(a)}return r}(t,r,i),l=o.length,c=n=>{if(s&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);let i=ig(e[r],e[r+1],n);return o[r](i)};return n?t=>c(td(e[0],e[a-1],t)):c}((i=n&&n.length===t.length?n:(!function(e,t){let n=e[e.length-1];for(let r=1;r<=t;r++){let i=ig(0,t,r);e.push(e7(n,1,i))}}(a=[0],t.length-1),a),i.map(t=>t*e)),t,{ease:Array.isArray(s)?s:t.map(()=>s||it).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(o.value=l(t),o.done=t>=e,o)}}let iy=e=>null!==e;function iv(e,{repeat:t,repeatType:n="loop"},r,i=1){let a=e.filter(iy),s=i<0||t&&"loop"!==n&&t%2==1?0:a.length-1;return s&&void 0!==r?r:a[s]}let ib={decay:r6,inertia:r6,tween:ix,keyframes:ix,spring:r3};function iw(e){"string"==typeof e.type&&(e.type=ib[e.type])}class iS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let ij=e=>e/100;class iE extends iS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==nf.now()&&this.tick(nf.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},rI.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;iw(e);let{type:t=ix,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e,{keyframes:s}=e,o=t||ix;o!==ix&&"number"!=typeof s[0]&&(this.mixKeyframes=rP(ij,rW(s[0],s[1])),s=[0,100]);let l=o({...e,keyframes:s});"mirror"===i&&(this.mirroredGenerator=o({...e,keyframes:[...s].reverse(),velocity:-a})),null===l.calculatedDuration&&(l.calculatedDuration=rK(l));let{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:s,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);let{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,v=n;if(u){let e=Math.min(this.currentTime,r)/s,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,(t=Math.min(t,u+1))%2&&("reverse"===d?(n=1-n,h&&(n-=h/s)):"mirror"===d&&(v=a)),y=td(0,1,n)*s}let b=x?{done:!1,value:c[0]}:v.next(y);i&&(b.value=i(b.value));let{done:w}=b;x||null===o||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);let S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return S&&p!==r6&&(b.value=iv(c,this.options,f,this.speed)),m&&m(b.value),S&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return this.currentTime/1e3}set time(e){e=rM(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(nf.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:e=rq,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let n=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=n):null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(nf.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,rI.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function iN(e){let t;return()=>(void 0===t&&(t=e()),t)}let ik=iN(()=>void 0!==window.ScrollTimeline),iC={},iT=(n=iN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),()=>iC.linearEasing??n()),iD=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,iA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:iD([0,.65,.55,1]),circOut:iD([.55,0,1,.45]),backIn:iD([.31,.01,.66,-.59]),backOut:iD([.33,1.53,.69,.99])};function iP(e){return"function"==typeof e&&"applyToOptions"in e}class iM extends iS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:s,onComplete:o}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,tk("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function({type:e,...t}){return iP(e)&&iT()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c){let u={[t]:n};l&&(u.offset=l);let d=function e(t,n){if(t)return"function"==typeof t?iT()?rG(t,n):"ease-out":ih(t)?iD(t):Array.isArray(t)?t.map(t=>e(t,n)||iA.easeOut):iA[t]}(o,i);Array.isArray(d)&&(u.easing=d);let h={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===s?"alternate":"normal"};c&&(h.pseudoElement=c);let p=e.animate(u,h);return p}(t,n,r,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){let e=iv(r,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):n.startsWith("--")?t.style.setProperty(n,e):t.style[n]=e,this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(e){this.finishedTime=null,this.animation.currentTime=rM(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ik())?(this.animation.timeline=e,tM):t(this)}}let iI={anticipate:il,backInOut:io,circInOut:id};class iL extends iM{constructor(e){!function(e){"string"==typeof e.ease&&e.ease in iI&&(e.ease=iI[e.ease])}(e),iw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:n,onComplete:r,element:i,...a}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);let s=new iE({...a,autoplay:!1}),o=rM(this.finishedTime??this.time);t.setWithVelocity(s.sample(o-10).value,s.sample(o).value,10),s.stop()}}let iO=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(nt.test(e)||"0"===e)&&!e.startsWith("url(")),iR=new Set(["opacity","clipPath","filter","transform"]),iV=iN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class iU extends iS{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",keyframes:s,name:o,motionValue:l,element:c,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=nf.now();const d={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:a,name:o,motionValue:l,element:c,...u},h=c?.KeyframeResolver||tW;this.keyframeResolver=new h(s,(e,t,n)=>this.onKeyframesResolved(e,t,d,!n),o,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;let{name:i,type:a,velocity:s,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=nf.now(),!function(e,t,n,r){let i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;let a=e[e.length-1],s=iO(i,t),o=iO(a,t);return tN(s===o,`You are trying to animate ${t} from "${i}" to "${a}". "${s?a:i}" is not an animatable value.`,"value-not-animatable"),!!s&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||iP(n))&&r)}(e,i,a,s)&&((tI.instantAnimations||!o)&&c?.(iv(e,n,t)),e[0]=e[e.length-1],rD(n),n.repeat=0);let u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!l&&function(e){let{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:s}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return iV()&&n&&iR.has(n)&&("transform"!==n||!l)&&!o&&!r&&"mirror"!==i&&0!==a&&"inertia"!==s}(u)?new iL({...u,element:u.motionValue.owner.current}):new iE(u);d.finished.then(()=>this.notifyFinished()).catch(tM),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),tz=!0,tY(),tH(),tz=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let iF=e=>null!==e,iB={type:"spring",stiffness:500,damping:25,restSpeed:10},i_={type:"keyframes",duration:.8},i$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iz=(e,t,n,r={},i,a)=>s=>{let o=rN(r,e)||{},l=o.delay||r.delay||0,{elapsed:c=0}=r;c-=rM(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i};!function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}(o)&&Object.assign(u,((e,{keyframes:t})=>t.length>2?i_:eY.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:iB:i$)(e,u)),u.duration&&(u.duration=rM(u.duration)),u.repeatDelay&&(u.repeatDelay=rM(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if(!1!==u.type&&(0!==u.duration||u.repeatDelay)||(rD(u),0===u.delay&&(d=!0)),(tI.instantAnimations||tI.skipAnimations)&&(d=!0,rD(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!a&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:n="loop"},r){let i=e.filter(iF),a=t&&"loop"!==n&&t%2==1?0:i.length-1;return i[a]}(u.keyframes,o);if(void 0!==e)return void tR.update(()=>{u.onUpdate(e),u.onComplete()})}return o.isSync?new iE(u):new iU(u)};function iH(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=t;r&&(a=r);let l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(let t in o){let r=e.getValue(t,e.latestValues[t]??null),i=o[t];if(void 0===i||c&&function({protectedKeys:e,needsAnimating:t},n){let r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}(c,t))continue;let s={delay:n,...rN(a||{},t)},u=r.get();if(void 0!==u&&!r.isAnimating&&!Array.isArray(i)&&i===u&&!s.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){let n=e.props[rb];if(n){let e=window.MotionHandoffAnimation(n,t,tR);null!==e&&(s.startTime=e,d=!0)}}rT(e,t),r.start(iz(t,r,i,e.shouldReduceMotion&&tu.has(t)?{type:!1}:s,e,d));let h=r.animation;h&&l.push(h)}return s&&Promise.all(l).then(()=>{tR.update(()=>{s&&rC(e,s)})}),l}function iY(e,t,n,r=0,i=1){let a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),s=e.size,o=(s-1)*r;return"function"==typeof n?n(a,s):1===i?a*r:o-a*r}function iW(e,t,n={}){let r=rE(e,t,"exit"===n.type?e.presenceContext?.custom:void 0),{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);let a=r?()=>Promise.all(iH(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:a=0,staggerChildren:s,staggerDirection:o}=i;return function(e,t,n=0,r=0,i=0,a=1,s){let o=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),o.push(iW(l,t,{...s,delay:n+("function"==typeof r?0:r)+iY(e.variantChildren,l,r,i,a)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,r,a,s,o,n)}:()=>Promise.resolve(),{when:o}=i;if(!o)return Promise.all([a(),s(n.delay)]);{let[e,t]="beforeChildren"===o?[a,s]:[s,a];return e().then(()=>t())}}function iq(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t))r=Promise.all(t.map(t=>iW(e,t,n)));else if("string"==typeof t)r=iW(e,t,n);else{let i="function"==typeof t?rE(e,t,n.custom):t;r=Promise.all(iH(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function iG(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}let iK=nR.length,iX=[...nO].reverse(),iZ=nO.length;function iJ(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iQ(){return{animate:iJ(!0),whileInView:iJ(),whileHover:iJ(),whileTap:iJ(),whileDrag:iJ(),whileFocus:iJ(),exit:iJ()}}class i0{constructor(e){this.isMounted=!1,this.node=e}update(){}}let i1=0,i2={x:!1,y:!1};function i5(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}let i4=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function i3(e){return{point:{x:e.pageX,y:e.pageY}}}function i6(e,t,n,r){return i5(e,t,e=>i4(e)&&n(e,i3(e)),r)}function i8(e){return e.max-e.min}function i7(e,t,n,r=.5){e.origin=r,e.originPoint=e7(t.min,t.max,e.origin),e.scale=i8(n)/i8(t),e.translate=e7(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function i9(e,t,n,r){i7(e.x,t.x,n.x,r?r.originX:void 0),i7(e.y,t.y,n.y,r?r.originY:void 0)}function ae(e,t,n){e.min=n.min+t.min,e.max=e.min+i8(t)}function at(e,t,n){e.min=t.min-n.min,e.max=e.min+i8(t)}function an(e,t,n){at(e.x,t.x,n.x),at(e.y,t.y,n.y)}function ar(e){return[e("x"),e("y")]}let ai=({current:e})=>e?e.ownerDocument.defaultView:null,aa=(e,t)=>Math.abs(e-t);class as{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=ac(this.lastMoveEventInfo,this.history),r=null!==this.startEvent,i=(e=n.offset,t={x:0,y:0},Math.sqrt(aa(e.x,t.x)**2+aa(e.y,t.y)**2)>=this.distanceThreshold);if(!r&&!i)return;let{point:a}=n,{timestamp:s}=tU;this.history.push({...a,timestamp:s});let{onStart:o,onMove:l}=this.handlers;r||(o&&o(this.lastMoveEvent,n),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,n)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=ao(t,this.transformPagePoint),tR.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=ac("pointercancel"===e.type?this.lastMoveEventInfo:ao(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!i4(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;const s=ao(i3(e),this.transformPagePoint),{point:o}=s,{timestamp:l}=tU;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,ac(s,this.history)),this.removeListeners=rP(i6(this.contextWindow,"pointermove",this.handlePointerMove),i6(this.contextWindow,"pointerup",this.handlePointerUp),i6(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),tV(this.updatePoint)}}function ao(e,t){return t?{point:t(e.point)}:e}function al(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ac({point:e},t){return{point:e,delta:al(e,au(t)),offset:al(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,i=au(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>rM(.1)));)n--;if(!r)return{x:0,y:0};let a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};let s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}(t,.1)}}function au(e){return e[e.length-1]}function ad(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function ah(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function ap(e,t,n){return{min:am(e,t),max:am(e,n)}}function am(e,t){return"number"==typeof e?e:e[t]||0}let af=new WeakMap;class ag{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nT(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){let{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;let i=e=>{let{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(i3(e).point)},a=(e,t)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(i2[e])return null;else return i2[e]=!0,()=>{i2[e]=!1};return i2.x||i2.y?null:(i2.x=i2.y=!0,()=>{i2.x=i2.y=!1})}(n),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ar(e=>{let t=this.getAxisMotionValue(e).get()||0;if(tx.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[e];r&&(t=i8(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&tR.postRender(()=>i(e,t)),rT(this.visualElement,"transform");let{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},s=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:s}=t;if(r&&null===this.currentDirection){this.currentDirection=function(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(s),null!==this.currentDirection&&i&&i(this.currentDirection);return}this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),a&&a(e,t)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>ar(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new as(e,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:n,contextWindow:ai(this.visualElement)})}stop(e,t){let n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;let{velocity:a}=r;this.startAnimation(a);let{onDragEnd:s}=this.getProps();s&&tR.postRender(()=>s(n,r))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){let{drag:r}=this.getProps();if(!n||!ax(e,r,this.currentDirection))return;let i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?e7(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?e7(n,e,r.max):Math.min(e,n)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&rv(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=function(e,{top:t,left:n,bottom:r,right:i}){return{x:ad(e.x,n,i),y:ad(e.y,t,r)}}(n.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:ap(e,"left","right"),y:ap(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ar(e=>{var t,r;let i;!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=(t=n.layoutBox[e],r=this.constraints[e],i={},void 0!==r.min&&(i.min=r.min-t.min),void 0!==r.max&&(i.max=r.max-t.min),i))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!rv(t))return!1;let r=t.current;tk(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:i}=this.visualElement;if(!i||!i.layout)return!1;let a=function(e,t,n){let r=tc(e,n),{scroll:i}=t;return i&&(ts(r.x,i.offset.x),ts(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),s=(e=i.layout.layoutBox,{x:ah(e.x,a.x),y:ah(e.y,a.y)});if(n){let e=n(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=e8(e))}return s}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),o=this.constraints||{};return Promise.all(ar(s=>{if(!ax(s,t,this.currentDirection))return;let l=o&&o[s]||{};a&&(l={min:0,max:0});let c={type:"inertia",velocity:n?e[s]:0,bounceStiffness:r?200:1e6,bounceDamping:r?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(s,c)})).then(s)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return rT(this.visualElement,e),n.start(iz(e,n,0,t,this.visualElement,!1))}stopAnimation(){ar(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ar(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ar(t=>{let{drag:n}=this.getProps();if(!ax(t,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){let{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-e7(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!rv(t)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};ar(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){var n,i;let a,s,o,l=t.get();r[e]=(n={min:l,max:l},i=this.constraints[e],a=.5,s=i8(n),(o=i8(i))>s?a=ig(i.min,i.max-s,n.min):s>o&&(a=ig(n.min,n.max-o,i.min)),td(0,1,a))}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ar(t=>{if(!ax(t,e,null))return;let n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(e7(i,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;af.set(this.visualElement,this);let e=i6(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();rv(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),tR.read(t);let i=i5(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(ar(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),a&&a()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=.35,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:s}}}function ax(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}let ay=e=>(t,n)=>{e&&tR.postRender(()=>e(t,n))};var av=P;let ab={hasAnimatedSinceResize:!0,hasEverUpdated:!1},aw=!1;class aS extends av.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),aw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ab.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a&&(a.isPresent=i,aw=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||tR.postRender(()=>{let e=a.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),nS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;aw=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function aj(e){let[t,n]=function(e=!0){let t=(0,P.useContext)(rh);if(null===t)return[!0,null];let{isPresent:n,onExitComplete:r,register:i}=t,a=(0,P.useId)();(0,P.useEffect)(()=>{if(e)return i(a)},[e]);let s=(0,P.useCallback)(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,s]:[!0]}(),r=(0,av.useContext)(rt);return(0,A.jsx)(aS,{...e,layoutGroup:r,switchLayoutGroup:(0,av.useContext)(rw),isPresent:t,safeToRemove:n})}function aE(e){return"object"==typeof e&&null!==e}function aN(e){return aE(e)&&"ownerSVGElement"in e}let ak=(e,t)=>e.depth-t.depth;class aC{constructor(){this.children=[],this.isDirty=!1}add(e){ng(this.children,e),this.isDirty=!0}remove(e){nx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ak),this.isDirty=!1,this.children.forEach(e)}}let aT=["TopLeft","TopRight","BottomLeft","BottomRight"],aD=aT.length,aA=e=>"string"==typeof e?parseFloat(e):e,aP=e=>"number"==typeof e||ty.test(e);function aM(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let aI=aO(0,.5,iu),aL=aO(.5,.95,tM);function aO(e,t,n){return r=>r<e?0:r>t?1:n(ig(e,t,r))}function aR(e,t){e.min=t.min,e.max=t.max}function aV(e,t){aR(e.x,t.x),aR(e.y,t.y)}function aU(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function aF(e,t,n,r,i){return e-=t,e=r+1/n*(e-r),void 0!==i&&(e=r+1/i*(e-r)),e}function aB(e,t,[n,r,i],a,s){!function(e,t=0,n=1,r=.5,i,a=e,s=e){if(tx.test(t)&&(t=parseFloat(t),t=e7(s.min,s.max,t/100)-s.min),"number"!=typeof t)return;let o=e7(a.min,a.max,r);e===a&&(o-=t),e.min=aF(e.min,t,n,o,i),e.max=aF(e.max,t,n,o,i)}(e,t[n],t[r],t[i],t.scale,a,s)}let a_=["x","scaleX","originX"],a$=["y","scaleY","originY"];function az(e,t,n,r){aB(e.x,t,a_,n?n.x:void 0,r?r.x:void 0),aB(e.y,t,a$,n?n.y:void 0,r?r.y:void 0)}function aH(e){return 0===e.translate&&1===e.scale}function aY(e){return aH(e.x)&&aH(e.y)}function aW(e,t){return e.min===t.min&&e.max===t.max}function aq(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function aG(e,t){return aq(e.x,t.x)&&aq(e.y,t.y)}function aK(e){return i8(e.x)/i8(e.y)}function aX(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class aZ{constructor(){this.members=[]}add(e){ng(this.members,e),e.scheduleRender()}remove(e){if(nx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,n=this.members.findIndex(t=>e===t);if(0===n)return!1;for(let e=n;e>=0;e--){let n=this.members[e];if(!1!==n.isPresent){t=n;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let aJ=["","X","Y","Z"],aQ=0;function a0(e,t,n,r){let{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function a1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=t?.()){this.id=aQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(a4),this.nodes.forEach(st),this.nodes.forEach(sn),this.nodes.forEach(a3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new aC)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new ny),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=aN(t)&&!(aN(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:n,layout:r,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||n)&&(this.isLayoutDirty=!0),e){let n,r=0,i=()=>this.root.updateBlockedByResize=!1;tR.read(()=>{r=window.innerWidth}),e(t,()=>{let e=window.innerWidth;if(e!==r){let t,a;r=e,this.root.updateBlockedByResize=!0,n&&n(),t=nf.now(),a=({timestamp:e})=>{let n=e-t;n>=250&&(tV(a),i(n-250))},tR.setup(a,!0),n=()=>tV(a),ab.hasAnimatedSinceResize&&(ab.hasAnimatedSinceResize=!1,this.nodes.forEach(se))}})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&i&&(n||r)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let a=this.options.transition||i.getDefaultTransition()||sl,{onLayoutAnimationStart:s,onLayoutAnimationComplete:o}=i.getProps(),l=!this.targetLayout||!aG(this.targetLayout,r),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...rN(a,"layout"),onPlay:s,onComplete:o};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||se(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),tV(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sr),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:n}=t.options;if(!n)return;let r=n.props[rb];if(window.MotionHasOptimisedAnimation(r,"transform")){let{layout:e,layoutId:n}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",tR,!(e||n))}let{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&e(i)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(a8);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(a7);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(a9),this.nodes.forEach(a2),this.nodes.forEach(a5)):this.nodes.forEach(a7),this.clearAllSnapshots();let e=nf.now();tU.delta=td(0,1e3/60,e-tU.timestamp),tU.timestamp=e,tU.isProcessing=!0,tF.update.process(tU),tF.preRender.process(tU),tF.render.process(tU),tU.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(a6),this.sharedNodes.forEach(si)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tR.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tR.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||i8(this.snapshot.measuredBox.x)||i8(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=nT(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!aY(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,a=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||tt(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let n=this.measurePageBox(),r=this.removeElementScroll(n);return e&&(r=this.removeTransform(r)),sd((t=r).x),sd(t.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return nT();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sp))){let{scroll:e}=this.root;e&&(ts(t.x,e.offset.x),ts(t.y,e.offset.y))}return t}removeElementScroll(e){let t=nT();if(aV(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){let r=this.path[n],{scroll:i,options:a}=r;r!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&aV(t,e),ts(t.x,i.offset.x),ts(t.y,i.offset.y))}return t}applyTransform(e,t=!1){let n=nT();aV(n,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&tl(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),tt(r.latestValues)&&tl(n,r.latestValues)}return tt(this.latestValues)&&tl(n,this.latestValues),n}removeTransform(e){let t=nT();aV(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!tt(n.latestValues))continue;te(n.latestValues)&&n.updateSnapshot();let r=nT();aV(r,n.measurePageBox()),az(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return tt(this.latestValues)&&az(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tU.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let n=!!this.resumingFrom||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:r,layoutId:i}=this.options;if(!this.layout||!(r||i))return;this.resolvedRelativeTargetAt=tU.timestamp;let a=this.getClosestProjectingParent();if(a&&this.linkedParentVersion!==a.layoutVersion&&!a.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(a&&a.layout?this.createRelativeTarget(a,this.layout.layoutBox,a.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta){if(this.target||(this.target=nT(),this.targetWithTransforms=nT()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var s,o,l;this.forceRelativeParentToResolveTarget(),s=this.target,o=this.relativeTarget,l=this.relativeParent.target,ae(s.x,o.x,l.x),ae(s.y,o.y,l.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):aV(this.target,this.layout.layoutBox),ta(this.target,this.targetDelta)):aV(this.target,this.layout.layoutBox);this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,a&&!!a.resumingFrom==!!this.resumingFrom&&!a.options.layoutScroll&&a.target&&1!==this.animationProgress?this.createRelativeTarget(a,this.target,a.target):this.relativeParent=this.relativeTarget=void 0)}}getClosestProjectingParent(){if(!(!this.parent||te(this.parent.latestValues)||tn(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,n){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nT(),this.relativeTargetOrigin=nT(),an(this.relativeTargetOrigin,t,n),aV(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===tU.timestamp&&(n=!1),n)return;let{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(r||i))return;aV(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,s=this.treeScale.y;!function(e,t,n,r=!1){let i,a,s=n.length;if(s){t.x=t.y=1;for(let o=0;o<s;o++){a=(i=n[o]).projectionDelta;let{visualElement:s}=i.options;(!s||!s.props.style||"contents"!==s.props.style.display)&&(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&tl(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,ta(e,a)),r&&tt(i.latestValues)&&tl(e,i.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=nT());let{target:o}=e;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(aU(this.prevProjectionDelta.x,this.projectionDelta.x),aU(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),i9(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===a&&this.treeScale.y===s&&aX(this.projectionDelta.x,this.prevProjectionDelta.x)&&aX(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nk(),this.projectionDelta=nk(),this.projectionDeltaWithTransform=nk()}setAnimationOrigin(e,t=!1){let n,r=this.snapshot,i=r?r.latestValues:{},a={...this.latestValues},s=nk();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=nT(),l=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),u=!c||c.members.length<=1,d=!!(l&&!u&&!0===this.options.crossfade&&!this.path.some(so));this.animationProgress=0,this.mixTargetDelta=t=>{let r=t/1e3;if(sa(s.x,e.x,r),sa(s.y,e.y,r),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var c,h,p,m,f,g;an(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=o,g=r,ss(p.x,m.x,f.x,g),ss(p.y,m.y,f.y,g),n&&(c=this.relativeTarget,h=n,aW(c.x,h.x)&&aW(c.y,h.y))&&(this.isProjectionDirty=!1),n||(n=nT()),aV(n,this.relativeTarget)}l&&(this.animationValues=a,function(e,t,n,r,i,a){i?(e.opacity=e7(0,n.opacity??1,aI(r)),e.opacityExit=e7(t.opacity??1,0,aL(r))):a&&(e.opacity=e7(t.opacity??1,n.opacity??1,r));for(let i=0;i<aD;i++){let a=`border${aT[i]}Radius`,s=aM(t,a),o=aM(n,a);(void 0!==s||void 0!==o)&&(s||(s=0),o||(o=0),0===s||0===o||aP(s)===aP(o)?(e[a]=Math.max(e7(aA(s),aA(o),r),0),(tx.test(o)||tx.test(s))&&(e[a]+="%")):e[a]=o)}(t.rotate||n.rotate)&&(e.rotate=e7(t.rotate||0,n.rotate||0,r))}(a,i,this.latestValues,r,d,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(tV(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tR.update(()=>{var t,n,r;let i;ab.hasAnimatedSinceResize=!0,rI.layout++,this.motionValue||(this.motionValue=nb(0)),this.currentAnimation=(t=this.motionValue,n=[0,1e3],r={...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{rI.layout--},onComplete:()=>{rI.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}},(i=np(t)?t:nb(t)).start(iz("",i,n,r)),i.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&sh(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||nT();let t=i8(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let r=i8(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}aV(t,n),tl(t,i),i9(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new aZ),this.sharedNodes.get(e).add(t);let n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){let r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;let r={};n.z&&a0("z",e,r,this.animationValues);for(let t=0;t<aJ.length;t++)a0(`rotate${aJ[t]}`,e,r,this.animationValues),a0(`skew${aJ[t]}`,e,r,this.animationValues);for(let t in e.render(),r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let n=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=rm(t?.pointerEvents)||"",e.transform=n?n(this.latestValues,""):"none";return}let r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=rm(t?.pointerEvents)||""),this.hasProjected&&!tt(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1);return}e.visibility="";let i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let a=function(e,t,n){let r="",i=e.x.translate/t.x,a=e.y.translate/t.y,s=n?.z||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(1!==t.x||1!==t.y)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){let{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:s,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),a&&(r+=`rotateY(${a}deg) `),s&&(r+=`skewX(${s}deg) `),o&&(r+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);n&&(a=n(i,a)),e.transform=a;let{x:s,y:o}=this.projectionDelta;for(let t in e.transformOrigin=`${100*s.origin}% ${100*o.origin}% 0`,r.animationValues?e.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0,nZ){if(void 0===i[t])continue;let{correct:n,applyTo:s,isCSSVariable:o}=nZ[t],l="none"===a?i[t]:n(i[t],r);if(s){let t=s.length;for(let n=0;n<t;n++)e[s[n]]=l}else o?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=r===this?rm(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(a8),this.root.sharedNodes.clear()}}}function a2(e){e.updateLayout()}function a5(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;"size"===i?ar(e=>{let r=a?t.measuredBox[e]:t.layoutBox[e],i=i8(r);r.min=n[e].min,r.max=r.min+i}):sh(i,t.layoutBox,n)&&ar(r=>{let i=a?t.measuredBox[r]:t.layoutBox[r],s=i8(n[r]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)});let s=nk();i9(s,n,t.layoutBox);let o=nk();a?i9(o,e.applyTransform(r,!0),t.measuredBox):i9(o,n,t.layoutBox);let l=!aY(s),c=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:a}=r;if(i&&a){let s=nT();an(s,t.layoutBox,i.layoutBox);let o=nT();an(o,n,a.layoutBox),aG(s,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function a4(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function a3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function a6(e){e.clearSnapshot()}function a8(e){e.clearMeasurements()}function a7(e){e.isLayoutDirty=!1}function a9(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function se(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function st(e){e.resolveTargetDelta()}function sn(e){e.calcProjection()}function sr(e){e.resetSkewAndRotation()}function si(e){e.removeLeadSnapshot()}function sa(e,t,n){e.translate=e7(t.translate,0,n),e.scale=e7(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ss(e,t,n,r){e.min=e7(t.min,n.min,r),e.max=e7(t.max,n.max,r)}function so(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let sl={duration:.45,ease:[.4,0,.1,1]},sc=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),su=sc("applewebkit/")&&!sc("chrome/")?Math.round:tM;function sd(e){e.min=su(e.min),e.max=su(e.max)}function sh(e,t,n){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(aK(t)-aK(n)))}function sp(e){return e!==e.root&&e.scroll?.wasRoot}let sm=a1({attachResizeListener:(e,t)=>i5(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sf={current:void 0},sg=a1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sf.current){let e=new sm({});e.mount(window),e.setOptions({layoutScroll:!0}),sf.current=e}return sf.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function sx(e,t){let n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document,n=(void 0)??t.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function sy(e){return!("touch"===e.pointerType||i2.x||i2.y)}function sv(e,t,n){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);let i=r["onHover"+n];i&&tR.postRender(()=>i(t,i3(t)))}let sb=(e,t)=>!!t&&(e===t||sb(e,t.parentElement)),sw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),sS=new WeakSet;function sj(e){return t=>{"Enter"===t.key&&e(t)}}function sE(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function sN(e){return i4(e)&&!(i2.x||i2.y)}function sk(e,t,n){let{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);let i=r["onTap"+("End"===n?"":n)];i&&tR.postRender(()=>i(t,i3(t)))}let sC=new WeakMap,sT=new WeakMap,sD=e=>{let t=sC.get(e.target);t&&t(e)},sA=e=>{e.forEach(sD)},sP={some:0,all:1},sM=function(e,t){if("undefined"==typeof Proxy)return rj;let n=new Map,r=(n,r)=>rj(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,a)=>"create"===a?r:(n.has(a)||n.set(a,rj(a,void 0,e,t)),n.get(a))})}({animation:{Feature:class extends i0{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:n})=>iq(e,t,n))),n=iQ(),r=!0,i=t=>(n,r)=>{let i=rE(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(i){let{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function a(a){let{props:s}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let n=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(n.initial=t.props.initial),n}let n={};for(let e=0;e<iK;e++){let r=nR[e],i=t.props[r];(nL(i)||!1===i)&&(n[r]=i)}return n}(e.parent)||{},l=[],c=new Set,u={},d=1/0;for(let t=0;t<iZ;t++){var h,p;let m=iX[t],f=n[m],g=void 0!==s[m]?s[m]:o[m],x=nL(g),y=m===a?f.isActive:null;!1===y&&(d=t);let v=g===o[m]&&g!==s[m]&&x;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys={...u},!f.isActive&&null===y||!g&&!f.prevProp||nI(g)||"boolean"==typeof g)continue;let b=(h=f.prevProp,"string"==typeof(p=g)?p!==h:!!Array.isArray(p)&&!iG(p,h)),w=b||m===a&&f.isActive&&!v&&x||t>d&&x,S=!1,j=Array.isArray(g)?g:[g],E=j.reduce(i(m),{});!1===y&&(E={});let{prevResolvedValues:N={}}=f,k={...N,...E},C=t=>{w=!0,c.has(t)&&(S=!0,c.delete(t)),f.needsAnimating[t]=!0;let n=e.getValue(t);n&&(n.liveStyle=!1)};for(let e in k){let t=E[e],n=N[e];if(!u.hasOwnProperty(e))(rk(t)&&rk(n)?iG(t,n):t===n)?void 0!==t&&c.has(e)?C(e):f.protectedKeys[e]=!0:null!=t?C(e):c.add(e)}f.prevProp=g,f.prevResolvedValues=E,f.isActive&&(u={...u,...E}),r&&e.blockInitialAnimation&&(w=!1);let T=v&&b,D=!T||S;w&&D&&l.push(...j.map(t=>{let n={type:m};if("string"==typeof t&&r&&!T&&e.manuallyAnimateOnMount&&e.parent){let{parent:r}=e,i=rE(r,t);if(r.enteringChildren&&i){let{delayChildren:t}=i.transition||{};n.delay=iY(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){let t={};if("boolean"!=typeof s.initial){let n=rE(e,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{let r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=r??null}),l.push({animation:t})}let m=!!l.length;return r&&(!1===s.initial||s.initial===s.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;let i=a(t);for(let e in n)n[e].protectedKeys={};return i},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=iQ()}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();nI(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends i0{constructor(){super(...arguments),this.id=i1++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;let r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}},inView:{Feature:class extends i0{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var e;let t;this.unmount();let{viewport:n={}}=this.node.getProps(),{root:r,margin:i,amount:a="some",once:s}=n,o={root:r?r.current:void 0,rootMargin:i,threshold:"number"==typeof a?a:sP[a]},l=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,s&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)};return e=this.node.current,t=function({root:e,...t}){let n=e||document;sT.has(n)||sT.set(n,{});let r=sT.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(sA,{root:e,...t})),r[i]}(o),sC.set(e,l),t.observe(e),()=>{sC.delete(e),t.unobserve(e)}}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends i0{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){let[r,i,a]=sx(e,n),s=e=>{let r=e.currentTarget;if(!sN(e))return;sS.add(r);let a=t(r,e),s=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),sS.has(r)&&sS.delete(r),sN(e)&&"function"==typeof a&&a(e,{success:t})},o=e=>{s(e,r===window||r===document||n.useGlobalTarget||sb(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,i),aE(e)&&"offsetHeight"in e&&(e.addEventListener("focus",e=>((e,t)=>{let n=e.currentTarget;if(!n)return;let r=sj(()=>{if(sS.has(n))return;sE(n,"down");let e=sj(()=>{sE(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>sE(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i)),sw.has(e.tagName)||-1!==e.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}(e,(e,t)=>(sk(this.node,t,"Start"),(e,{success:t})=>sk(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends i0{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rP(i5(this.node.current,"focus",()=>this.onFocus()),i5(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends i0{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){let[r,i,a]=sx(e,n),s=e=>{if(!sy(e))return;let{target:n}=e,r=t(n,e);if("function"!=typeof r||!n)return;let a=e=>{sy(e)&&(r(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,i)};return r.forEach(e=>{e.addEventListener("pointerenter",s,i)}),a}(e,(e,t)=>(sv(this.node,t,"Start"),e=>sv(this.node,e,"End"))))}unmount(){}}},pan:{Feature:class extends i0{constructor(){super(...arguments),this.removePointerDownListener=tM}onPointerDown(e){this.session=new as(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ai(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:ay(e),onStart:ay(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&tR.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=i6(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends i0{constructor(e){super(e),this.removeGroupControls=tM,this.removeListeners=tM,this.controls=new ag(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tM}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:sg,MeasureLayout:aj},layout:{ProjectionNode:sg,MeasureLayout:aj}},(e,t)=>re(e)?new n7(t):new n0(t,{allowProjection:e!==P.Fragment}));function sI(e,t){[...t].reverse().forEach(n=>{let r=e.getVariant(n);r&&rC(e,r),e.variantChildren&&e.variantChildren.forEach(e=>{sI(e,t)})})}function sL(){let e=!1,t=new Set,n={subscribe:e=>(t.add(e),()=>void t.delete(e)),start(n,r){tk(e,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");let i=[];return t.forEach(e=>{i.push(iq(e,n,{transitionOverride:r}))}),Promise.all(i)},set:n=>(tk(e,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),t.forEach(e=>{var t,r;t=e,Array.isArray(r=n)?sI(t,r):"string"==typeof r?sI(t,[r]):rC(t,r)})),stop(){t.forEach(e=>{e.values.forEach(e=>e.stop())})},mount:()=>(e=!0,()=>{e=!1,n.stop()})};return n}let sO=function(){let e=rp(sL);return rS(e.mount,[]),e};function sR({tx:e,buckets:t,accounts:n,onDelete:r,onEdit:i,index:a}){var s,o;let l,c=sO(),u=(0,P.useRef)(null),d=t.find(t=>String(t.id)===String(e.bucket_id)),h=t.find(t=>String(t.id)===String(e.source_bucket_id)),p=(s=e.type,l="transferencia"===e.description.trim().split(" ")[0].toLowerCase(),s.includes("INCOME")||s.includes("TRANSFER_IN")?{icon:l?K:G,color:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",gradient:"from-emerald-900/10 to-transparent"}:s.includes("EXPENSE")||s.includes("TRANSFER_OUT")?{icon:l?K:el,color:"text-rose-400",bg:"bg-rose-500/10",border:"border-rose-500/20",gradient:"from-rose-900/10 to-transparent"}:{icon:K,color:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/20",gradient:"from-blue-900/10 to-transparent"}),m=p.icon,f=e.type.includes("EXPENSE")||e.type.includes("OUT"),g="bucket_move"===e.type,x=Number(e.amount),y=n.find(t=>String(t.id)===String(e.account_id))?.currency||"USD";g?(x=Number(e.target_amount??e.amount),d&&(y=d.currency)):d&&!e.account_id&&(y=d.currency);let[v,b]=(0,P.useState)(!1),w=async(e,t)=>{let n=t.offset.x;t.velocity.x,n<-100?(await c.start({x:-140}),b(!0)):(await c.start({x:0}),b(!1))};return(0,A.jsxs)("div",{className:"relative overflow-visible",ref:u,onClick:()=>{v?(c.start({x:0}),b(!1)):(c.start({x:-140}),b(!0))},children:[(0,A.jsxs)("div",{className:"absolute inset-y-0 right-0 w-full rounded-2xl bg-slate-800/50 border border-slate-700/50 flex items-center justify-end px-4 gap-3 mb-3",children:[i&&(0,A.jsxs)("button",{onClick:t=>{t.stopPropagation(),i(e),c.start({x:0})},className:"flex flex-col items-center justify-center text-blue-400 gap-1 p-2 hover:bg-blue-500/10 rounded-xl transition",children:[(0,A.jsx)(en,{className:"w-5 h-5"}),(0,A.jsx)("span",{className:"text-[9px] font-bold",children:"Editar"})]}),(0,A.jsxs)("button",{onClick:t=>{t.stopPropagation(),r(e.id),c.start({x:0})},className:"flex flex-col items-center justify-center text-rose-400 gap-1 p-2 hover:bg-rose-500/10 rounded-xl transition",children:[(0,A.jsx)(er,{className:"w-5 h-5"}),(0,A.jsx)("span",{className:"text-[9px] font-bold",children:"Eliminar"})]})]}),(0,A.jsxs)(sM.div,{className:"group relative overflow-hidden rounded-2xl glass-panel p-4 border border-white/5 shadow-lg mb-3",style:{backgroundColor:"#1e293b"},drag:"x",dragConstraints:{left:-140,right:0},onDragEnd:w,animate:c,whileTap:{cursor:"grabbing"},initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2},children:[(0,A.jsx)("div",{className:`absolute inset-0 bg-gradient-to-r ${p.gradient} opacity-40`}),(0,A.jsxs)("div",{className:"relative z-10 flex items-center gap-4",children:[(0,A.jsx)("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${p.bg} ${p.color} shadow-inner bg-opacity-50 backdrop-blur-md border ${p.border}`,children:(0,A.jsx)(m,{className:"w-6 h-6"})}),(0,A.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,A.jsxs)("div",{className:"flex justify-between items-start gap-3",children:[(0,A.jsx)("h4",{className:"font-bold text-white truncate text-[11px] leading-tight flex-1 min-w-0",title:e.description,children:e.description}),(0,A.jsxs)("span",{className:`font-mono font-bold text-[11px] ${p.color} whitespace-nowrap flex-shrink-0`,children:[f?"-":g?"":"+",F(y),B(x)]})]}),(0,A.jsxs)("div",{className:"mt-1.5 space-y-1",children:[(0,A.jsxs)("div",{className:"flex items-center text-[9px] text-slate-400 font-medium",children:[(0,A.jsx)(ez,{className:"w-3 h-3 mr-1 opacity-70"}),function(e,t,n){let r=(void 0)??eg.locale??ef,i=(void 0)??void 0??eg.firstWeekContainsDate??eg.locale?.options?.firstWeekContainsDate??1,a=(void 0)??void 0??eg.weekStartsOn??eg.locale?.options?.weekStartsOn??0,s=ev(e,void 0);if(!(s instanceof Date||"object"==typeof s&&"[object Date]"===Object.prototype.toString.call(s))&&"number"!=typeof s||isNaN(+ev(s)))throw RangeError("Invalid time value");let o=t.match(eF).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,eL[t])(e,r.formatLong):e}).join("").match(eU).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var n;let t;return{isToken:!1,value:(t=(n=e).match(eB))?t[1].replace(e_,"'"):n}}if(eT[t])return{isToken:!0,value:e};if(t.match(e$))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});r.localize.preprocessor&&(o=r.localize.preprocessor(s,o));let l={firstWeekContainsDate:i,weekStartsOn:a,locale:r};return o.map(n=>{if(!n.isToken)return n.value;let i=n.value;return(eR.test(i)||eO.test(i))&&function(e,t,n){var r,i,a;let s,o=(r=e,i=t,a=n,s="Y"===r[0]?"years":"days of the month",`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${i}\`) for formatting ${s} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(console.warn(o),eV.includes(e))throw RangeError(o)}(i,t,String(e)),(0,eT[i[0]])(s,i,r.localize,l)}).join("")}(new Date(e.date),"dd MMM, HH:mm")]}),(0,A.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(d||h)&&(0,A.jsxs)("span",{className:"flex items-center text-[9px] text-indigo-300 bg-indigo-500/10 px-2 py-0.5 rounded-md border border-indigo-500/20",children:[(0,A.jsx)(V,{className:"w-3 h-3 mr-1"}),h?(0,A.jsxs)(A.Fragment,{children:[h.name,(0,A.jsx)("span",{className:"mx-1 opacity-50",children:"→"}),d?d.name:"?"]}):d?.name]}),(0,A.jsx)("span",{className:"text-[9px] px-1.5 py-0.5 bg-slate-800/50 rounded text-slate-500 font-mono border border-white/5",children:{INCOME:"Ingreso",EXPENSE:"Gasto",TRANSFER_IN:"Transferencia",TRANSFER_OUT:"Transferencia",bucket_move:"Mov. de Presupuestos"}[o=e.type]||o})]})]})]})]})]})]})}function sV({transactions:e,buckets:t=[],accounts:n=[],onDeleteTransaction:r,onUpdateTransaction:i}){let[a,s]=(0,P.useState)({search:"",type:"ALL",bucket:"ALL",startDate:"",endDate:"",minAmount:"",maxAmount:""}),[o,l]=(0,P.useState)(!1),[c,u]=(0,P.useState)(null),[d,h]=(0,P.useState)(!1),[p,m]=(0,P.useState)({id:"",amount:0,description:"",date:""}),[f,g]=(0,P.useState)(!1),x=e=>{let t=new Date;t.setHours(0,0,0,0);let n=new Date(t),r=new Date(t);if("week"===e){let e=t.getDay();n.setDate(t.getDate()-e+(0===e?-6:1)),(r=new Date(n)).setDate(n.getDate()+6)}else"fortnight"===e?15>=t.getDate()?(n.setDate(1),r=new Date(t.getFullYear(),t.getMonth(),15)):(n.setDate(16),r=new Date(t.getFullYear(),t.getMonth()+1,0)):"month"===e&&(n.setDate(1),r=new Date(t.getFullYear(),t.getMonth()+1,0));let i=e=>e.toISOString().split("T")[0];s({...a,startDate:i(n),endDate:i(r)})},y=e.filter(e=>{if(a.search&&!e.description.toLowerCase().includes(a.search.toLowerCase())||"ALL"!==a.type&&("INCOME"===a.type&&!(e.type.includes("INCOME")||e.type.includes("TRANSFER_IN"))||"EXPENSE"===a.type&&!(e.type.includes("EXPENSE")||e.type.includes("TRANSFER_OUT"))))return!1;if(a.startDate){let t=new Date(e.date);if(t.setHours(0,0,0,0),t<new Date(a.startDate))return!1}if(a.endDate){let t=new Date(e.date);t.setHours(0,0,0,0);let n=new Date(a.endDate);if(n.setHours(23,59,59,999),t>n)return!1}let t=Number(e.amount);return!(a.minAmount&&t<Number(a.minAmount)||a.maxAmount&&t>Number(a.maxAmount)||"ALL"!==a.bucket&&e.bucket_id?.toString()!==a.bucket||e.description.includes("Ajuste de Deuda")||e.description.includes("Ajuste de Préstamo"))}),v=e=>{u(e)},b=e=>{m({id:e.id,amount:Number(e.amount),description:e.description,date:new Date(e.date).toISOString().split("T")[0]}),h(!0)},w=async()=>{if(i&&p.id){g(!0);try{await i(p.id,{amount:p.amount,description:p.description,date:p.date?new Date(p.date).toISOString():void 0}),h(!1)}catch(e){console.error(e)}finally{g(!1)}}},S=async()=>{if(c){try{await r(c)}catch(e){console.error(e)}u(null)}};y.reduce((e,t)=>{let n=Number(t.amount);return t.type.includes("INCOME")||t.type.includes("TRANSFER_IN")?e+n:e-n},0);let j=y.reduce((e,t)=>(t.type.includes("TRANSFER")||"bucket_move"===t.type?e.transfers++:t.type.includes("INCOME")?e.income++:t.type.includes("EXPENSE")&&e.expenses++,e),{income:0,expenses:0,transfers:0});return(0,A.jsxs)("div",{className:"animate-fade-in space-y-4",children:[(0,A.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,A.jsx)("h3",{className:"text-xl font-bold text-white",children:"Historial"}),(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsxs)("div",{className:"flex gap-2",children:[j.income>0&&(0,A.jsx)("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/10 px-2 py-1 rounded-lg",children:j.income}),j.expenses>0&&(0,A.jsx)("span",{className:"text-xs font-bold text-rose-400 bg-rose-500/10 px-2 py-1 rounded-lg",children:j.expenses}),j.transfers>0&&(0,A.jsx)("span",{className:"text-xs font-bold text-blue-400 bg-blue-500/10 px-2 py-1 rounded-lg",children:j.transfers})]}),(0,A.jsx)("button",{onClick:()=>l(!o),className:`w-8 h-8 rounded-full flex items-center justify-center transition ${o?"bg-primary-600 text-white":"bg-slate-800 text-slate-400 hover:text-white hover:bg-slate-700"}`,children:(0,A.jsx)(eo,{className:"w-5 h-5"})})]})]}),o&&(0,A.jsxs)("div",{className:"glass-panel p-4 rounded-xl space-y-3 animate-fade-in",children:[(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsx)(es,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),(0,A.jsx)("input",{type:"text",value:a.search,onChange:e=>s({...a,search:e.target.value}),placeholder:"Buscar...",className:"w-full input-modern pl-9 pr-4 py-3 rounded-xl text-sm text-white placeholder-slate-500"})]}),(0,A.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"text-[9px] uppercase font-bold text-slate-500 ml-1 mb-1 block",children:"Desde"}),(0,A.jsx)(z,{id:"filter-start-date",value:a.startDate,onChange:e=>s({...a,startDate:e}),placeholder:"DD/MM/AAAA"})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"text-[9px] uppercase font-bold text-slate-500 ml-1 mb-1 block",children:"Hasta"}),(0,A.jsx)(z,{id:"filter-end-date",value:a.endDate,onChange:e=>s({...a,endDate:e}),placeholder:"DD/MM/AAAA"})]})]}),(0,A.jsxs)("div",{className:"flex gap-2 p-1 bg-black/20 rounded-xl",children:[(0,A.jsx)("button",{onClick:()=>x("week"),className:"flex-1 py-1.5 text-[10px] rounded-lg text-slate-400 hover:bg-slate-700 hover:text-white transition",children:"Semana"}),(0,A.jsx)("button",{onClick:()=>x("fortnight"),className:"flex-1 py-1.5 text-[10px] rounded-lg text-slate-400 hover:bg-slate-700 hover:text-white transition",children:"Quincena"}),(0,A.jsx)("button",{onClick:()=>x("month"),className:"flex-1 py-1.5 text-[10px] rounded-lg text-slate-400 hover:bg-slate-700 hover:text-white transition",children:"Mes"})]}),(0,A.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,A.jsxs)("select",{value:a.type,onChange:e=>s({...a,type:e.target.value}),className:"w-full input-modern p-2 rounded-xl text-xs text-white",children:[(0,A.jsx)("option",{value:"ALL",children:"Tipo: Todos"}),(0,A.jsx)("option",{value:"INCOME",children:"Ingresos"}),(0,A.jsx)("option",{value:"EXPENSE",children:"Gastos"})]}),(0,A.jsxs)("select",{value:a.bucket,onChange:e=>s({...a,bucket:e.target.value}),className:"w-full input-modern p-2 rounded-xl text-xs text-white",children:[(0,A.jsx)("option",{value:"ALL",children:"Presupuesto: Todas"}),t.map(e=>(0,A.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,A.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,A.jsx)("input",{type:"number",value:a.minAmount,onChange:e=>s({...a,minAmount:e.target.value}),placeholder:"Min $",step:"0.01",className:"w-full input-modern p-2 rounded-xl text-xs text-white placeholder-slate-500"}),(0,A.jsx)("input",{type:"number",value:a.maxAmount,onChange:e=>s({...a,maxAmount:e.target.value}),placeholder:"Max $",step:"0.01",className:"w-full input-modern p-2 rounded-xl text-xs text-white placeholder-slate-500"})]}),(0,A.jsx)("button",{onClick:()=>{s({search:"",type:"ALL",bucket:"ALL",startDate:"",endDate:"",minAmount:"",maxAmount:""})},className:"w-full py-2 text-xs text-rose-400 font-bold hover:text-rose-300 transition",children:"Limpiar todo"})]}),(0,A.jsx)("div",{className:"space-y-3 pb-24",children:0===y.length?(0,A.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center opacity-50",children:[(0,A.jsx)("div",{className:"w-24 h-24 rounded-full bg-slate-800 flex items-center justify-center mb-4",children:(0,A.jsx)(W,{className:"w-12 h-12 text-slate-600"})}),(0,A.jsx)("p",{className:"text-slate-400 font-medium",children:"No hay transacciones"}),(0,A.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Ajusta los filtros o crea un movimiento"})]}):y.map((e,r)=>(0,A.jsx)(sR,{tx:e,buckets:t,accounts:n,onDelete:v,onEdit:b,index:r},e.id))}),(0,A.jsx)(Y,{isOpen:d,onClose:()=>h(!1),title:"Editar Transacción",children:(0,A.jsxs)("div",{className:"space-y-4",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Descripción"}),(0,A.jsx)("input",{type:"text",value:p.description,onChange:e=>m({...p,description:e.target.value}),placeholder:"Descripción",className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500"})]}),(0,A.jsxs)("div",{className:"flex gap-3",children:[(0,A.jsxs)("div",{className:"w-1/2",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Monto"}),(0,A.jsx)("input",{type:"number",value:p.amount,onChange:e=>m({...p,amount:parseFloat(e.target.value)}),placeholder:"0.00",step:"0.01",className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500"})]}),(0,A.jsxs)("div",{className:"w-1/2",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Fecha"}),(0,A.jsx)("input",{type:"date",value:p.date?String(p.date):"",onChange:e=>m({...p,date:e.target.value}),className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500 [color-scheme:dark]"})]})]}),(0,A.jsx)("button",{onClick:w,disabled:f||!p.description||!p.amount,className:"w-full bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-500 hover:to-blue-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-indigo-600/20 transition transform active:scale-95 disabled:opacity-50 mt-2",children:f?"Guardando...":"Guardar Cambios"})]})}),(0,A.jsx)($,{isOpen:!!c,onClose:()=>u(null),onConfirm:S,title:"Eliminar Transacción",message:"¿Estás seguro de que quieres eliminar esta transacción? Se revertirán los cambios en los balances.",confirmText:"Sí, eliminar"})]})}let sU=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}),sF=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))});function sB({wishlist:e,onAddItem:t,onUpdateItem:n,onDeleteItem:r}){let[i,a]=(0,P.useState)(!1),[s,o]=(0,P.useState)({id:"",product_name:"",price:"",currency:"USD",details:""}),[l,c]=(0,P.useState)(null),[u,d]=(0,P.useState)(""),[h,p]=(0,P.useState)(!1),m=async()=>{if(s.product_name.trim()&&s.price){p(!0);try{s.id&&n?await n(s.id,{product_name:s.product_name,price:parseFloat(s.price),currency:s.currency,details:s.details}):await t(s.product_name,parseFloat(s.price),s.currency,s.details),o({id:"",product_name:"",price:"",currency:"USD",details:""}),a(!1)}catch(e){console.error(e)}finally{p(!1)}}},f=async()=>{if(l){p(!0);try{await r(l)}catch(e){console.error(e)}c(null),p(!1)}};return(0,A.jsxs)("div",{className:"animate-fade-in space-y-6",children:[(0,A.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,A.jsxs)("div",{children:[(0,A.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:["Wishlist ",(0,A.jsx)(sF,{className:"w-5 h-5 text-indigo-400"})]}),(0,A.jsxs)("p",{className:"text-xs text-slate-400 font-medium",children:[e.length," ",1===e.length?"item":"items"," por cumplir"]})]}),(0,A.jsx)("button",{onClick:()=>{o({id:"",product_name:"",price:"",currency:"USD",details:""}),a(!0)},className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-indigo-500 to-blue-600 text-white flex items-center justify-center shadow-lg shadow-indigo-500/30 hover:scale-105 active:scale-95 transition",children:(0,A.jsx)(et,{className:"w-6 h-6"})})]}),0===e.length?(0,A.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center opacity-50",children:[(0,A.jsx)("div",{className:"w-24 h-24 rounded-full bg-slate-800 flex items-center justify-center mb-4",children:(0,A.jsx)(sU,{className:"w-12 h-12 text-slate-600"})}),(0,A.jsx)("p",{className:"text-slate-400 font-medium",children:"Tu lista está vacía"}),(0,A.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Agrega algo que quieras comprar"})]}):(0,A.jsx)("div",{className:"grid grid-cols-2 gap-4 pb-24",children:e.map((e,t)=>(0,A.jsxs)("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-b from-slate-800/80 to-slate-900/80 backdrop-blur-md p-4 border border-white/5 shadow-lg hover:border-indigo-500/30 transition-all duration-300 animate-fade-in",style:{animationDelay:`${50*t}ms`},children:[(0,A.jsx)(sU,{className:"absolute -bottom-4 -right-4 w-24 h-24 text-white/5 group-hover:text-indigo-500/10 group-hover:scale-110 transition-all duration-500"}),(0,A.jsxs)("div",{className:"relative z-10 flex flex-col h-full",children:[(0,A.jsxs)("div",{className:"flex-1",children:[(0,A.jsx)("h4",{className:"text-sm font-bold text-white leading-tight mb-2 line-clamp-2",children:e.product_name}),e.details&&(0,A.jsx)("p",{className:"text-[10px] text-slate-400 line-clamp-2 mb-3 leading-relaxed",children:e.details})]}),(0,A.jsxs)("div",{className:"mt-3 pt-3 border-t border-white/5 flex justify-between items-end",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider mb-0.5",children:"Precio"}),(0,A.jsxs)("p",{className:"text-lg font-mono font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-blue-400",children:[F(e.currency),B(Number(e.price))]})]}),(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsx)("button",{onClick:t=>{t.stopPropagation(),o({id:e.id,product_name:e.product_name,price:String(e.price),currency:e.currency,details:e.details||""}),a(!0)},className:"w-8 h-8 -mb-1 rounded-full text-slate-500 hover:text-blue-400 hover:bg-blue-500/10 flex items-center justify-center transition",children:(0,A.jsx)(en,{className:"w-4 h-4"})}),(0,A.jsx)("button",{onClick:t=>{t.stopPropagation(),c(e.id),d(e.product_name)},className:"w-8 h-8 -mr-1 -mb-1 rounded-full text-slate-500 hover:text-rose-400 hover:bg-rose-500/10 flex items-center justify-center transition",children:(0,A.jsx)(er,{className:"w-4 h-4"})})]})]})]})]},e.id))}),(0,A.jsx)(Y,{isOpen:i,onClose:()=>a(!1),title:s.id?"Editar Item":"Nuevo Item",children:(0,A.jsxs)("div",{className:"space-y-4",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"¿Qué deseas?"}),(0,A.jsx)("input",{type:"text",value:s.product_name,onChange:e=>o({...s,product_name:e.target.value}),placeholder:"Nombre del producto",className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500 focus:ring-2 focus:ring-indigo-500/50"})]}),(0,A.jsxs)("div",{className:"flex gap-3",children:[(0,A.jsxs)("div",{className:"w-2/3",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Precio"}),(0,A.jsx)("input",{type:"number",value:s.price,onChange:e=>o({...s,price:e.target.value}),placeholder:"0.00",step:"0.01",className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500"})]}),(0,A.jsxs)("div",{className:"w-1/3",children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Moneda"}),(0,A.jsxs)("select",{value:s.currency,onChange:e=>o({...s,currency:e.target.value}),className:"w-full input-modern p-4 rounded-xl text-white bg-slate-800",children:[(0,A.jsx)("option",{value:"USD",className:"bg-slate-800",children:"USD"}),(0,A.jsx)("option",{value:"VES",className:"bg-slate-800",children:"VES"}),(0,A.jsx)("option",{value:"USDT",className:"bg-slate-800",children:"USDT"})]})]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 ml-1",children:"Detalles (Opcional)"}),(0,A.jsx)("textarea",{value:s.details,onChange:e=>o({...s,details:e.target.value}),placeholder:"Link, tienda, color, etc...",className:"w-full input-modern p-4 rounded-xl text-white placeholder-slate-500 min-h-[100px] resize-none"})]}),(0,A.jsx)("button",{onClick:m,disabled:h||!s.product_name.trim()||!s.price,className:"w-full bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-500 hover:to-blue-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-indigo-600/20 transition transform active:scale-95 disabled:opacity-50 mt-2",children:h?"Guardando...":s.id?"Guardar Cambios":"Añadir a Wishlist"})]})}),(0,A.jsx)($,{isOpen:!!l,onClose:()=>c(null),onConfirm:f,title:"Eliminar Deseo",message:`\xbfEst\xe1s seguro de que quieres eliminar "${u}" de tu lista de deseos?`,confirmText:"Sí, eliminar"})]})}var s_=e.i(79529);let s$=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}))}),sz=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))});function sH({rates:e,onRefreshRates:t}){let[n,r]=(0,P.useState)(""),[i,a]=(0,P.useState)("USD"),[s,o]=(0,P.useState)("VES"),[l,c]=(0,P.useState)("0,00"),[u,d]=(0,P.useState)(""),[h,p]=(0,P.useState)(!1),[m,f]=(0,P.useState)(""),[g,x]=(0,P.useState)(""),[y,v]=(0,P.useState)(!1),b=e=>{if("C"===e){f(""),x(""),v(!1);return}if("DEL"===e)return void(y?(f(""),x(""),v(!1)):f(e=>e.slice(0,-1)));if("="===e){try{let e=(g+m).replace(/[^0-9+\-*/.%]/g,""),t=Function("return "+e)();Number.isInteger(t)||(t=parseFloat(t.toFixed(4))),f(String(t)),x(""),v(!0)}catch(e){f("Error"),v(!0)}return}["+","-","*","/","%"].includes(e)?(x(t=>t+(m||"0")+e),f(""),v(!1)):y?(f(e),v(!1)):f(t=>t+e)};(0,P.useEffect)(()=>{w()},[n,i,s,e]);let w=()=>{let t=parseFloat(n)||0;if(0===t){c("0,00"),d("");return}let r=0,a="";if(i===s)r=t,a="1:1";else{let n;n="USD"===i?t:"VES"===i?t/e.USD:"USDT"===i?t*e.USDT/e.USD:t,"USD"===s?(r=n,a="Tasa base"):"VES"===s?(r=n*e.USD,a=`1 USD = ${B(e.USD)} VES`):"USDT"===s&&(r=n*e.USD/e.USDT,a=`1 USD = ${B(e.USD/e.USDT,4)} USDT`)}c(B(r)),d(a)},S=async()=>{if(t){p(!0);try{await t()}catch(e){console.error("Error refreshing rates:",e)}finally{p(!1)}}};return(0,A.jsxs)("div",{id:"view-calculator",className:"animate-fade-in h-full flex flex-col justify-center",children:[(0,A.jsxs)("div",{className:"glass-panel p-8 rounded-[2.5rem] border border-white/10 shadow-2xl relative bg-gradient-to-b from-slate-800/80 to-slate-900/90 backdrop-blur-xl overflow-hidden group/card",children:[(0,A.jsx)("div",{className:"absolute top-[-20%] right-[-20%] w-64 h-64 bg-indigo-500/20 rounded-full blur-3xl pointer-events-none group-hover/card:bg-indigo-500/30 transition duration-1000"}),(0,A.jsx)("div",{className:"absolute bottom-[-20%] left-[-20%] w-64 h-64 bg-emerald-500/10 rounded-full blur-3xl pointer-events-none group-hover/card:bg-emerald-500/20 transition duration-1000"}),(0,A.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white/[0.02] pointer-events-none select-none z-0",children:(0,A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-80 w-80 rotate-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,A.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:.5,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,A.jsxs)("div",{className:"flex justify-between items-center mb-8 relative z-10",children:[(0,A.jsxs)("div",{className:"flex items-center gap-3",children:[(0,A.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500/20 to-purple-500/20 border border-indigo-500/30 flex items-center justify-center",children:(0,A.jsx)(sz,{className:"w-5 h-5 text-indigo-400"})}),(0,A.jsx)("h3",{className:"text-xl font-bold text-white tracking-tight",children:"Conversor"})]}),t&&(0,A.jsx)("button",{onClick:S,disabled:h,className:"w-8 h-8 rounded-full bg-slate-800 text-indigo-400 hover:text-white hover:bg-indigo-600 transition-all flex items-center justify-center disabled:opacity-50",title:"Actualizar tasas",children:(0,A.jsx)(s_.ArrowPathIcon,{className:`w-4 h-4 ${h?"animate-spin":""}`})})]}),(0,A.jsxs)("div",{className:"space-y-4 relative",children:[(0,A.jsxs)("div",{className:"bg-black/20 p-4 rounded-2xl border border-white/5 transition focus-within:border-indigo-500/50 focus-within:bg-black/30 group",children:[(0,A.jsx)("label",{className:"text-[10px] font-bold text-slate-500 uppercase block mb-2 px-1",children:"De"}),(0,A.jsxs)("div",{className:"flex gap-3",children:[(0,A.jsx)("input",{type:"number",value:n,onChange:e=>r(e.target.value),className:"w-full bg-transparent text-3xl font-mono font-bold text-white placeholder-slate-700 outline-none",placeholder:"0"}),(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsxs)("select",{value:i,onChange:e=>a(e.target.value),className:"appearance-none bg-slate-800 text-white font-bold py-2 px-4 pr-8 rounded-xl outline-none cursor-pointer border border-transparent hover:border-slate-600 transition",children:[(0,A.jsx)("option",{value:"USD",children:"USD"}),(0,A.jsx)("option",{value:"VES",children:"VES"}),(0,A.jsx)("option",{value:"USDT",children:"USDT"})]}),(0,A.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-400",children:(0,A.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,A.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]}),(0,A.jsx)("div",{className:"absolute left-1/2 top-[50%] -translate-x-1/2 -translate-y-1/2 z-10",children:(0,A.jsx)("button",{onClick:()=>{a(s),o(i)},className:"w-12 h-12 rounded-full bg-gradient-to-br from-indigo-600 to-blue-600 text-white shadow-lg shadow-indigo-600/30 border-[6px] border-[#13161c] flex items-center justify-center hover:scale-110 active:scale-95 transition-transform duration-200",children:(0,A.jsx)(s$,{className:"w-6 h-6"})})}),(0,A.jsxs)("div",{className:"bg-black/20 p-4 rounded-2xl border border-white/5 transition group hover:bg-black/30 pt-8 mt-2",children:[(0,A.jsx)("div",{className:"flex justify-between items-start mb-2 px-1",children:(0,A.jsx)("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"A"})}),(0,A.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,A.jsx)("div",{className:"w-full",children:(0,A.jsx)("p",{className:"text-3xl font-mono font-bold text-emerald-400 truncate",children:n?l:"0,00"})}),(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsxs)("select",{value:s,onChange:e=>o(e.target.value),className:"appearance-none bg-slate-800 text-white font-bold py-2 px-4 pr-8 rounded-xl outline-none cursor-pointer border border-transparent hover:border-slate-600 transition",children:[(0,A.jsx)("option",{value:"VES",children:"VES"}),(0,A.jsx)("option",{value:"USD",children:"USD"}),(0,A.jsx)("option",{value:"USDT",children:"USDT"})]}),(0,A.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-400",children:(0,A.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,A.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]})]}),u&&(0,A.jsx)("div",{className:"mt-6 text-center animate-fade-in",children:(0,A.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-300 text-xs font-mono",children:u})})]}),(0,A.jsxs)("div",{className:"mt-6 glass-panel p-6 rounded-[2rem] border border-white/10 shadow-2xl relative overflow-hidden bg-slate-900/40 backdrop-blur-xl",children:[(0,A.jsx)("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-purple-500/10 rounded-full blur-2xl pointer-events-none"}),(0,A.jsxs)("div",{className:"mb-6 bg-black/40 p-5 rounded-2xl text-right border border-white/5 shadow-inner",children:[(0,A.jsx)("div",{className:"text-xs text-slate-400 min-h-[1.2em] font-medium tracking-wide mb-1 opacity-70",children:g}),(0,A.jsx)("div",{className:"text-4xl font-mono font-bold text-white truncate tracking-tighter drop-shadow-sm",children:m||"0"})]}),(0,A.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[["C","DEL","%","/"].map(e=>(0,A.jsx)("button",{onClick:()=>b(e),className:`h-16 rounded-2xl font-bold text-lg transition-all duration-200 active:scale-90 hover:brightness-110 shadow-lg ${"C"===e?"text-rose-200 bg-rose-500/20 border border-rose-500/20 hover:bg-rose-500/30":"text-indigo-200 bg-indigo-500/20 border border-indigo-500/20 hover:bg-indigo-500/30"}`,children:e},e)),["7","8","9","*"].map(e=>(0,A.jsx)("button",{onClick:()=>b(e),className:`h-16 rounded-2xl font-bold text-xl transition-all duration-200 active:scale-90 shadow-lg ${["*","/"].includes(e)?"text-indigo-200 bg-indigo-500/20 border border-indigo-500/20 hover:bg-indigo-500/30":"text-slate-200 bg-slate-800/80 border border-white/5 hover:bg-slate-700 hover:border-white/10"}`,children:"*"===e?"×":e},e)),["4","5","6","-"].map(e=>(0,A.jsx)("button",{onClick:()=>b(e),className:`h-16 rounded-2xl font-bold text-xl transition-all duration-200 active:scale-90 shadow-lg ${["-"].includes(e)?"text-indigo-200 bg-indigo-500/20 border border-indigo-500/20 hover:bg-indigo-500/30":"text-slate-200 bg-slate-800/80 border border-white/5 hover:bg-slate-700 hover:border-white/10"}`,children:e},e)),["1","2","3","+"].map(e=>(0,A.jsx)("button",{onClick:()=>b(e),className:`h-16 rounded-2xl font-bold text-xl transition-all duration-200 active:scale-90 shadow-lg ${["+"].includes(e)?"text-indigo-200 bg-indigo-500/20 border border-indigo-500/20 hover:bg-indigo-500/30":"text-slate-200 bg-slate-800/80 border border-white/5 hover:bg-slate-700 hover:border-white/10"}`,children:e},e)),(0,A.jsx)("button",{onClick:()=>b("0"),className:"col-span-2 h-16 rounded-2xl font-bold text-xl text-slate-200 bg-slate-800/80 border border-white/5 hover:bg-slate-700 hover:border-white/10 transition-all duration-200 active:scale-90 shadow-lg",children:"0"}),(0,A.jsx)("button",{onClick:()=>b("."),className:"h-16 rounded-2xl font-bold text-xl text-slate-200 bg-slate-800/80 border border-white/5 hover:bg-slate-700 hover:border-white/10 transition-all duration-200 active:scale-90 shadow-lg",children:"."}),(0,A.jsx)("button",{onClick:()=>b("="),className:"h-16 rounded-2xl font-bold text-xl text-white bg-gradient-to-br from-indigo-600 to-blue-600 hover:from-indigo-500 hover:to-blue-500 shadow-lg shadow-indigo-500/40 border border-indigo-400/20 transition-all duration-200 active:scale-90",children:"="})]})]})]})}(s=y||(y={})).STRING="string",s.NUMBER="number",s.INTEGER="integer",s.BOOLEAN="boolean",s.ARRAY="array",s.OBJECT="object",(o=v||(v={})).LANGUAGE_UNSPECIFIED="language_unspecified",o.PYTHON="python",(l=b||(b={})).OUTCOME_UNSPECIFIED="outcome_unspecified",l.OUTCOME_OK="outcome_ok",l.OUTCOME_FAILED="outcome_failed",l.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded";let sY=["user","model","function","system"];(c=w||(w={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",c.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",c.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",c.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",c.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",c.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",(u=S||(S={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",u.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",u.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",u.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",u.BLOCK_NONE="BLOCK_NONE",(d=j||(j={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",d.NEGLIGIBLE="NEGLIGIBLE",d.LOW="LOW",d.MEDIUM="MEDIUM",d.HIGH="HIGH",(h=E||(E={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",h.SAFETY="SAFETY",h.OTHER="OTHER",(p=N||(N={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",p.STOP="STOP",p.MAX_TOKENS="MAX_TOKENS",p.SAFETY="SAFETY",p.RECITATION="RECITATION",p.LANGUAGE="LANGUAGE",p.BLOCKLIST="BLOCKLIST",p.PROHIBITED_CONTENT="PROHIBITED_CONTENT",p.SPII="SPII",p.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",p.OTHER="OTHER",(m=k||(k={})).TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",m.RETRIEVAL_QUERY="RETRIEVAL_QUERY",m.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",m.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",m.CLASSIFICATION="CLASSIFICATION",m.CLUSTERING="CLUSTERING",(f=C||(C={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",f.AUTO="AUTO",f.ANY="ANY",f.NONE="NONE",(g=T||(T={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",g.MODE_DYNAMIC="MODE_DYNAMIC";class sW extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class sq extends sW{constructor(e,t){super(e),this.response=t}}class sG extends sW{constructor(e,t,n,r){super(e),this.status=t,this.statusText=n,this.errorDetails=r}}class sK extends sW{}class sX extends sW{}(x=D||(D={})).GENERATE_CONTENT="generateContent",x.STREAM_GENERATE_CONTENT="streamGenerateContent",x.COUNT_TOKENS="countTokens",x.EMBED_CONTENT="embedContent",x.BATCH_EMBED_CONTENTS="batchEmbedContents";class sZ{constructor(e,t,n,r,i){this.model=e,this.task=t,this.apiKey=n,this.stream=r,this.requestOptions=i}toString(){var e,t;let n=(null==(e=this.requestOptions)?void 0:e.apiVersion)||"v1beta",r=(null==(t=this.requestOptions)?void 0:t.baseUrl)||"https://generativelanguage.googleapis.com",i=`${r}/${n}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}async function sJ(e){var t,n;let r,i=new Headers;i.append("Content-Type","application/json"),i.append("x-goog-api-client",(n=e.requestOptions,r=[],(null==n?void 0:n.apiClient)&&r.push(n.apiClient),r.push("genai-js/0.24.1"),r.join(" "))),i.append("x-goog-api-key",e.apiKey);let a=null==(t=e.requestOptions)?void 0:t.customHeaders;if(a){if(!(a instanceof Headers))try{a=new Headers(a)}catch(e){throw new sK(`unable to convert customHeaders value ${JSON.stringify(a)} to Headers: ${e.message}`)}for(let[e,t]of a.entries()){if("x-goog-api-key"===e)throw new sK(`Cannot set reserved header name ${e}`);if("x-goog-api-client"===e)throw new sK(`Header name ${e} can only be set using the apiClient field`);i.append(e,t)}}return i}async function sQ(e,t,n,r,i,a){let s=new sZ(e,t,n,r,a);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},function(e){let t={};if((null==e?void 0:e.signal)!==void 0||(null==e?void 0:e.timeout)>=0){let n=new AbortController;(null==e?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),(null==e?void 0:e.signal)&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}(a)),{method:"POST",headers:await sJ(s),body:i})}}async function s0(e,t,n,r,i,a={},s=fetch){let{url:o,fetchOptions:l}=await sQ(e,t,n,r,i,a);return s1(o,l,s)}async function s1(e,t,n=fetch){let r;try{r=await n(e,t)}catch(n){var i=n,a=e;let t=i;throw"AbortError"===t.name?(t=new sX(`Request aborted when fetching ${a.toString()}: ${i.message}`)).stack=i.stack:i instanceof sG||i instanceof sK||((t=new sW(`Error fetching from ${a.toString()}: ${i.message}`)).stack=i.stack),t}return r.ok||await s2(r,e),r}async function s2(e,t){let n,r="";try{let t=await e.json();r=t.error.message,t.error.details&&(r+=` ${JSON.stringify(t.error.details)}`,n=t.error.details)}catch(e){}throw new sG(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function s5(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),s6(e.candidates[0]))throw new sq(`${s8(e)}`,e);return function(e){var t,n,r,i;let a=[];if(null==(n=null==(t=e.candidates)?void 0:t[0].content)?void 0:n.parts)for(let t of null==(i=null==(r=e.candidates)?void 0:r[0].content)?void 0:i.parts)t.text&&a.push(t.text),t.executableCode&&a.push("\n```"+t.executableCode.language+"\n"+t.executableCode.code+"\n```\n"),t.codeExecutionResult&&a.push("\n```\n"+t.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}(e)}if(e.promptFeedback)throw new sq(`Text not available. ${s8(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),s6(e.candidates[0]))throw new sq(`${s8(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),s4(e)[0]}if(e.promptFeedback)throw new sq(`Function call not available. ${s8(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),s6(e.candidates[0]))throw new sq(`${s8(e)}`,e);return s4(e)}if(e.promptFeedback)throw new sq(`Function call not available. ${s8(e)}`,e)},e}function s4(e){var t,n,r,i;let a=[];if(null==(n=null==(t=e.candidates)?void 0:t[0].content)?void 0:n.parts)for(let t of null==(i=null==(r=e.candidates)?void 0:r[0].content)?void 0:i.parts)t.functionCall&&a.push(t.functionCall);return a.length>0?a:void 0}let s3=[N.RECITATION,N.SAFETY,N.LANGUAGE];function s6(e){return!!e.finishReason&&s3.includes(e.finishReason)}function s8(e){var t,n,r;let i="";if((!e.candidates||0===e.candidates.length)&&e.promptFeedback)i+="Response was blocked",(null==(t=e.promptFeedback)?void 0:t.blockReason)&&(i+=` due to ${e.promptFeedback.blockReason}`),(null==(n=e.promptFeedback)?void 0:n.blockReasonMessage)&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(null==(r=e.candidates)?void 0:r[0]){let t=e.candidates[0];s6(t)&&(i+=`Candidate was blocked due to ${t.finishReason}`,t.finishMessage&&(i+=`: ${t.finishMessage}`))}return i}function s7(e){return this instanceof s7?(this.v=e,this):new s7(e)}"function"==typeof SuppressedError&&SuppressedError;let s9=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;async function oe(e){let t=[],n=e.getReader();for(;;){let{done:e,value:r}=await n.read();if(e)return s5(function(e){let t=e[e.length-1],n={promptFeedback:null==t?void 0:t.promptFeedback};for(let t of e){if(t.candidates){let e=0;for(let r of t.candidates)if(n.candidates||(n.candidates=[]),n.candidates[e]||(n.candidates[e]={index:e}),n.candidates[e].citationMetadata=r.citationMetadata,n.candidates[e].groundingMetadata=r.groundingMetadata,n.candidates[e].finishReason=r.finishReason,n.candidates[e].finishMessage=r.finishMessage,n.candidates[e].safetyRatings=r.safetyRatings,r.content&&r.content.parts){n.candidates[e].content||(n.candidates[e].content={role:r.content.role||"user",parts:[]});let t={};for(let i of r.content.parts)i.text&&(t.text=i.text),i.functionCall&&(t.functionCall=i.functionCall),i.executableCode&&(t.executableCode=i.executableCode),i.codeExecutionResult&&(t.codeExecutionResult=i.codeExecutionResult),0===Object.keys(t).length&&(t.text=""),n.candidates[e].content.parts.push(t)}e++}t.usageMetadata&&(n.usageMetadata=t.usageMetadata)}return n}(t));t.push(r)}}async function ot(e,t,n,r){return function(e){let t,[n,r]=(t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})).getReader(),new ReadableStream({start(e){let n="";return function r(){return t.read().then(({value:t,done:i})=>{let a;if(i)return n.trim()?void e.error(new sW("Failed to parse stream")):void e.close();let s=(n+=t).match(s9);for(;s;){try{a=JSON.parse(s[1])}catch(t){e.error(new sW(`Error parsing JSON response: "${s[1]}"`));return}e.enqueue(a),s=(n=n.substring(s[0].length)).match(s9)}return r()}).catch(e=>{let t=e;throw t.stack=e.stack,t="AbortError"===t.name?new sX("Request aborted when reading from the stream"):new sW("Error reading from the stream")})}()}})).tee();return{stream:function(e){return function(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||o(e,t)})})}function o(e,t){try{var n;(n=i[e](t)).value instanceof s7?Promise.resolve(n.value.v).then(l,c):u(a[0][2],n)}catch(e){u(a[0][3],e)}}function l(e){o("next",e)}function c(e){o("throw",e)}function u(e,t){e(t),a.shift(),a.length&&o(a[0][0],a[0][1])}}(this,arguments,function*(){let t=e.getReader();for(;;){let{value:e,done:n}=yield s7(t.read());if(n)break;yield yield s7(s5(e))}})}(n),response:oe(r)}}(await s0(t,D.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r))}async function on(e,t,n,r){let i=await s0(t,D.GENERATE_CONTENT,e,!1,JSON.stringify(n),r);return{response:s5(await i.json())}}function or(e){if(null!=e){if("string"==typeof e)return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)if(!e.role)return{role:"system",parts:e.parts};else return e}}function oi(e){let t=[];if("string"==typeof e)t=[{text:e}];else for(let n of e)"string"==typeof n?t.push({text:n}):t.push(n);var n=t;let r={role:"user",parts:[]},i={role:"function",parts:[]},a=!1,s=!1;for(let e of n)"functionResponse"in e?(i.parts.push(e),s=!0):(r.parts.push(e),a=!0);if(a&&s)throw new sW("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!a&&!s)throw new sW("No content is provided for sending chat message.");return a?r:i}function oa(e){let t;return t=e.contents?e:{contents:[oi(e)]},e.systemInstruction&&(t.systemInstruction=or(e.systemInstruction)),t}let os=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],oo={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function ol(e){var t;if(void 0===e.candidates||0===e.candidates.length)return!1;let n=null==(t=e.candidates[0])?void 0:t.content;if(void 0===n||void 0===n.parts||0===n.parts.length)return!1;for(let e of n.parts)if(void 0===e||0===Object.keys(e).length||void 0!==e.text&&""===e.text)return!1;return!0}let oc="SILENT_ERROR";class ou{constructor(e,t,n,r={}){this.model=t,this.params=n,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null==n?void 0:n.history)&&(!function(e){let t=!1;for(let n of e){let{role:e,parts:r}=n;if(!t&&"user"!==e)throw new sW(`First content should be with role 'user', got ${e}`);if(!sY.includes(e))throw new sW(`Each item should include role field. Got ${e} but valid roles are: ${JSON.stringify(sY)}`);if(!Array.isArray(r))throw new sW("Content should have 'parts' property with an array of Parts");if(0===r.length)throw new sW("Each Content should have at least one part");let i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let e of r)for(let t of os)t in e&&(i[t]+=1);let a=oo[e];for(let t of os)if(!a.includes(t)&&i[t]>0)throw new sW(`Content with role '${e}' can't contain '${t}' part`);t=!0}}(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var n,r,i,a,s,o;let l;await this._sendPromise;let c=oi(e),u={safetySettings:null==(n=this.params)?void 0:n.safetySettings,generationConfig:null==(r=this.params)?void 0:r.generationConfig,tools:null==(i=this.params)?void 0:i.tools,toolConfig:null==(a=this.params)?void 0:a.toolConfig,systemInstruction:null==(s=this.params)?void 0:s.systemInstruction,cachedContent:null==(o=this.params)?void 0:o.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),t);return this._sendPromise=this._sendPromise.then(()=>on(this._apiKey,this.model,u,d)).then(e=>{var t;if(ol(e.response)){this._history.push(c);let n=Object.assign({parts:[],role:"model"},null==(t=e.response.candidates)?void 0:t[0].content);this._history.push(n)}else{let t=s8(e.response);t&&console.warn(`sendMessage() was unsuccessful. ${t}. Inspect response object for details.`)}l=e}).catch(e=>{throw this._sendPromise=Promise.resolve(),e}),await this._sendPromise,l}async sendMessageStream(e,t={}){var n,r,i,a,s,o;await this._sendPromise;let l=oi(e),c={safetySettings:null==(n=this.params)?void 0:n.safetySettings,generationConfig:null==(r=this.params)?void 0:r.generationConfig,tools:null==(i=this.params)?void 0:i.tools,toolConfig:null==(a=this.params)?void 0:a.toolConfig,systemInstruction:null==(s=this.params)?void 0:s.systemInstruction,cachedContent:null==(o=this.params)?void 0:o.cachedContent,contents:[...this._history,l]},u=Object.assign(Object.assign({},this._requestOptions),t),d=ot(this._apiKey,this.model,c,u);return this._sendPromise=this._sendPromise.then(()=>d).catch(e=>{throw Error(oc)}).then(e=>e.response).then(e=>{if(ol(e)){this._history.push(l);let t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{let t=s8(e);t&&console.warn(`sendMessageStream() was unsuccessful. ${t}. Inspect response object for details.`)}}).catch(e=>{e.message!==oc&&console.error(e)}),d}}async function od(e,t,n,r){return(await s0(t,D.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}async function oh(e,t,n,r){return(await s0(t,D.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function op(e,t,n,r){let i=n.requests.map(e=>Object.assign(Object.assign({},e),{model:t}));return(await s0(t,D.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}class om{constructor(e,t,n={}){this.apiKey=e,this._requestOptions=n,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=or(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var n;let r=oa(e),i=Object.assign(Object.assign({},this._requestOptions),t);return on(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(n=this.cachedContent)?void 0:n.name},r),i)}async generateContentStream(e,t={}){var n;let r=oa(e),i=Object.assign(Object.assign({},this._requestOptions),t);return ot(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(n=this.cachedContent)?void 0:n.name},r),i)}startChat(e){var t;return new ou(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(t=this.cachedContent)?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){let n=function(e,t){var n;let r={model:null==t?void 0:t.model,generationConfig:null==t?void 0:t.generationConfig,safetySettings:null==t?void 0:t.safetySettings,tools:null==t?void 0:t.tools,toolConfig:null==t?void 0:t.toolConfig,systemInstruction:null==t?void 0:t.systemInstruction,cachedContent:null==(n=null==t?void 0:t.cachedContent)?void 0:n.name,contents:[]},i=null!=e.generateContentRequest;if(e.contents){if(i)throw new sK("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{let t=oi(e);r.contents=[t]}return{generateContentRequest:r}}(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),t);return od(this.apiKey,this.model,n,r)}async embedContent(e,t={}){let n="string"==typeof e||Array.isArray(e)?{content:oi(e)}:e,r=Object.assign(Object.assign({},this._requestOptions),t);return oh(this.apiKey,this.model,n,r)}async batchEmbedContents(e,t={}){let n=Object.assign(Object.assign({},this._requestOptions),t);return op(this.apiKey,this.model,e,n)}}class of{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new sW("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new om(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,n){if(!e.name)throw new sK("Cached content must contain a `name` field.");if(!e.model)throw new sK("Cached content must contain a `model` field.");for(let n of["model","systemInstruction"])if((null==t?void 0:t[n])&&e[n]&&(null==t?void 0:t[n])!==e[n]){if("model"===n&&(t.model.startsWith("models/")?t.model.replace("models/",""):t.model)===(e.model.startsWith("models/")?e.model.replace("models/",""):e.model))continue;throw new sK(`Different value for "${n}" specified in modelParams (${t[n]}) and cachedContent (${e[n]})`)}let r=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new om(this.apiKey,r,n)}}let og=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}),ox=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))});function oy(){}function ov(){}let ob=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ow=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,oS={};function oj(e,t){return((t||oS).jsx?ow:ob).test(e)}let oE=/[ \t\n\f\r]/g;function oN(e){return""===e.replace(oE,"")}class ok{constructor(e,t){this.attribute=t,this.property=e}}ok.prototype.attribute="",ok.prototype.booleanish=!1,ok.prototype.boolean=!1,ok.prototype.commaOrSpaceSeparated=!1,ok.prototype.commaSeparated=!1,ok.prototype.defined=!1,ok.prototype.mustUseProperty=!1,ok.prototype.number=!1,ok.prototype.overloadedBoolean=!1,ok.prototype.property="",ok.prototype.spaceSeparated=!1,ok.prototype.space=void 0;let oC=0,oT=oO(),oD=oO(),oA=oO(),oP=oO(),oM=oO(),oI=oO(),oL=oO();function oO(){return 2**++oC}e.s(["boolean",0,oT,"booleanish",0,oD,"commaOrSpaceSeparated",0,oL,"commaSeparated",0,oI,"number",0,oP,"overloadedBoolean",0,oA,"spaceSeparated",0,oM],744);var oR=e.i(744);let oV=Object.keys(oR);class oU extends ok{constructor(e,t,n,r){let i=-1;if(super(e,t),function(e,t,n){n&&(e[t]=n)}(this,"space",r),"number"==typeof n)for(;++i<oV.length;){const e=oV[i];!function(e,t,n){n&&(e[t]=n)}(this,oV[i],(n&oR[e])===oR[e])}}}function oF(e){return e.toLowerCase()}oU.prototype.defined=!0;let oB=/[A-Z]/g,o_=/-[a-z]/g,o$=/^data[-\w.:]+$/i;function oz(e){return"-"+e.toLowerCase()}function oH(e){return e.charAt(1).toUpperCase()}let oY={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};class oW{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function oq(e,t){let n={},r={};for(let t of e)Object.assign(n,t.property),Object.assign(r,t.normal);return new oW(n,r,t)}function oG(e){let t={},n={};for(let[r,i]of Object.entries(e.properties)){let a=new oU(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[oF(r)]=r,n[oF(a.attribute)]=r}return new oW(t,n,e.space)}oW.prototype.normal={},oW.prototype.property={},oW.prototype.space=void 0;let oK=oG({properties:{ariaActiveDescendant:null,ariaAtomic:oD,ariaAutoComplete:null,ariaBusy:oD,ariaChecked:oD,ariaColCount:oP,ariaColIndex:oP,ariaColSpan:oP,ariaControls:oM,ariaCurrent:null,ariaDescribedBy:oM,ariaDetails:null,ariaDisabled:oD,ariaDropEffect:oM,ariaErrorMessage:null,ariaExpanded:oD,ariaFlowTo:oM,ariaGrabbed:oD,ariaHasPopup:null,ariaHidden:oD,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:oM,ariaLevel:oP,ariaLive:null,ariaModal:oD,ariaMultiLine:oD,ariaMultiSelectable:oD,ariaOrientation:null,ariaOwns:oM,ariaPlaceholder:null,ariaPosInSet:oP,ariaPressed:oD,ariaReadOnly:oD,ariaRelevant:null,ariaRequired:oD,ariaRoleDescription:oM,ariaRowCount:oP,ariaRowIndex:oP,ariaRowSpan:oP,ariaSelected:oD,ariaSetSize:oP,ariaSort:null,ariaValueMax:oP,ariaValueMin:oP,ariaValueNow:oP,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function oX(e,t){return t in e?e[t]:t}function oZ(e,t){return oX(e,t.toLowerCase())}let oJ=oG({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:oI,acceptCharset:oM,accessKey:oM,action:null,allow:null,allowFullScreen:oT,allowPaymentRequest:oT,allowUserMedia:oT,alt:null,as:null,async:oT,autoCapitalize:null,autoComplete:oM,autoFocus:oT,autoPlay:oT,blocking:oM,capture:null,charSet:null,checked:oT,cite:null,className:oM,cols:oP,colSpan:null,content:null,contentEditable:oD,controls:oT,controlsList:oM,coords:oP|oI,crossOrigin:null,data:null,dateTime:null,decoding:null,default:oT,defer:oT,dir:null,dirName:null,disabled:oT,download:oA,draggable:oD,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:oT,formTarget:null,headers:oM,height:oP,hidden:oA,high:oP,href:null,hrefLang:null,htmlFor:oM,httpEquiv:oM,id:null,imageSizes:null,imageSrcSet:null,inert:oT,inputMode:null,integrity:null,is:null,isMap:oT,itemId:null,itemProp:oM,itemRef:oM,itemScope:oT,itemType:oM,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:oT,low:oP,manifest:null,max:null,maxLength:oP,media:null,method:null,min:null,minLength:oP,multiple:oT,muted:oT,name:null,nonce:null,noModule:oT,noValidate:oT,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:oT,optimum:oP,pattern:null,ping:oM,placeholder:null,playsInline:oT,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:oT,referrerPolicy:null,rel:oM,required:oT,reversed:oT,rows:oP,rowSpan:oP,sandbox:oM,scope:null,scoped:oT,seamless:oT,selected:oT,shadowRootClonable:oT,shadowRootDelegatesFocus:oT,shadowRootMode:null,shape:null,size:oP,sizes:null,slot:null,span:oP,spellCheck:oD,src:null,srcDoc:null,srcLang:null,srcSet:null,start:oP,step:null,style:null,tabIndex:oP,target:null,title:null,translate:null,type:null,typeMustMatch:oT,useMap:null,value:oD,width:oP,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:oM,axis:null,background:null,bgColor:null,border:oP,borderColor:null,bottomMargin:oP,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:oT,declare:oT,event:null,face:null,frame:null,frameBorder:null,hSpace:oP,leftMargin:oP,link:null,longDesc:null,lowSrc:null,marginHeight:oP,marginWidth:oP,noResize:oT,noHref:oT,noShade:oT,noWrap:oT,object:null,profile:null,prompt:null,rev:null,rightMargin:oP,rules:null,scheme:null,scrolling:oD,standby:null,summary:null,text:null,topMargin:oP,valueType:null,version:null,vAlign:null,vLink:null,vSpace:oP,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:oT,disableRemotePlayback:oT,prefix:null,property:null,results:oP,security:null,unselectable:null},space:"html",transform:oZ}),oQ=oG({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:oL,accentHeight:oP,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:oP,amplitude:oP,arabicForm:null,ascent:oP,attributeName:null,attributeType:null,azimuth:oP,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:oP,by:null,calcMode:null,capHeight:oP,className:oM,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:oP,diffuseConstant:oP,direction:null,display:null,dur:null,divisor:oP,dominantBaseline:null,download:oT,dx:null,dy:null,edgeMode:null,editable:null,elevation:oP,enableBackground:null,end:null,event:null,exponent:oP,externalResourcesRequired:null,fill:null,fillOpacity:oP,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:oI,g2:oI,glyphName:oI,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:oP,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:oP,horizOriginX:oP,horizOriginY:oP,id:null,ideographic:oP,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:oP,k:oP,k1:oP,k2:oP,k3:oP,k4:oP,kernelMatrix:oL,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:oP,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:oP,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:oP,overlineThickness:oP,paintOrder:null,panose1:null,path:null,pathLength:oP,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:oM,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:oP,pointsAtY:oP,pointsAtZ:oP,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:oL,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:oL,rev:oL,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:oL,requiredFeatures:oL,requiredFonts:oL,requiredFormats:oL,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:oP,specularExponent:oP,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:oP,strikethroughThickness:oP,string:null,stroke:null,strokeDashArray:oL,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:oP,strokeOpacity:oP,strokeWidth:null,style:null,surfaceScale:oP,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:oL,tabIndex:oP,tableValues:null,target:null,targetX:oP,targetY:oP,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:oL,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:oP,underlineThickness:oP,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:oP,values:null,vAlphabetic:oP,vMathematical:oP,vectorEffect:null,vHanging:oP,vIdeographic:oP,version:null,vertAdvY:oP,vertOriginX:oP,vertOriginY:oP,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:oP,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:oX}),o0=oG({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),o1=oG({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:oZ}),o2=oG({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),o5=oq([oK,oJ,o0,o1,o2],"html"),o4=oq([oK,oQ,o0,o1,o2],"svg");var o3=e.i(15511);let o6=o7("end"),o8=o7("start");function o7(e){return function(t){let n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function o9(e){return e&&"object"==typeof e?"position"in e||"type"in e?lt(e.position):"start"in e||"end"in e?lt(e):"line"in e||"column"in e?le(e):"":""}function le(e){return ln(e&&e.line)+":"+ln(e&&e.column)}function lt(e){return le(e&&e.start)+"-"+le(e&&e.end)}function ln(e){return e&&"number"==typeof e?e:1}class lr extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let r="",i={},a=!1;if(t&&(i="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?r=e:!i.cause&&e&&(a=!0,r=e.message,i.cause=e),!i.ruleId&&!i.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?i.ruleId=n:(i.source=n.slice(0,e),i.ruleId=n.slice(e+1))}if(!i.place&&i.ancestors&&i.ancestors){const e=i.ancestors[i.ancestors.length-1];e&&(i.place=e.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=s?s.line:void 0,this.name=o9(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&"string"==typeof i.cause.stack?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}lr.prototype.file="",lr.prototype.name="",lr.prototype.reason="",lr.prototype.message="",lr.prototype.stack="",lr.prototype.column=void 0,lr.prototype.line=void 0,lr.prototype.ancestors=void 0,lr.prototype.cause=void 0,lr.prototype.fatal=void 0,lr.prototype.place=void 0,lr.prototype.ruleId=void 0,lr.prototype.source=void 0;let li={}.hasOwnProperty,la=new Map,ls=/[A-Z]/g,lo=new Set(["table","tbody","thead","tfoot","tr"]),ll=new Set(["td","th"]),lc="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function lu(e,t,n){var r,i,a,s,o,l,c,u,d;let h,p,m,f,g,x,y,v,b,w,S;return"element"===t.type?(r=e,i=t,a=n,p=h=r.schema,"svg"===i.tagName.toLowerCase()&&"html"===h.space&&(r.schema=o4),r.ancestors.push(i),m=lm(r,i.tagName,!1),f=function(e,t){let n,r,i={};for(r in t.properties)if("children"!==r&&li.call(t.properties,r)){let a=function(e,t,n){let r=function(e,t){let n=oF(t),r=t,i=ok;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&o$.test(t)){if("-"===t.charAt(4)){let e=t.slice(5).replace(o_,oH);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{let e=t.slice(4);if(!o_.test(e)){let n=e.replace(oB,oz);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}i=oU}return new i(r,t)}(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){var i;let t;if(Array.isArray(n)&&(n=r.commaSeparated?(t={},(""===(i=n)[i.length-1]?[...i,""]:i).join((t.padRight?" ":"")+","+(!1===t.padLeft?"":" ")).trim()):n.join(" ").trim()),"style"===r.property){let t="object"==typeof n?n:function(e,t){try{return(0,o3.default)(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};let t=new lr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw t.file=e.filePath||void 0,t.url=lc+"#cannot-parse-style-attribute",t}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){let t,n={};for(t in e)li.call(e,t)&&(n[function(e){let t=e.replace(ls,lg);return"ms-"===t.slice(0,3)&&(t="-"+t),t}(t)]=e[t]);return n}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?oY[r.property]||r.property:r.attribute,n]}}(e,r,t.properties[r]);if(a){let[r,s]=a;e.tableCellAlignToStyle&&"align"===r&&"string"==typeof s&&ll.has(t.tagName)?n=s:i[r]=s}}return n&&((i.style||(i.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=n),i}(r,i),g=lp(r,i),lo.has(i.tagName)&&(g=g.filter(function(e){return"string"!=typeof e||!("object"==typeof e?"text"===e.type&&oN(e.value):oN(e))})),ld(r,f,m,i),lh(f,g),r.ancestors.pop(),r.schema=h,r.create(i,m,f,a)):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){let n=t.data.estree.body[0];return oy("ExpressionStatement"===n.type),e.evaluater.evaluateExpression(n.expression)}lf(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?(s=e,o=t,l=n,y=x=s.schema,"svg"===o.name&&"html"===x.space&&(s.schema=o4),s.ancestors.push(o),v=null===o.name?s.Fragment:lm(s,o.name,!0),b=function(e,t){let n={};for(let r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){let t=r.data.estree.body[0];oy("ExpressionStatement"===t.type);let i=t.expression;oy("ObjectExpression"===i.type);let a=i.properties[0];oy("SpreadElement"===a.type),Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else lf(e,t.position);else{let i,a=r.name;if(r.value&&"object"==typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){let t=r.value.data.estree.body[0];oy("ExpressionStatement"===t.type),i=e.evaluater.evaluateExpression(t.expression)}else lf(e,t.position);else i=null===r.value||r.value;n[a]=i}return n}(s,o),w=lp(s,o),ld(s,b,v,o),lh(b,w),s.ancestors.pop(),s.schema=x,s.create(o,v,b,l)):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);lf(e,t.position)}(e,t):"root"===t.type?(c=e,u=t,d=n,lh(S={},lp(c,u)),c.create(u,c.Fragment,S,d)):"text"===t.type?t.value:void 0}function ld(e,t,n,r){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function lh(e,t){if(t.length>0){let n=t.length>1?t:t[0];n&&(e.children=n)}}function lp(e,t){let n=[],r=-1,i=e.passKeys?new Map:la;for(;++r<t.children.length;){let a,s=t.children[r];if(e.passKeys){let e="element"===s.type?s.tagName:"mdxJsxFlowElement"===s.type||"mdxJsxTextElement"===s.type?s.name:void 0;if(e){let t=i.get(e)||0;a=e+"-"+t,i.set(e,t+1)}}let o=lu(e,s,a);void 0!==o&&n.push(o)}return n}function lm(e,t,n){let r;if(n)if(t.includes(".")){let e,n=t.split("."),i=-1;for(;++i<n.length;){let t=oj(n[i])?{type:"Identifier",name:n[i]}:{type:"Literal",value:n[i]};e=e?{type:"MemberExpression",object:e,property:t,computed:!!(i&&"Literal"===t.type),optional:!1}:t}oy(e,"always a result"),r=e}else r=oj(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){let t=r.value;return li.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);lf(e)}function lf(e,t){let n=new lr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=lc+"#cannot-handle-mdx-estrees-without-createevaluater",n}function lg(e){return"-"+e.toLowerCase()}let lx={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ly={};function lv(e,t,n){var r;if((r=e)&&"object"==typeof r){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return lb(e.children,t,n)}return Array.isArray(e)?lb(e,t,n):""}function lb(e,t,n){let r=[],i=-1;for(;++i<e.length;)r[i]=lv(e[i],t,n);return r.join("")}function lw(e,t,n,r){let i,a=e.length,s=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,n=n>0?n:0,r.length<1e4)(i=Array.from(r)).unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);s<r.length;)(i=r.slice(s,s+1e4)).unshift(t,0),e.splice(...i),s+=1e4,t+=1e4}function lS(e,t){return e.length>0?(lw(e,e.length,0,t),e):t}let lj={}.hasOwnProperty,lE=lR(/[A-Za-z]/),lN=lR(/[\dA-Za-z]/),lk=lR(/[#-'*+\--9=?A-Z^-~]/);function lC(e){return null!==e&&(e<32||127===e)}let lT=lR(/\d/),lD=lR(/[\dA-Fa-f]/),lA=lR(/[!-/:-@[-`{-~]/);function lP(e){return null!==e&&e<-2}function lM(e){return null!==e&&(e<0||32===e)}function lI(e){return -2===e||-1===e||32===e}let lL=lR(/\p{P}|\p{S}/u),lO=lR(/\s/);function lR(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function lV(e,t,n,r){let i=r?r-1:1/0,a=0;return function(r){return lI(r)?(e.enter(n),function r(s){return lI(s)&&a++<i?(e.consume(s),r):(e.exit(n),t(s))}(r)):t(r)}}let lU={tokenize:function(e){let t,n=e.attempt(this.parser.constructs.contentInitial,function(t){return null===t?void e.consume(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),lV(e,n,"linePrefix"))},function(n){return e.enter("paragraph"),function n(r){let i=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=i),t=i,function t(r){if(null===r){e.exit("chunkText"),e.exit("paragraph"),e.consume(r);return}return lP(r)?(e.consume(r),e.exit("chunkText"),n):(e.consume(r),t)}(r)}(n)});return n}},lF={tokenize:function(e){let t,n,r,i=this,a=[],s=0;return o;function o(t){if(s<a.length){let n=a[s];return i.containerState=n[1],e.attempt(n[0].continuation,l,c)(t)}return c(t)}function l(e){if(s++,i.containerState._closeFlow){let n;i.containerState._closeFlow=void 0,t&&x();let r=i.events.length,a=r;for(;a--;)if("exit"===i.events[a][0]&&"chunkFlow"===i.events[a][1].type){n=i.events[a][1].end;break}g(s);let o=r;for(;o<i.events.length;)i.events[o][1].end={...n},o++;return lw(i.events,a+1,0,i.events.slice(r)),i.events.length=o,c(e)}return o(e)}function c(n){if(s===a.length){if(!t)return h(n);if(t.currentConstruct&&t.currentConstruct.concrete)return m(n);i.interrupt=!!(t.currentConstruct&&!t._gfmTableDynamicInterruptHack)}return i.containerState={},e.check(lB,u,d)(n)}function u(e){return t&&x(),g(s),h(e)}function d(e){return i.parser.lazy[i.now().line]=s!==a.length,r=i.now().offset,m(e)}function h(t){return i.containerState={},e.attempt(lB,p,m)(t)}function p(e){return s++,a.push([i.currentConstruct,i.containerState]),h(e)}function m(r){if(null===r){t&&x(),g(0),e.consume(r);return}return t=t||i.parser.flow(i.now()),e.enter("chunkFlow",{_tokenizer:t,contentType:"flow",previous:n}),function t(n){if(null===n){f(e.exit("chunkFlow"),!0),g(0),e.consume(n);return}return lP(n)?(e.consume(n),f(e.exit("chunkFlow")),s=0,i.interrupt=void 0,o):(e.consume(n),t)}(r)}function f(e,a){let o=i.sliceStream(e);if(a&&o.push(null),e.previous=n,n&&(n.next=e),n=e,t.defineSkip(e.start),t.write(o),i.parser.lazy[e.start.line]){let e,n,a=t.events.length;for(;a--;)if(t.events[a][1].start.offset<r&&(!t.events[a][1].end||t.events[a][1].end.offset>r))return;let o=i.events.length,l=o;for(;l--;)if("exit"===i.events[l][0]&&"chunkFlow"===i.events[l][1].type){if(e){n=i.events[l][1].end;break}e=!0}for(g(s),a=o;a<i.events.length;)i.events[a][1].end={...n},a++;lw(i.events,l+1,0,i.events.slice(o)),i.events.length=a}}function g(t){let n=a.length;for(;n-- >t;){let t=a[n];i.containerState=t[1],t[0].exit.call(i,e)}a.length=t}function x(){t.write([null]),n=void 0,t=void 0,i.containerState._closeFlow=void 0}}},lB={tokenize:function(e,t,n){return lV(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},l_={partial:!0,tokenize:function(e,t,n){return function(t){return lI(t)?lV(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||lP(e)?t(e):n(e)}}};class l${constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){let n=null==t?1/0:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){this.setCursor(Math.trunc(e));let r=this.right.splice(this.right.length-(t||0),1/0);return n&&lz(this.left,n),r.reverse()}pop(){return this.setCursor(1/0),this.left.pop()}push(e){this.setCursor(1/0),this.left.push(e)}pushMany(e){this.setCursor(1/0),lz(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),lz(this.right,e.reverse())}setCursor(e){if(e!==this.left.length&&(!(e>this.left.length)||0!==this.right.length)&&(!(e<0)||0!==this.left.length))if(e<this.left.length){let t=this.left.splice(e,1/0);lz(this.right,t.reverse())}else{let t=this.right.splice(this.left.length+this.right.length-e,1/0);lz(this.left,t.reverse())}}}function lz(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function lH(e){let t,n,r,i,a,s,o,l={},c=-1,u=new l$(e);for(;++c<u.length;){for(;c in l;)c=l[c];if(t=u.get(c),c&&"chunkFlow"===t[1].type&&"listItemPrefix"===u.get(c-1)[1].type&&((r=0)<(s=t[1]._tokenizer.events).length&&"lineEndingBlank"===s[r][1].type&&(r+=2),r<s.length&&"content"===s[r][1].type))for(;++r<s.length&&"content"!==s[r][1].type;)"chunkText"===s[r][1].type&&(s[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===t[0])t[1].contentType&&(Object.assign(l,function(e,t){let n,r,i=e.get(t)[1],a=e.get(t)[2],s=t-1,o=[],l=i._tokenizer;!l&&(l=a.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));let c=l.events,u=[],d={},h=-1,p=i,m=0,f=0,g=[0];for(;p;){for(;e.get(++s)[1]!==p;);o.push(s),!p._tokenizer&&(n=a.sliceStream(p),p.next||n.push(null),r&&l.defineSkip(p.start),p._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(n),p._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),r=p,p=p.next}for(p=i;++h<c.length;)"exit"===c[h][0]&&"enter"===c[h-1][0]&&c[h][1].type===c[h-1][1].type&&c[h][1].start.line!==c[h][1].end.line&&(f=h+1,g.push(f),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(l.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),h=g.length;h--;){let t=c.slice(g[h],g[h+1]),n=o.pop();u.push([n,n+t.length-1]),e.splice(n,2,t)}for(u.reverse(),h=-1;++h<u.length;)d[m+u[h][0]]=m+u[h][1],m+=u[h][1]-u[h][0]-1;return d}(u,c)),c=l[c],o=!0);else if(t[1]._container){for(r=c,n=void 0;r--;)if("lineEnding"===(i=u.get(r))[1].type||"lineEndingBlank"===i[1].type)"enter"===i[0]&&(n&&(u.get(n)[1].type="lineEndingBlank"),i[1].type="lineEnding",n=r);else if("linePrefix"===i[1].type||"listItemIndent"===i[1].type);else break;n&&(t[1].end={...u.get(n)[1].start},(a=u.slice(n,c)).unshift(t),u.splice(n,c-n+1,a))}}return lw(e,0,1/0,u.slice(0)),!o}let lY={resolve:function(e){return lH(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):lP(t)?e.check(lW,a,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},lW={partial:!0,tokenize:function(e,t,n){let r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),lV(e,i,"linePrefix")};function i(i){if(null===i||lP(i))return n(i);let a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}},lq={tokenize:function(e){let t=this,n=e.attempt(l_,function(r){return null===r?void e.consume(r):(e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n)},e.attempt(this.parser.constructs.flowInitial,r,lV(e,e.attempt(this.parser.constructs.flow,r,e.attempt(lY,r)),"linePrefix")));return n;function r(r){return null===r?void e.consume(r):(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n)}}},lG={resolveAll:lJ()},lK=lZ("string"),lX=lZ("text");function lZ(e){return{resolveAll:lJ("text"===e?lQ:void 0),tokenize:function(t){let n=this,r=this.parser.constructs[e],i=t.attempt(r,a,s);return a;function a(e){return l(e)?i(e):s(e)}function s(e){return null===e?void t.consume(e):(t.enter("data"),t.consume(e),o)}function o(e){return l(e)?(t.exit("data"),i(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;let t=r[e],i=-1;if(t)for(;++i<t.length;){let e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function lJ(e){return function(t,n){let r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function lQ(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){let r,i=e[n-1][1],a=t.sliceStream(i),s=a.length,o=-1,l=0;for(;s--;){let e=a[s];if("string"==typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)r=!0,l++;else if(-1===e);else{s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){let a={type:n===e.length||r||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:i.start._bufferIndex+o,_index:i.start._index+s,line:i.end.line,column:i.end.column-l,offset:i.end.offset-l},end:{...i.end}};i.end={...a.start},i.start.offset===i.end.offset?Object.assign(i,a):(e.splice(n,0,["enter",a,t],["exit",a,t]),n+=2)}n++}return e}function l0(e){return null===e||lM(e)||lO(e)?1:lL(e)?2:void 0}function l1(e,t,n){let r=[],i=-1;for(;++i<e.length;){let a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}let l2={name:"attention",resolveAll:function(e,t){let n,r,i,a,s,o,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close){for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;let d={...e[n][1].end},h={...e[u][1].start};l5(d,-o),l5(h,o),a={type:o>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},s={type:o>1?"strongSequence":"emphasisSequence",start:{...e[u][1].start},end:h},i={type:o>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[u][1].start}},r={type:o>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},e[n][1].end={...a.start},e[u][1].start={...s.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=lS(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=lS(l,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",i,t]]),l=lS(l,l1(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=lS(l,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=lS(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,lw(e,n-1,u-n+3,l),u=n+l.length-c-2;break}}for(u=-1;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e},tokenize:function(e,t){let n,r=this.parser.constructs.attentionMarkers.null,i=this.previous,a=l0(i);return function(s){return n=s,e.enter("attentionSequence"),function s(o){if(o===n)return e.consume(o),s;let l=e.exit("attentionSequence"),c=l0(o),u=!c||2===c&&a||r.includes(o),d=!a||2===a&&c||r.includes(i);return l._open=!!(42===n?u:u&&(a||!d)),l._close=!!(42===n?d:d&&(c||!u)),t(o)}(s)}}};function l5(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}let l4={continuation:{tokenize:function(e,t,n){let r=this;return function(t){return lI(t)?lV(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):i(t)};function i(r){return e.attempt(l4,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){let r=this;return function(t){if(62===t){let n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return lI(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}},l3={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return lA(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}},l6=document.createElement("i");function l8(e){let t="&"+e+";";l6.innerHTML=t;let n=l6.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&n!==t&&n}let l7={name:"characterReference",tokenize:function(e,t,n){let r,i,a=this,s=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),r=31,i=lN,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,i=lD,c):(e.enter("characterReferenceValue"),r=7,i=lT,c(t))}function c(o){if(59===o&&s){let r=e.exit("characterReferenceValue");return i!==lN||l8(a.sliceSerialize(r))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return i(o)&&s++<r?(e.consume(o),c):n(o)}}},l9={partial:!0,tokenize:function(e,t,n){let r=this;return function(t){return null===t?n(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},ce={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){let r,i=this,a={partial:!0,tokenize:function(e,t,n){let a=0;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s};function s(t){return e.enter("codeFencedFence"),lI(t)?lV(e,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):l(t)}function l(t){return t===r?(e.enter("codeFencedFenceSequence"),function t(i){return i===r?(a++,e.consume(i),t):a>=o?(e.exit("codeFencedFenceSequence"),lI(i)?lV(e,c,"whitespace")(i):c(i)):n(i)}(t)):n(t)}function c(r){return null===r||lP(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}},s=0,o=0;return function(t){var a;let c;return a=t,s=(c=i.events[i.events.length-1])&&"linePrefix"===c[1].type?c[2].sliceSerialize(c[1],!0).length:0,r=a,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),function t(i){return i===r?(o++,e.consume(i),t):o<3?n(i):(e.exit("codeFencedFenceSequence"),lI(i)?lV(e,l,"whitespace")(i):l(i))}(a)};function l(a){return null===a||lP(a)?(e.exit("codeFencedFence"),i.interrupt?t(a):e.check(l9,u,m)(a)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),function t(i){return null===i||lP(i)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),l(i)):lI(i)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),lV(e,c,"whitespace")(i)):96===i&&i===r?n(i):(e.consume(i),t)}(a))}function c(t){return null===t||lP(t)?l(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),function t(i){return null===i||lP(i)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),l(i)):96===i&&i===r?n(i):(e.consume(i),t)}(t))}function u(t){return e.attempt(a,m,d)(t)}function d(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),h}function h(t){return s>0&&lI(t)?lV(e,p,"linePrefix",s+1)(t):p(t)}function p(t){return null===t||lP(t)?e.check(l9,u,m)(t):(e.enter("codeFlowValue"),function t(n){return null===n||lP(n)?(e.exit("codeFlowValue"),p(n)):(e.consume(n),t)}(t))}function m(n){return e.exit("codeFenced"),t(n)}}},ct={name:"codeIndented",tokenize:function(e,t,n){let r=this;return function(t){return e.enter("codeIndented"),lV(e,i,"linePrefix",5)(t)};function i(t){let i=r.events[r.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?function t(n){return null===n?a(n):lP(n)?e.attempt(cn,t,a)(n):(e.enter("codeFlowValue"),function n(r){return null===r||lP(r)?(e.exit("codeFlowValue"),t(r)):(e.consume(r),n)}(n))}(t):n(t)}function a(n){return e.exit("codeIndented"),t(n)}}},cn={partial:!0,tokenize:function(e,t,n){let r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):lP(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):lV(e,a,"linePrefix",5)(t)}function a(e){let a=r.events[r.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):lP(e)?i(e):n(e)}}};function cr(e,t,n,r,i,a,s,o,l){let c=l||1/0,u=0;return function(t){return 60===t?(e.enter(r),e.enter(i),e.enter(a),e.consume(t),e.exit(a),d):null===t||32===t||41===t||lC(t)?n(t):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),m(t))};function d(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(o),d(t)):null===t||60===t||lP(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function m(i){return!u&&(null===i||41===i||lM(i))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(i)):u<c&&40===i?(e.consume(i),u++,m):41===i?(e.consume(i),u--,m):null===i||32===i||40===i||lC(i)?n(i):(e.consume(i),92===i?f:m)}function f(t){return 40===t||41===t||92===t?(e.consume(t),m):m(t)}}function ci(e,t,n,r,i,a){let s,o=this,l=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(a),c};function c(d){return l>999||null===d||91===d||93===d&&!s||94===d&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(d):93===d?(e.exit(a),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):lP(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(t){return null===t||91===t||93===t||lP(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),s||(s=!lI(t)),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function ca(e,t,n,r,i,a){let s;return function(t){return 34===t||39===t||40===t?(e.enter(r),e.enter(i),e.consume(t),e.exit(i),s=40===t?41:t,o):n(t)};function o(n){return n===s?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(a),l(n))}function l(t){return t===s?(e.exit(a),o(s)):null===t?n(t):lP(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),lV(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===s||null===t||lP(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===s||92===t?(e.consume(t),c):c(t)}}function cs(e,t){let n;return function r(i){return lP(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):lI(i)?lV(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function co(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}let cl={partial:!0,tokenize:function(e,t,n){return function(t){return lM(t)?cs(e,r)(t):n(t)};function r(t){return ca(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function i(t){return lI(t)?lV(e,a,"whitespace")(t):a(t)}function a(e){return null===e||lP(e)?t(e):n(e)}}},cc=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],cu=["pre","script","style","textarea"],cd={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(l_,t,n)}}},ch={partial:!0,tokenize:function(e,t,n){let r=this;return function(t){return lP(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):n(t)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},cp={name:"labelEnd",resolveAll:function(e){let t=-1,n=[];for(;++t<e.length;){let r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){let e="labelImage"===r.type?4:2;r.type="data",t+=e}}return e.length!==n.length&&lw(e,0,e.length,n),e},resolveTo:function(e,t){let n,r,i,a,s=e.length,o=0;for(;s--;)if(n=e[s][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[s][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[s][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=s,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(i=s);let l={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[r][1].start},end:{...e[i][1].end}},u={type:"labelText",start:{...e[r+o+2][1].end},end:{...e[i-2][1].start}};return a=lS(a=[["enter",l,t],["enter",c,t]],e.slice(r+1,r+o+3)),a=lS(a,[["enter",u,t]]),a=lS(a,l1(t.parser.constructs.insideSpan.null,e.slice(r+o+4,i-3),t)),a=lS(a,[["exit",u,t],e[i-2],e[i-1],["exit",c,t]]),a=lS(a,e.slice(i+1)),a=lS(a,[["exit",l,t]]),lw(e,r,e.length,a),e},tokenize:function(e,t,n){let r,i,a=this,s=a.events.length;for(;s--;)if(("labelImage"===a.events[s][1].type||"labelLink"===a.events[s][1].type)&&!a.events[s][1]._balanced){r=a.events[s][1];break}return function(t){return r?r._inactive?u(t):(i=a.parser.defined.includes(co(a.sliceSerialize({start:r.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o):n(t)};function o(t){return 40===t?e.attempt(cm,c,i?c:u)(t):91===t?e.attempt(cf,c,i?l:u)(t):i?c(t):u(t)}function l(t){return e.attempt(cg,c,u)(t)}function c(e){return t(e)}function u(e){return r._balanced=!0,n(e)}}},cm={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return lM(t)?cs(e,i)(t):i(t)}function i(t){return 41===t?c(t):cr(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function a(t){return lM(t)?cs(e,o)(t):c(t)}function s(e){return n(e)}function o(t){return 34===t||39===t||40===t?ca(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return lM(t)?cs(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},cf={tokenize:function(e,t,n){let r=this;return function(t){return ci.call(r,e,i,a,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(co(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function a(e){return n(e)}}},cg={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}},cx={name:"labelStartImage",resolveAll:cp.resolveAll,tokenize:function(e,t,n){let r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}},cy={name:"labelStartLink",resolveAll:cp.resolveAll,tokenize:function(e,t,n){let r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}},cv={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),lV(e,t,"linePrefix")}}},cb={name:"thematicBreak",tokenize:function(e,t,n){let r,i=0;return function(a){var s;return e.enter("thematicBreak"),r=s=a,function a(s){return s===r?(e.enter("thematicBreakSequence"),function t(n){return n===r?(e.consume(n),i++,t):(e.exit("thematicBreakSequence"),lI(n)?lV(e,a,"whitespace")(n):a(n))}(s)):i>=3&&(null===s||lP(s))?(e.exit("thematicBreak"),t(s)):n(s)}(s)}}},cw={continuation:{tokenize:function(e,t,n){let r=this;return r.containerState._closeFlow=void 0,e.check(l_,function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,lV(e,t,"listItemIndent",r.containerState.size+1)(n)},function(n){return r.containerState.furtherBlankLines||!lI(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(cj,t,i)(n))});function i(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,lV(e,e.attempt(cw,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){let r=this,i=r.events[r.events.length-1],a=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,s=0;return function(t){let i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:lT(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(cb,n,o)(t):o(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),function t(i){return lT(i)&&++s<10?(e.consume(i),t):(!r.interrupt||s<2)&&(r.containerState.marker?i===r.containerState.marker:41===i||46===i)?(e.exit("listItemValue"),o(i)):n(i)}(t)}return n(t)};function o(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(l_,r.interrupt?n:l,e.attempt(cS,u,c))}function l(e){return r.containerState.initialBlankLine=!0,a++,u(e)}function c(t){return lI(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),u):n(t)}function u(n){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},cS={partial:!0,tokenize:function(e,t,n){let r=this;return lV(e,function(e){let i=r.events[r.events.length-1];return!lI(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},cj={partial:!0,tokenize:function(e,t,n){let r=this;return lV(e,function(e){let i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)},"listItemIndent",r.containerState.size+1)}},cE={name:"setextUnderline",resolveTo:function(e,t){let n,r,i,a=e.length;for(;a--;)if("enter"===e[a][0]){if("content"===e[a][1].type){n=a;break}"paragraph"===e[a][1].type&&(r=a)}else"content"===e[a][1].type&&e.splice(a,1),i||"definition"!==e[a][1].type||(i=a);let s={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",s,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=s,e.push(["exit",s,t]),e},tokenize:function(e,t,n){let r,i=this;return function(t){var s;let o,l=i.events.length;for(;l--;)if("lineEnding"!==i.events[l][1].type&&"linePrefix"!==i.events[l][1].type&&"content"!==i.events[l][1].type){o="paragraph"===i.events[l][1].type;break}return!i.parser.lazy[i.now().line]&&(i.interrupt||o)?(e.enter("setextHeadingLine"),r=t,s=t,e.enter("setextHeadingLineSequence"),function t(n){return n===r?(e.consume(n),t):(e.exit("setextHeadingLineSequence"),lI(n)?lV(e,a,"lineSuffix")(n):a(n))}(s)):n(t)};function a(r){return null===r||lP(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};e.s(["attentionMarkers",0,{null:[42,95]},"contentInitial",0,{91:{name:"definition",tokenize:function(e,t,n){let r,i=this;return function(t){var r;return e.enter("definition"),r=t,ci.call(i,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(r)};function a(t){return(r=co(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t)?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s):n(t)}function s(t){return lM(t)?cs(e,o)(t):o(t)}function o(t){return cr(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(cl,c,c)(t)}function c(t){return lI(t)?lV(e,u,"whitespace")(t):u(t)}function u(a){return null===a||lP(a)?(e.exit("definition"),i.parser.defined.push(r),t(a)):n(a)}}}},"disable",0,{null:[]},"document",0,{42:cw,43:cw,45:cw,48:cw,49:cw,50:cw,51:cw,52:cw,53:cw,54:cw,55:cw,56:cw,57:cw,62:l4},"flow",0,{35:{name:"headingAtx",resolve:function(e,t){let n,r,i=e.length-2,a=3;return"whitespace"===e[3][1].type&&(a+=2),i-2>a&&"whitespace"===e[i][1].type&&(i-=2),"atxHeadingSequence"===e[i][1].type&&(a===i-1||i-4>a&&"whitespace"===e[i-2][1].type)&&(i-=a+1===i?2:4),i>a&&(n={type:"atxHeadingText",start:e[a][1].start,end:e[i][1].end},r={type:"chunkText",start:e[a][1].start,end:e[i][1].end,contentType:"text"},lw(e,a,i-a+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]])),e},tokenize:function(e,t,n){let r=0;return function(i){var a;return e.enter("atxHeading"),a=i,e.enter("atxHeadingSequence"),function i(a){return 35===a&&r++<6?(e.consume(a),i):null===a||lM(a)?(e.exit("atxHeadingSequence"),function n(r){return 35===r?(e.enter("atxHeadingSequence"),function t(r){return 35===r?(e.consume(r),t):(e.exit("atxHeadingSequence"),n(r))}(r)):null===r||lP(r)?(e.exit("atxHeading"),t(r)):lI(r)?lV(e,n,"whitespace")(r):(e.enter("atxHeadingText"),function t(r){return null===r||35===r||lM(r)?(e.exit("atxHeadingText"),n(r)):(e.consume(r),t)}(r))}(a)):n(a)}(a)}}},42:cb,45:[cE,cb],60:{concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););return t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},tokenize:function(e,t,n){let r,i,a,s,o,l=this;return function(t){var n;return n=t,e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(n),c};function c(s){return 33===s?(e.consume(s),u):47===s?(e.consume(s),i=!0,p):63===s?(e.consume(s),r=3,l.interrupt?t:M):lE(s)?(e.consume(s),a=String.fromCharCode(s),m):n(s)}function u(i){return 45===i?(e.consume(i),r=2,d):91===i?(e.consume(i),r=5,s=0,h):lE(i)?(e.consume(i),r=4,l.interrupt?t:M):n(i)}function d(r){return 45===r?(e.consume(r),l.interrupt?t:M):n(r)}function h(r){let i="CDATA[";return r===i.charCodeAt(s++)?(e.consume(r),s===i.length)?l.interrupt?t:E:h:n(r)}function p(t){return lE(t)?(e.consume(t),a=String.fromCharCode(t),m):n(t)}function m(s){if(null===s||47===s||62===s||lM(s)){let o=47===s,c=a.toLowerCase();return!o&&!i&&cu.includes(c)?(r=1,l.interrupt?t(s):E(s)):cc.includes(a.toLowerCase())?(r=6,o)?(e.consume(s),f):l.interrupt?t(s):E(s):(r=7,l.interrupt&&!l.parser.lazy[l.now().line]?n(s):i?function t(n){return lI(n)?(e.consume(n),t):S(n)}(s):g(s))}return 45===s||lN(s)?(e.consume(s),a+=String.fromCharCode(s),m):n(s)}function f(r){return 62===r?(e.consume(r),l.interrupt?t:E):n(r)}function g(t){return 47===t?(e.consume(t),S):58===t||95===t||lE(t)?(e.consume(t),x):lI(t)?(e.consume(t),g):S(t)}function x(t){return 45===t||46===t||58===t||95===t||lN(t)?(e.consume(t),x):y(t)}function y(t){return 61===t?(e.consume(t),v):lI(t)?(e.consume(t),y):g(t)}function v(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),o=t,b):lI(t)?(e.consume(t),v):function t(n){return null===n||34===n||39===n||47===n||60===n||61===n||62===n||96===n||lM(n)?y(n):(e.consume(n),t)}(t)}function b(t){return t===o?(e.consume(t),o=null,w):null===t||lP(t)?n(t):(e.consume(t),b)}function w(e){return 47===e||62===e||lI(e)?g(e):n(e)}function S(t){return 62===t?(e.consume(t),j):n(t)}function j(t){return null===t||lP(t)?E(t):lI(t)?(e.consume(t),j):n(t)}function E(t){return 45===t&&2===r?(e.consume(t),T):60===t&&1===r?(e.consume(t),D):62===t&&4===r?(e.consume(t),I):63===t&&3===r?(e.consume(t),M):93===t&&5===r?(e.consume(t),P):lP(t)&&(6===r||7===r)?(e.exit("htmlFlowData"),e.check(cd,L,N)(t)):null===t||lP(t)?(e.exit("htmlFlowData"),N(t)):(e.consume(t),E)}function N(t){return e.check(ch,k,L)(t)}function k(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),C}function C(t){return null===t||lP(t)?N(t):(e.enter("htmlFlowData"),E(t))}function T(t){return 45===t?(e.consume(t),M):E(t)}function D(t){return 47===t?(e.consume(t),a="",A):E(t)}function A(t){if(62===t){let n=a.toLowerCase();return cu.includes(n)?(e.consume(t),I):E(t)}return lE(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),A):E(t)}function P(t){return 93===t?(e.consume(t),M):E(t)}function M(t){return 62===t?(e.consume(t),I):45===t&&2===r?(e.consume(t),M):E(t)}function I(t){return null===t||lP(t)?(e.exit("htmlFlowData"),L(t)):(e.consume(t),I)}function L(n){return e.exit("htmlFlow"),t(n)}}},61:cE,95:cb,96:ce,126:ce},"flowInitial",0,{[-2]:ct,[-1]:ct,32:ct},"insideSpan",0,{null:[l2,lG]},"string",0,{38:l7,92:l3},"text",0,{[-5]:cv,[-4]:cv,[-3]:cv,33:cx,38:l7,42:l2,60:[{name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return lE(t)?(e.consume(t),a):64===t?n(t):o(t)}function a(t){return 43===t||45===t||46===t||lN(t)?(r=1,function t(n){return 58===n?(e.consume(n),r=0,s):(43===n||45===n||46===n||lN(n))&&r++<32?(e.consume(n),t):(r=0,o(n))}(t)):o(t)}function s(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||lC(r)?n(r):(e.consume(r),s)}function o(t){return 64===t?(e.consume(t),l):lk(t)?(e.consume(t),o):n(t)}function l(i){return lN(i)?function i(a){return 46===a?(e.consume(a),r=0,l):62===a?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(a),e.exit("autolinkMarker"),e.exit("autolink"),t):function t(a){if((45===a||lN(a))&&r++<63){let n=45===a?t:i;return e.consume(a),n}return n(a)}(a)}(i):n(i)}}},{name:"htmlText",tokenize:function(e,t,n){let r,i,a,s=this;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),b):63===t?(e.consume(t),y):lE(t)?(e.consume(t),S):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),i=0,p):lE(t)?(e.consume(t),x):n(t)}function c(t){return 45===t?(e.consume(t),h):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),d):lP(t)?(a=u,A(t)):(e.consume(t),u)}function d(t){return 45===t?(e.consume(t),h):u(t)}function h(e){return 62===e?D(e):45===e?d(e):u(e)}function p(t){let r="CDATA[";return t===r.charCodeAt(i++)?(e.consume(t),i===r.length?m:p):n(t)}function m(t){return null===t?n(t):93===t?(e.consume(t),f):lP(t)?(a=m,A(t)):(e.consume(t),m)}function f(t){return 93===t?(e.consume(t),g):m(t)}function g(t){return 62===t?D(t):93===t?(e.consume(t),g):m(t)}function x(t){return null===t||62===t?D(t):lP(t)?(a=x,A(t)):(e.consume(t),x)}function y(t){return null===t?n(t):63===t?(e.consume(t),v):lP(t)?(a=y,A(t)):(e.consume(t),y)}function v(e){return 62===e?D(e):y(e)}function b(t){return lE(t)?(e.consume(t),w):n(t)}function w(t){return 45===t||lN(t)?(e.consume(t),w):function t(n){return lP(n)?(a=t,A(n)):lI(n)?(e.consume(n),t):D(n)}(t)}function S(t){return 45===t||lN(t)?(e.consume(t),S):47===t||62===t||lM(t)?j(t):n(t)}function j(t){return 47===t?(e.consume(t),D):58===t||95===t||lE(t)?(e.consume(t),E):lP(t)?(a=j,A(t)):lI(t)?(e.consume(t),j):D(t)}function E(t){return 45===t||46===t||58===t||95===t||lN(t)?(e.consume(t),E):function t(n){return 61===n?(e.consume(n),N):lP(n)?(a=t,A(n)):lI(n)?(e.consume(n),t):j(n)}(t)}function N(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,k):lP(t)?(a=N,A(t)):lI(t)?(e.consume(t),N):(e.consume(t),C)}function k(t){return t===r?(e.consume(t),r=void 0,T):null===t?n(t):lP(t)?(a=k,A(t)):(e.consume(t),k)}function C(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||lM(t)?j(t):(e.consume(t),C)}function T(e){return 47===e||62===e||lM(e)?j(e):n(e)}function D(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function A(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),P}function P(t){return lI(t)?lV(e,M,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):M(t)}function M(t){return e.enter("htmlTextData"),a(t)}}}],91:cy,92:[{name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return lP(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}},l3],93:cp,95:l2,96:{name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,i=3;if(("lineEnding"===e[3][1].type||"space"===e[i][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type)){for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}}for(t=i-1,r++;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):(t===r||"lineEnding"===e[t][1].type)&&(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,i,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),function t(n){return 96===n?(e.consume(n),a++,t):(e.exit("codeTextSequence"),s(n))}(t)};function s(l){return null===l?n(l):32===l?(e.enter("space"),e.consume(l),e.exit("space"),s):96===l?(i=e.enter("codeTextSequence"),r=0,function n(s){return 96===s?(e.consume(s),r++,n):r===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(s)):(i.type="codeTextData",o(s))}(l)):lP(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):(e.enter("codeTextData"),o(l))}function o(t){return null===t||32===t||96===t||lP(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),o)}}}}],4127);var cN=e.i(4127);let ck=/[\0\t\n\r]/g;function cC(e,t){let n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(65535&n)==65535||(65535&n)==65534||n>1114111?"�":String.fromCodePoint(n)}let cT=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function cD(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){let e=n.charCodeAt(1),t=120===e||88===e;return cC(n.slice(t?2:1),t?16:10)}return l8(n)||e}let cA={}.hasOwnProperty;function cP(e){return{line:e.line,column:e.column,offset:e.offset}}function cM(e,t){if(e)throw Error("Cannot close `"+e.type+"` ("+o9({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+o9({start:t.start,end:t.end})+") is open");throw Error("Cannot close document, a token (`"+t.type+"`, "+o9({start:t.start,end:t.end})+") is still open")}function cI(e){let t=this;t.parser=function(n){var r,i;let a,s,o,l;return"string"!=typeof(r={...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})&&(i=r,r=void 0),(function(e){let t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:r(x),autolinkProtocol:c,autolinkEmail:c,atxHeading:r(m),blockQuote:r(function(){return{type:"blockquote",children:[]}}),characterEscape:c,characterReference:c,codeFenced:r(p),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:r(p,i),codeText:r(function(){return{type:"inlineCode",value:""}},i),codeTextData:c,data:c,codeFlowValue:c,definition:r(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:r(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:r(f),hardBreakTrailing:r(f),htmlFlow:r(g,i),htmlFlowData:c,htmlText:r(g,i),htmlTextData:c,image:r(function(){return{type:"image",title:null,url:"",alt:null}}),label:i,link:r(x),listItem:r(function(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}),listItemValue:function(e){this.data.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0)},listOrdered:r(y,function(){this.data.expectingFirstListItemValue=!0}),listUnordered:r(y),paragraph:r(function(){return{type:"paragraph",children:[]}}),reference:function(){this.data.referenceType="collapsed"},referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:r(m),strong:r(function(){return{type:"strong",children:[]}}),thematicBreak:r(function(){return{type:"thematicBreak"}})},exit:{atxHeading:s(),atxHeadingSequence:function(e){let t=this.stack[this.stack.length-1];t.depth||(t.depth=this.sliceSerialize(e).length)},autolink:s(),autolinkEmail:function(e){u.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)},autolinkProtocol:function(e){u.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)},blockQuote:s(),characterEscapeValue:u,characterReferenceMarkerHexadecimal:h,characterReferenceMarkerNumeric:h,characterReferenceValue:function(e){let t,n=this.sliceSerialize(e),r=this.data.characterReferenceType;r?(t=cC(n,"characterReferenceMarkerNumeric"===r?10:16),this.data.characterReferenceType=void 0):t=l8(n);let i=this.stack[this.stack.length-1];i.value+=t},characterReference:function(e){this.stack.pop().position.end=cP(e.end)},codeFenced:s(function(){let e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}),codeFencedFence:function(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)},codeFencedFenceInfo:function(){let e=this.resume();this.stack[this.stack.length-1].lang=e},codeFencedFenceMeta:function(){let e=this.resume();this.stack[this.stack.length-1].meta=e},codeFlowValue:u,codeIndented:s(function(){let e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}),codeText:s(function(){let e=this.resume();this.stack[this.stack.length-1].value=e}),codeTextData:u,data:u,definition:s(),definitionDestinationString:function(){let e=this.resume();this.stack[this.stack.length-1].url=e},definitionLabelString:function(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=co(this.sliceSerialize(e)).toLowerCase()},definitionTitleString:function(){let e=this.resume();this.stack[this.stack.length-1].title=e},emphasis:s(),hardBreakEscape:s(d),hardBreakTrailing:s(d),htmlFlow:s(function(){let e=this.resume();this.stack[this.stack.length-1].value=e}),htmlFlowData:u,htmlText:s(function(){let e=this.resume();this.stack[this.stack.length-1].value=e}),htmlTextData:u,image:s(function(){let e=this.stack[this.stack.length-1];if(this.data.inReference){let t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}),label:function(){let e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];this.data.inReference=!0,"link"===n.type?n.children=e.children:n.alt=t},labelText:function(e){let t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=t.replace(cT,cD),n.identifier=co(t).toLowerCase()},lineEnding:function(e){let n=this.stack[this.stack.length-1];if(this.data.atHardBreak){n.children[n.children.length-1].position.end=cP(e.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(c.call(this,e),u.call(this,e))},link:s(function(){let e=this.stack[this.stack.length-1];if(this.data.inReference){let t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:function(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=co(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString:function(){let e=this.resume();this.stack[this.stack.length-1].url=e},resourceTitleString:function(){let e=this.resume();this.stack[this.stack.length-1].title=e},resource:function(){this.data.inReference=void 0},setextHeading:s(function(){this.data.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2},setextHeadingText:function(){this.data.setextHeadingSlurpLineEnding=!0},strong:s(),thematicBreak:s()}};!function e(t,n){let r=-1;for(;++r<n.length;){let i=n[r];Array.isArray(i)?e(t,i):function(e,t){let n;for(n in t)if(cA.call(t,n))switch(n){case"canContainEols":{let r=t[n];r&&e[n].push(...r);break}case"transforms":{let r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{let r=t[n];r&&Object.assign(e[n],r)}}}(t,i)}}(t,(e||{}).mdastExtensions||[]);let n={};return function(e){let r={type:"root",children:[]},s={stack:[r],tokenStack:[],config:t,enter:a,exit:o,buffer:i,resume:l,data:n},c=[],u=-1;for(;++u<e.length;)("listOrdered"===e[u][1].type||"listUnordered"===e[u][1].type)&&("enter"===e[u][0]?c.push(u):u=function(e,t,n){let r,i,a,s,o=t-1,l=-1,c=!1;for(;++o<=n;){let t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,s=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||s||l||a||(a=o),s=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:s=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let s=o;for(i=void 0;s--;){let t=e[s];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;i&&(e[i][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",i=s}else if("linePrefix"===t[1].type||"blockQuotePrefix"===t[1].type||"blockQuotePrefixWhitespace"===t[1].type||"blockQuoteMarker"===t[1].type||"listItemIndent"===t[1].type);else break}a&&(!i||a<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:t[1].end),e.splice(i||o,0,["exit",r,t[2]]),o++,n++}if("listItemPrefix"===t[1].type){let i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=i,e.splice(o,0,["enter",i,t[2]]),o++,n++,a=void 0,s=!0}}}return e[t][1]._spread=c,n}(e,c.pop(),u));for(u=-1;++u<e.length;){let n=t[e[u][0]];cA.call(n,e[u][1].type)&&n[e[u][1].type].call(Object.assign({sliceSerialize:e[u][2].sliceSerialize},s),e[u][1])}if(s.tokenStack.length>0){let e=s.tokenStack[s.tokenStack.length-1];(e[1]||cM).call(s,void 0,e[0])}for(r.position={start:cP(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:cP(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},u=-1;++u<t.transforms.length;)r=t.transforms[u](r)||r;return r};function r(e,t){return function(n){a.call(this,e(n),n),t&&t.call(this,n)}}function i(){this.stack.push({type:"fragment",children:[]})}function a(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:cP(t.start),end:void 0}}function s(e){return function(t){e&&e.call(this,t),o.call(this,t)}}function o(e,t){let n=this.stack.pop(),r=this.tokenStack.pop();if(r)r[0].type!==e.type&&(t?t.call(this,e,r[0]):(r[1]||cM).call(this,e,r[0]));else throw Error("Cannot close `"+e.type+"` ("+o9({start:e.start,end:e.end})+"): it’s not open");n.position.end=cP(e.end)}function l(){var e;return e=this.stack.pop(),lv(e,"boolean"!=typeof ly.includeImageAlt||ly.includeImageAlt,"boolean"!=typeof ly.includeHtml||ly.includeHtml)}function c(e){let t=this.stack[this.stack.length-1].children,n=t[t.length-1];n&&"text"===n.type||((n={type:"text",value:""}).position={start:cP(e.start),end:void 0},t.push(n)),this.stack.push(n)}function u(e){let t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=cP(e.end)}function d(){this.data.atHardBreak=!0}function h(e){this.data.characterReferenceType=e.type}function p(){return{type:"code",lang:null,meta:null,value:""}}function m(){return{type:"heading",depth:0,children:[]}}function f(){return{type:"break"}}function g(){return{type:"html",value:""}}function x(){return{type:"link",title:null,url:"",children:[]}}function y(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}})(i)(function(e){for(;!lH(e););return e}((function(e){let t={constructs:function(e){let t={},n=-1;for(;++n<e.length;)!function(e,t){let n;for(n in t){let r,i=(lj.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];if(a)for(r in a){lj.call(i,r)||(i[r]=[]);let e=a[r];!function(e,t){let n=-1,r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);lw(e,0,0,r)}(i[r],Array.isArray(e)?e:e?[e]:[])}}}(t,e[n]);return t}([cN,...(e||{}).extensions||[]]),content:n(lU),defined:[],document:n(lF),flow:n(lq),lazy:{},string:n(lK),text:n(lX)};return t;function n(e){return function(n){return function(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},i={},a=[],s=[],o=[],l={attempt:m(function(e,t){f(e,t.from)}),check:m(p),consume:function(e){lP(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,g()):-1!==e&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=e},enter:function(e,t){let n=t||{};return n.type=e,n.start=h(),c.events.push(["enter",n,c]),o.push(n),n},exit:function(e){let t=o.pop();return t.end=h(),c.events.push(["exit",t,c]),t},interrupt:m(p,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){i[e.line]=e.column,g()},events:[],now:h,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n,r=-1,i=[];for(;++r<e.length;){let a,s=e[r];if("string"==typeof s)a=s;else switch(s){case -5:a="\r";break;case -4:a="\n";break;case -3:a="\r\n";break;case -2:a=t?" ":"	";break;case -1:if(!t&&n)continue;a=" ";break;default:a=String.fromCharCode(s)}n=-2===s,i.push(a)}return i.join("")}(d(e),t)},sliceStream:d,write:function(e){return(s=lS(s,e),function(){let e;for(;r._index<s.length;){let n=s[r._index];if("string"==typeof n)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<n.length;){var t;t=n.charCodeAt(r._bufferIndex),u=u(t)}else u=u(n)}}(),null!==s[s.length-1])?[]:(f(t,0),c.events=l1(a,c.events,c),c.events)}},u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function d(e){return function(e,t){let n,r=t.start._index,i=t.start._bufferIndex,a=t.end._index,s=t.end._bufferIndex;if(r===a)n=[e[r].slice(i,s)];else{if(n=e.slice(r,a),i>-1){let e=n[0];"string"==typeof e?n[0]=e.slice(i):n.shift()}s>0&&n.push(e[a].slice(0,s))}return n}(s,e)}function h(){let{_bufferIndex:e,_index:t,line:n,column:i,offset:a}=r;return{_bufferIndex:e,_index:t,line:n,column:i,offset:a}}function p(e,t){t.restore()}function m(e,t){return function(n,i,a){var s;let u,d,p,m;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):(s=n,function(e){let t=null!==e&&s[e],n=null!==e&&s.null;return f([...Array.isArray(t)?t:t?[t]:[],...Array.isArray(n)?n:n?[n]:[]])(e)});function f(e){return(u=e,d=0,0===e.length)?a:x(e[d])}function x(e){return function(n){let i,a,s,u,d;return(i=h(),a=c.previous,s=c.currentConstruct,u=c.events.length,d=Array.from(o),m={from:u,restore:function(){r=i,c.previous=a,c.currentConstruct=s,c.events.length=u,o=d,g()}},p=e,e.partial||(c.currentConstruct=e),e.name&&c.parser.constructs.disable.null.includes(e.name))?v(n):e.tokenize.call(t?Object.assign(Object.create(c),t):c,l,y,v)(n)}}function y(t){return e(p,m),i}function v(e){return(m.restore(),++d<u.length)?x(u[d]):a}}}function f(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&lw(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function g(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}(t,e,n)}}})(i).document().write((s=1,o="",l=!0,function(e,t,n){let r,i,c,u,d,h=[];for(e=o+("string"==typeof e?e.toString():new TextDecoder(t||void 0).decode(e)),c=0,o="",l&&(65279===e.charCodeAt(0)&&c++,l=void 0);c<e.length;){if(ck.lastIndex=c,u=(r=ck.exec(e))&&void 0!==r.index?r.index:e.length,d=e.charCodeAt(u),!r){o=e.slice(c);break}if(10===d&&c===u&&a)h.push(-3),a=void 0;else switch(a&&(h.push(-5),a=void 0),c<u&&(h.push(e.slice(c,u)),s+=u-c),d){case 0:h.push(65533),s++;break;case 9:for(i=4*Math.ceil(s/4),h.push(-2);s++<i;)h.push(-1);break;case 10:h.push(-4),s=1;break;default:a=!0,s=1}c=u+1}return n&&(a&&h.push(-5),o&&h.push(o),h.push(null)),h})(n,r,!0))))}}let cL="object"==typeof self?self:globalThis,cO=e=>{var t;let n,r;return(t=new Map,n=(e,n)=>(t.set(n,e),e),r=i=>{if(t.has(i))return t.get(i);let[a,s]=e[i];switch(a){case 0:case -1:return n(s,i);case 1:{let e=n([],i);for(let t of s)e.push(r(t));return e}case 2:{let e=n({},i);for(let[t,n]of s)e[r(t)]=r(n);return e}case 3:return n(new Date(s),i);case 4:{let{source:e,flags:t}=s;return n(new RegExp(e,t),i)}case 5:{let e=n(new Map,i);for(let[t,n]of s)e.set(r(t),r(n));return e}case 6:{let e=n(new Set,i);for(let t of s)e.add(r(t));return e}case 7:{let{name:e,message:t}=s;return n(new cL[e](t),i)}case 8:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{let{buffer:e}=new Uint8Array(s);return n(new DataView(e),s)}}return n(new cL[a](s),i)})(0)},{toString:cR}={},{keys:cV}=Object,cU=e=>{let t=typeof e;if("object"!==t||!e)return[0,t];let n=cR.call(e).slice(8,-1);switch(n){case"Array":return[1,""];case"Object":return[2,""];case"Date":return[3,""];case"RegExp":return[4,""];case"Map":return[5,""];case"Set":return[6,""];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},cF=([e,t])=>0===e&&("function"===t||"symbol"===t),cB=(e,{json:t,lossy:n}={})=>{var r,i,a;let s,o,l=[];return(r=!(t||n),i=!!t,a=new Map,s=(e,t)=>{let n=l.push(e)-1;return a.set(t,n),n},o=e=>{if(a.has(e))return a.get(e);let[t,n]=cU(e);switch(t){case 0:{let i=e;switch(n){case"bigint":t=8,i=e.toString();break;case"function":case"symbol":if(r)throw TypeError("unable to serialize "+n);i=null;break;case"undefined":return s([-1],e)}return s([t,i],e)}case 1:{if(n){let t=e;return"DataView"===n?t=new Uint8Array(e.buffer):"ArrayBuffer"===n&&(t=new Uint8Array(e)),s([n,[...t]],e)}let r=[],i=s([t,r],e);for(let t of e)r.push(o(t));return i}case 2:{if(n)switch(n){case"BigInt":return s([n,e.toString()],e);case"Boolean":case"Number":case"String":return s([n,e.valueOf()],e)}if(i&&"toJSON"in e)return o(e.toJSON());let a=[],l=s([t,a],e);for(let t of cV(e))(r||!cF(cU(e[t])))&&a.push([o(t),o(e[t])]);return l}case 3:return s([t,e.toISOString()],e);case 4:{let{source:n,flags:r}=e;return s([t,{source:n,flags:r}],e)}case 5:{let n=[],i=s([t,n],e);for(let[t,i]of e)(r||!(cF(cU(t))||cF(cU(i))))&&n.push([o(t),o(i)]);return i}case 6:{let n=[],i=s([t,n],e);for(let t of e)(r||!cF(cU(t)))&&n.push(o(t));return i}}let{message:l}=e;return s([t,{name:n,message:l}],e)})(e),l},c_="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?cO(cB(e,t)):structuredClone(e):(e,t)=>cO(cB(e,t));function c$(e){let t=[],n=-1,r=0,i=0;for(;++n<e.length;){let a=e.charCodeAt(n),s="";if(37===a&&lN(e.charCodeAt(n+1))&&lN(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){let t=e.charCodeAt(n+1);a<56320&&t>56319&&t<57344?(s=String.fromCharCode(a,t),i=1):s="�"}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function cz(e,t){let n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function cH(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}let cY=function(e){var t,n;if(null==e)return cq;if("function"==typeof e)return cW(e);if("object"==typeof e){return Array.isArray(e)?function(e){let t=[],n=-1;for(;++n<e.length;)t[n]=cY(e[n]);return cW(function(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1})}(e):(t=e,cW(function(e){let n;for(n in t)if(e[n]!==t[n])return!1;return!0}))}if("string"==typeof e){return n=e,cW(function(e){return e&&e.type===n})}throw Error("Expected function, string, or object as test")};function cW(e){return function(t,n,r){return!!(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function cq(){return!0}let cG=[];function cK(e,t,n,r){var i,a,s;let o,l,c,u,d,h;"function"==typeof t&&"function"!=typeof n?(l=void 0,c=t,o=n):(l=t,c=n,o=r),i=l,a=function(e,t){let n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return c(e,r,n)},s=o,"function"==typeof i&&"function"!=typeof a?(s=a,a=i):u=i,d=cY(u),h=s?-1:1,(function e(t,n,r){let o=t&&"object"==typeof t?t:{};if("string"==typeof o.type){let e="string"==typeof o.tagName?o.tagName:"string"==typeof o.name?o.name:void 0;Object.defineProperty(l,"name",{value:"node ("+t.type+(e?"<"+e+">":"")+")"})}return l;function l(){var o;let l,c,u,p=cG;if((!i||d(t,n,r[r.length-1]||void 0))&&!1===(p=Array.isArray(o=a(t,r))?o:"number"==typeof o?[!0,o]:null==o?cG:[o])[0])return p;if("children"in t&&t.children&&t.children&&"skip"!==p[0])for(c=(s?t.children.length:-1)+h,u=r.concat(t);c>-1&&c<t.children.length;){if(!1===(l=e(t.children[c],c,u)())[0])return l;c="number"==typeof l[1]?l[1]:c+h}return p}})(e,void 0,[])()}function cX(e,t){let n=t.referenceType,r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];let i=e.all(t),a=i[0];a&&"text"===a.type?a.value="["+a.value:i.unshift({type:"text",value:"["});let s=i[i.length-1];return s&&"text"===s.type?s.value+=r:i.push({type:"text",value:r}),i}function cZ(e){let t=e.spread;return null==t?e.children.length>1:t}function cJ(e,t,n){let r=0,i=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(i-1);for(;9===t||32===t;)i--,t=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}let cQ={blockquote:function(e,t){let n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){let n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){let n=t.value?t.value+"\n":"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a={type:"element",tagName:"pre",properties:{},children:[a=e.applyData(t,a)]},e.patch(t,a),a},delete:function(e,t){let n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){let n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){let n,r="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),a=c$(i.toLowerCase()),s=e.footnoteOrder.indexOf(i),o=e.footnoteCounts.get(i);void 0===o?(o=0,e.footnoteOrder.push(i),n=e.footnoteOrder.length):n=s+1,o+=1,e.footnoteCounts.set(i,o);let l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+a,id:r+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(n)}]};e.patch(t,l);let c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){let n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){let n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){let n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return cX(e,t);let i={src:c$(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(i.title=r.title);let a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)},image:function(e,t){let n={src:c$(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);let r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){let n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);let r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){let n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return cX(e,t);let i={href:c$(r.url||"")};null!==r.title&&void 0!==r.title&&(i.title=r.title);let a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)},link:function(e,t){let n={href:c$(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);let r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){let r=e.all(t),i=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;let n=e.children,r=-1;for(;!t&&++r<n.length;)t=cZ(n[r])}return t}(n):cZ(t),a={},s=[];if("boolean"==typeof t.checked){let e,n=r[0];n&&"element"===n.type&&"p"===n.tagName?e=n:(e={type:"element",tagName:"p",properties:{},children:[]},r.unshift(e)),e.children.length>0&&e.children.unshift({type:"text",value:" "}),e.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){let e=r[o];(i||0!==o||"element"!==e.type||"p"!==e.tagName)&&s.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||i?s.push(e):s.push(...e.children)}let l=r[r.length-1];l&&(i||"element"!==l.type||"p"!==l.tagName)&&s.push({type:"text",value:"\n"});let c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){let n={},r=e.all(t),i=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++i<r.length;){let e=r[i];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}let a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)},paragraph:function(e,t){let n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){let n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){let n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){let n=e.all(t),r=n.shift(),i=[];if(r){let n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),i.push(n)}if(n.length>0){let r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=o8(t.children[1]),s=o6(t.children[t.children.length-1]);a&&s&&(r.position={start:a,end:s}),i.push(r)}let a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)},tableCell:function(e,t){let n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){let r=n?n.children:void 0,i=0===(r?r.indexOf(t):1)?"th":"td",a=n&&"table"===n.type?n.align:void 0,s=a?a.length:t.children.length,o=-1,l=[];for(;++o<s;){let n=t.children[o],r={},s=a?a[o]:void 0;s&&(r.align=s);let c={type:"element",tagName:i,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}let c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){let n={type:"text",value:function(e){let t=String(e),n=/\r?\n|\r/g,r=n.exec(t),i=0,a=[];for(;r;)a.push(cJ(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(cJ(t.slice(i),i>0,!1)),a.join("")}(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){let n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:c0,yaml:c0,definition:c0,footnoteDefinition:c0};function c0(){}let c1={}.hasOwnProperty,c2={};function c5(e,t){e.position&&(t.position=function(e){let t=o8(e),n=o6(e);if(t&&n)return{start:t,end:n}}(e))}function c4(e,t){let n=t;if(e&&e.data){let t=e.data.hName,r=e.data.hChildren,i=e.data.hProperties;"string"==typeof t&&("element"===n.type?n.tagName=t:n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}),"element"===n.type&&i&&Object.assign(n.properties,c_(i)),"children"in n&&n.children&&null!=r&&(n.children=r)}return n}function c3(e,t){let n=[],r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function c6(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function c8(e,t){let n,r,i,a,s=(n=t||c2,r=new Map,i=new Map,a={all:function(e){let t=[];if("children"in e){let n=e.children,r=-1;for(;++r<n.length;){let i=a.one(n[r],e);if(i){if(r&&"break"===n[r-1].type&&(Array.isArray(i)||"text"!==i.type||(i.value=c6(i.value)),!Array.isArray(i)&&"element"===i.type)){let e=i.children[0];e&&"text"===e.type&&(e.value=c6(e.value))}Array.isArray(i)?t.push(...i):t.push(i)}}}return t},applyData:c4,definitionById:r,footnoteById:i,footnoteCounts:new Map,footnoteOrder:[],handlers:{...cQ,...n.handlers},one:function(e,t){let n=e.type,r=a.handlers[n];if(c1.call(a.handlers,n)&&r)return r(a,e,t);if(a.options.passThrough&&a.options.passThrough.includes(n)){if("children"in e){let{children:t,...n}=e,r=c_(n);return r.children=a.all(e),r}return c_(e)}return(a.options.unknownHandler||function(e,t){let n=t.data||{},r="value"in t&&!(c1.call(n,"hProperties")||c1.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)})(a,e,t)},options:n,patch:c5,wrap:c3},cK(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){let t="definition"===e.type?r:i,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),a),o=s.one(e,void 0),l=function(e){let t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||cz,r=e.options.footnoteBackLabel||cH,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[],l=-1;for(;++l<e.footnoteOrder.length;){let i=e.footnoteById.get(e.footnoteOrder[l]);if(!i)continue;let a=e.all(i),s=String(i.identifier).toUpperCase(),c=c$(s.toLowerCase()),u=0,d=[],h=e.footnoteCounts.get(s);for(;void 0!==h&&++u<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,u);"string"==typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof r?r:r(l,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}let p=a[a.length-1];if(p&&"element"===p.type&&"p"===p.tagName){let e=p.children[p.children.length-1];e&&"text"===e.type?e.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...d)}else a.push(...d);let m={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(a,!0)};e.patch(i,m),o.push(m)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...c_(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(s),c=Array.isArray(o)?{type:"root",children:o}:o||{type:"root",children:[]};return l&&(oy("children"in c),c.children.push({type:"text",value:"\n"},l)),c}function c7(e,t){return e&&"run"in e?async function(n,r){let i=c8(n,{file:r,...t});await e.run(i,r)}:function(n,r){return c8(n,{file:r,...e||t})}}function c9(e){if(e)throw e}var ue=e.i(4100);function ut(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}let un=function(e,t){let n;if(void 0!==t&&"string"!=typeof t)throw TypeError('"ext" argument must be a string');us(e);let r=0,i=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else i<0&&(n=!0,i=a+1);return i<0?"":e.slice(r,i)}if(t===e)return"";let s=-1,o=t.length-1;for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else s<0&&(n=!0,s=a+1),o>-1&&(e.codePointAt(a)===t.codePointAt(o--)?o<0&&(i=a):(o=-1,i=s));return r===i?i=s:i<0&&(i=e.length),e.slice(r,i)},ur=function(e){let t;if(us(e),0===e.length)return".";let n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},ui=function(e){let t;us(e);let n=e.length,r=-1,i=0,a=-1,s=0;for(;n--;){let o=e.codePointAt(n);if(47===o){if(t){i=n+1;break}continue}r<0&&(t=!0,r=n+1),46===o?a<0?a=n:1!==s&&(s=1):a>-1&&(s=-1)}return a<0||r<0||0===s||1===s&&a===r-1&&a===i+1?"":e.slice(a,r)},ua=function(...e){var t;let n,r,i,a=-1;for(;++a<e.length;)us(e[a]),e[a]&&(i=void 0===i?e[a]:i+"/"+e[a]);return void 0===i?".":(us(t=i),n=47===t.codePointAt(0),0!==(r=function(e,t){let n,r,i="",a=0,s=-1,o=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else if(47===n)break;else n=47;if(47===n){if(s===l-1||1===o);else if(s!==l-1&&2===o){if(i.length<2||2!==a||46!==i.codePointAt(i.length-1)||46!==i.codePointAt(i.length-2)){if(i.length>2){if((r=i.lastIndexOf("/"))!==i.length-1){r<0?(i="",a=0):a=(i=i.slice(0,r)).length-1-i.lastIndexOf("/"),s=l,o=0;continue}}else if(i.length>0){i="",a=0,s=l,o=0;continue}}t&&(i=i.length>0?i+"/..":"..",a=2)}else i.length>0?i+="/"+e.slice(s+1,l):i=e.slice(s+1,l),a=l-s-1;s=l,o=0}else 46===n&&o>-1?o++:o=-1}return i}(t,!n)).length||n||(r="."),r.length>0&&47===t.codePointAt(t.length-1)&&(r+="/"),n?"/"+r:r)};function us(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function uo(e){return!!(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}let ul=["history","path","basename","stem","extname","dirname"];class uc{constructor(e){let t,n;t=e?uo(e)?{path:e}:"string"==typeof e||function(e){return!!(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":"/",this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ul.length;){const e=ul[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)ul.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?un(this.path):void 0}set basename(e){ud(e,"basename"),uu(e,"basename"),this.path=ua(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?ur(this.path):void 0}set dirname(e){uh(this.basename,"dirname"),this.path=ua(e||"",this.basename)}get extname(){return"string"==typeof this.path?ui(this.path):void 0}set extname(e){if(uu(e,"extname"),uh(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw Error("`extname` must start with `.`");if(e.includes(".",1))throw Error("`extname` cannot contain multiple dots")}this.path=ua(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){uo(e)&&(e=function(e){if("string"==typeof e)e=new URL(e);else if(!uo(e)){let t=TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){let e=TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){let e=TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}let t=e.pathname,n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){let e=t.codePointAt(n+2);if(70===e||102===e){let e=TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}(e)),ud(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?un(this.path,this.extname):void 0}set stem(e){ud(e,"stem"),uu(e,"stem"),this.path=ua(this.dirname||"",e+(this.extname||""))}fail(e,t,n){let r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){let r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){let r=new lr(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return void 0===this.value?"":"string"==typeof this.value?this.value:new TextDecoder(e||void 0).decode(this.value)}}function uu(e,t){if(e&&e.includes("/"))throw Error("`"+t+"` cannot be a path: did not expect `/`")}function ud(e,t){if(!e)throw Error("`"+t+"` cannot be empty")}function uh(e,t){if(!e)throw Error("Setting `"+t+"` requires `path` to be set too")}let up=function(e){let t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},um={}.hasOwnProperty;class uf extends up{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=function(){let e=[],t={run:function(...t){let n=-1,r=t.pop();if("function"!=typeof r)throw TypeError("Expected function as last argument, not "+r);!function i(a,...s){let o=e[++n],l=-1;if(a)return void r(a);for(;++l<t.length;)(null===s[l]||void 0===s[l])&&(s[l]=t[l]);t=s,o?(function(e,t){let n;return function(...t){let a,s=e.length>t.length;s&&t.push(r);try{a=e.apply(this,t)}catch(e){if(s&&n)throw e;return r(e)}s||(a&&a.then&&"function"==typeof a.then?a.then(i,r):a instanceof Error?r(a):i(a))};function r(e,...i){n||(n=!0,t(e,...i))}function i(e){r(null,e)}})(o,i)(...s):r(null,...s)}(null,...t)},use:function(n){if("function"!=typeof n)throw TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}()}copy(){let e=new uf,t=-1;for(;++t<this.attachers.length;){let n=this.attachers[t];e.use(...n)}return e.data((0,ue.default)(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2==arguments.length?(uv("data",this.frozen),this.namespace[e]=t,this):um.call(this.namespace,e)&&this.namespace[e]||void 0:e?(uv("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;for(;++this.freezeIndex<this.attachers.length;){let[e,...t]=this.attachers[this.freezeIndex];if(!1===t[0])continue;!0===t[0]&&(t[0]=void 0);let n=e.call(this,...t);"function"==typeof n&&this.transformers.use(n)}return this.frozen=!0,this.freezeIndex=1/0,this}parse(e){this.freeze();let t=uS(e),n=this.parser||this.Parser;return ux("parse",n),n(String(t),t)}process(e,t){let n=this;return this.freeze(),ux("process",this.parser||this.Parser),uy("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,i){let a=uS(e),s=n.parse(a);function o(e,n){e||!n?i(e):r?r(n):(oy(t,"`done` is defined if `resolve` is not"),t(void 0,n))}n.run(s,a,function(e,t,r){var i,a;if(e||!t||!r)return o(e);let s=n.stringify(t,r);"string"==typeof(i=s)||(a=i)&&"object"==typeof a&&"byteLength"in a&&"byteOffset"in a?r.value=s:r.result=s,o(e,r)})}}processSync(e){let t,n=!1;return this.freeze(),ux("processSync",this.parser||this.Parser),uy("processSync",this.compiler||this.Compiler),this.process(e,function(e,r){n=!0,c9(e),t=r}),uw("processSync","process",n),oy(t,"we either bailed on an error or have a tree"),t}run(e,t,n){ub(e),this.freeze();let r=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?i(void 0,n):new Promise(i);function i(i,a){oy("function"!=typeof t,"`file` can’t be a `done` anymore, we checked");let s=uS(t);r.run(e,s,function(t,r,s){let o=r||e;t?a(t):i?i(o):(oy(n,"`done` is defined if `resolve` is not"),n(void 0,o,s))})}}runSync(e,t){let n,r=!1;return this.run(e,t,function(e,t){c9(e),n=t,r=!0}),uw("runSync","run",r),oy(n,"we either bailed on an error or have a tree"),n}stringify(e,t){this.freeze();let n=uS(t),r=this.compiler||this.Compiler;return uy("stringify",r),ub(e),r(e,n)}use(e,...t){let n=this.attachers,r=this.namespace;if(uv("use",this.frozen),null==e);else if("function"==typeof e)s(e,t);else if("object"==typeof e)Array.isArray(e)?a(e):i(e);else throw TypeError("Expected usable value, not `"+e+"`");return this;function i(e){if(!("plugins"in e)&&!("settings"in e))throw Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(e.plugins),e.settings&&(r.settings=(0,ue.default)(!0,r.settings,e.settings))}function a(e){let t=-1;if(null==e);else if(Array.isArray(e))for(;++t<e.length;)!function(e){if("function"==typeof e)s(e,[]);else if("object"==typeof e)if(Array.isArray(e)){let[t,...n]=e;s(t,n)}else i(e);else throw TypeError("Expected usable value, not `"+e+"`")}(e[t]);else throw TypeError("Expected a list of plugins, not `"+e+"`")}function s(e,t){let r=-1,i=-1;for(;++r<n.length;)if(n[r][0]===e){i=r;break}if(-1===i)n.push([e,...t]);else if(t.length>0){let[r,...a]=t,s=n[i][1];ut(s)&&ut(r)&&(r=(0,ue.default)(!0,s,r)),n[i]=[e,r,...a]}}}}let ug=new uf().freeze();function ux(e,t){if("function"!=typeof t)throw TypeError("Cannot `"+e+"` without `parser`")}function uy(e,t){if("function"!=typeof t)throw TypeError("Cannot `"+e+"` without `compiler`")}function uv(e,t){if(t)throw Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ub(e){if(!ut(e)||"string"!=typeof e.type)throw TypeError("Expected node, got `"+e+"`")}function uw(e,t,n){if(!n)throw Error("`"+e+"` finished async. Use `"+t+"` instead")}function uS(e){var t;return(t=e)&&"object"==typeof t&&"message"in t&&"messages"in t?e:new uc(e)}let uj=[],uE={allowDangerousHtml:!0},uN=/^(https?|ircs?|mailto|xmpp)$/i,uk=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function uC(e){var t;let n,r,i,a,s,o=(n=(t=e).rehypePlugins||uj,r=t.remarkPlugins||uj,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...uE}:uE,ug().use(cI).use(r).use(c7,i).use(n)),l=(a=e.children||"",s=new uc,"string"==typeof a?s.value=a:ov("Unexpected value `"+a+"` for `children` prop, expected `string`"),s);return function(e,t){let n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||uT;for(let e of uk)Object.hasOwn(t,e.from)&&ov("Unexpected `"+e.from+"` prop, "+(e.to?"use `"+e.to+"` instead":"remove it")+" (see <https://github.com/remarkjs/react-markdown/blob/main/changelog.md#"+e.id+"> for more info)");return n&&a&&ov("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),cK(e,function(e,t,i){if("raw"===e.type&&i&&"number"==typeof t)return s?i.children.splice(t,1):i.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in lx)if(Object.hasOwn(lx,t)&&Object.hasOwn(e.properties,t)){let n=e.properties[t],r=lx[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let s=n?!n.includes(e.tagName):!!a&&a.includes(e.tagName);if(!s&&r&&"number"==typeof t&&(s=!r(e,t,i)),s&&i&&"number"==typeof t)return o&&e.children?i.children.splice(t,1,...e.children):i.children.splice(t,1),t}}),function(e,t){var n,r,i,a;let s;if(!t||void 0===t.Fragment)throw TypeError("Expected `Fragment` in options");let o=t.filePath||void 0;if(t.development){if("function"!=typeof t.jsxDEV)throw TypeError("Expected `jsxDEV` in options when `development: true`");n=o,r=t.jsxDEV,s=function(e,t,i,a){let s=Array.isArray(i.children),o=o8(e);return r(t,i,a,s,{columnNumber:o?o.column-1:void 0,fileName:n,lineNumber:o?o.line:void 0},void 0)}}else{if("function"!=typeof t.jsx)throw TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw TypeError("Expected `jsxs` in production options");i=t.jsx,a=t.jsxs,s=function(e,t,n,r){let s=Array.isArray(n.children)?a:i;return r?s(t,n,r):s(t,n)}}let l={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:s,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:o,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?o4:o5,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},c=lu(l,e,void 0);return c&&"string"!=typeof c?c:l.create(e,l.Fragment,{children:c||void 0},void 0)}(e,{Fragment:A.Fragment,components:i,ignoreInvalidStyle:!0,jsx:A.jsx,jsxs:A.jsxs,passKeys:!0,passNode:!0})}(o.runSync(o.parse(l),l),e)}function uT(e){let t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return -1===t||-1!==i&&t>i||-1!==n&&t>n||-1!==r&&t>r||uN.test(e.slice(0,t))?e:""}function uD({transactions:e,accounts:t,buckets:n,apiKey:r}){let[i,a]=(0,P.useState)([]),[s,o]=(0,P.useState)(!1),[l,c]=(0,P.useState)(null),[u,d]=(0,P.useState)(null),[h,p]=(0,P.useState)(""),m=(0,P.useRef)(null);(0,P.useEffect)(()=>{m.current?.scrollIntoView({behavior:"smooth"})},[i]);let f=async()=>{if(!r)return void c("API Key no configurada");o(!0),c(null),a([]);try{let i=new of(r).getGenerativeModel({model:"gemini-flash-latest"}),s=e.slice(0,50).map(e=>({date:e.date,amount:e.amount,type:e.type,description:e.description,category:n.find(t=>Number(t.id)===e.bucket_id)?.name||"Varios"})),o=t.map(e=>({name:e.name,type:e.type,balance:e.balance,currency:e.currency})),l=301;try{let e=await fetch("https://ve.dolarapi.com/v1/dolares/oficial");if(e.ok){let t=await e.json();t.promedio&&(l=t.promedio)}}catch(e){console.warn("Error fetching exchange rate, using default:",e)}let c=new Date().toISOString().split("T")[0],u=`
                # ROL
                Eres "Denarius AI", un asesor financiero personal experto, emp\xe1tico y altamente anal\xedtico. Tu objetivo es optimizar el flujo de caja del usuario, priorizar su liquidez y ayudarle a cumplir metas financieras sin sacrificar su calidad de vida.

                # CONTEXTO DEL USUARIO
                - Fecha Actual: ${c}
                - Moneda Local: VES (Bol\xedvares)
                - Tasa de Cambio Referencial: 1 USD = ${l} VES (Aproximadamente)
                - Perfil: Desarrollador joven, primera experiencia profesional, maneja econom\xeda bimonetaria (USD/VES).

                # DATOS A ANALIZAR
                1. RESUMEN DE CUENTAS: 
                ${JSON.stringify(o)}

                2. PRESUPUESTOS (BUCKETS/SOBRES): 
                ${JSON.stringify(n)}

                3. \xdaLTIMOS MOVIMIENTOS: 
                ${JSON.stringify(s)}

                # INSTRUCCIONES DE AN\xc1LISIS (PROCESO INTERNO)
                Antes de generar la respuesta, realiza los siguientes c\xe1lculos mentalmente:
                1. **Normalizaci\xf3n:** Convierte todos los saldos en VES a USD usando la tasa provista para tener una visi\xf3n unificada del patrimonio neto.
                2. **C\xe1lculo de Supervivencia:** Calcula cu\xe1ntos d\xedas faltan para la pr\xf3xima quincena (asume pagos los d\xedas 15 y 30/31). Divide el "Saldo Disponible" entre los d\xedas restantes para obtener el "Presupuesto Diario Seguro".
                3. **Detecci\xf3n de Fugas:** Identifica gastos hormiga recurrentes en las transacciones (ej. comida r\xe1pida, comisiones, juegos) y s\xfamalos.
                4. **An\xe1lisis de Deuda:** Revisa los "Liabilities" (Pasivos). Si hay deudas vencidas o pr\xf3ximas a vencer, m\xe1rcalas como PRIORIDAD CR\xcdTICA.

                # FORMATO DE RESPUESTA (MARKDOWN)
                Debes responder estrictamente en Espa\xf1ol con el siguiente formato:

                ## 📊 Diagn\xf3stico R\xe1pido
                * **Patrimonio Neto Total:** [Monto en USD]
                * **D\xedas hasta el pr\xf3ximo pago:** [N\xfamero] d\xedas.
                * **Presupuesto Diario Sugerido:** [Monto] USD/d\xeda (para llegar a fin de mes/quincena).

                ## 🚦 Sem\xe1foro Financiero
                * 🟢 **Lo Bueno:** [Menciona 1 h\xe1bito positivo o logro reciente basado en los datos, ej. pago de deudas].
                * 🔴 **Atenci\xf3n:** [Menciona gastos innecesarios detectados o deudas pendientes urgentes].

                ## 💡 Plan de Acci\xf3n (Estrategia)
                Basado en tu situaci\xf3n actual, te recomiendo distribuir tu dinero as\xed:
                1.  **Prioridad 1 (Intocable):** [Monto] para [Gasto Fijo inminente detectado].
                2.  **Deudas:** [Instrucci\xf3n espec\xedfica sobre qu\xe9 deuda pagar primero].
                3.  **Ajuste de Gastos:** [Consejo espec\xedfico sobre d\xf3nde cortar gastos, ej. "Baja el gasto en X categor\xeda"].

                ## 💬 Comentario de Denarius
                [Un mensaje corto, motivador y personalizado. Si el usuario compr\xf3 algo innecesario, haz una broma amable pero firme. Si lo hizo bien, felic\xedtalo].

                ---
                **Nota:** Utiliza negritas para resaltar cifras importantes. S\xe9 directo pero amigable. No uses LaTeX, usa formato de texto est\xe1ndar para monedas ($).
            `,h=i.startChat({history:[{role:"user",parts:[{text:"Hola Denarius, analiza mis finanzas actuales por favor."}]}]});d(h);let p=await h.sendMessage(u),m=(await p.response).text();a([{role:"model",text:m}])}catch(e){console.error(e),c(e.message||"Error al generar el análisis")}finally{o(!1)}},g=async e=>{if(e&&e.preventDefault(),!h.trim()||!u)return;let t=h.trim();p(""),a(e=>[...e,{role:"user",text:t}]),o(!0);try{let e=await u.sendMessage(t),n=(await e.response).text();a(e=>[...e,{role:"model",text:n}])}catch(e){console.error(e),a(e=>[...e,{role:"model",text:"Error: No pude procesar tu mensaje. Intenta de nuevo."}])}finally{o(!1)}};return(0,A.jsxs)("div",{className:"space-y-6 animate-fade-in pb-24",children:[(0,A.jsxs)("div",{className:"relative overflow-hidden rounded-[2rem] bg-slate-900 border border-white/10 p-8 shadow-2xl group",children:[(0,A.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl group-hover:bg-indigo-500/20 transition duration-1000"}),(0,A.jsx)("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl group-hover:bg-purple-500/20 transition duration-1000"}),(0,A.jsxs)("div",{className:"relative z-10 flex flex-col items-center text-center space-y-3",children:[(0,A.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500/20 to-purple-500/20 border border-indigo-500/30 mb-2 shadow-inner backdrop-blur-md",children:(0,A.jsx)(sF,{className:"w-8 h-8 text-indigo-400"})}),(0,A.jsxs)("h2",{className:"text-3xl font-bold text-white tracking-tight",children:["Denarius ",(0,A.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400",children:"AI Insights"})]}),(0,A.jsx)("p",{className:"text-sm text-slate-400 max-w-sm leading-relaxed",children:"Análisis financiero inteligente y asistente personal en tiempo real."})]})]}),0===i.length&&!s&&(0,A.jsxs)("div",{className:"glass-panel p-8 rounded-[2rem] border border-white/5 bg-gradient-to-b from-slate-800/40 to-slate-900/40 text-center space-y-6",children:[(0,A.jsxs)("div",{className:"space-y-2",children:[(0,A.jsx)("h3",{className:"text-lg font-semibold text-white",children:"¿Listo para tu diagnóstico?"}),(0,A.jsx)("p",{className:"text-xs text-slate-400",children:"Denarius analizará tus últimas 50 transacciones y el estado de tus cuentas."})]}),(0,A.jsxs)("button",{onClick:f,className:"group relative inline-flex items-center justify-center gap-3 w-full sm:w-auto px-8 py-4 font-bold text-white transition-all duration-300 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl hover:scale-[1.02] active:scale-[0.98] shadow-lg shadow-indigo-600/20 hover:shadow-indigo-600/40",children:[(0,A.jsx)(og,{className:"w-5 h-5"}),(0,A.jsx)("span",{children:"Generar Análisis con AI"}),(0,A.jsx)("div",{className:"absolute inset-0 rounded-2xl bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-sm"})]}),l&&(0,A.jsx)("p",{className:"text-rose-400 text-sm mt-2",children:l})]}),s&&0===i.length&&(0,A.jsxs)("div",{className:"glass-panel p-12 rounded-[2rem] border border-white/5 flex flex-col items-center justify-center space-y-8 min-h-[400px]",children:[(0,A.jsxs)("div",{className:"relative w-24 h-24",children:[(0,A.jsx)("div",{className:"absolute inset-0 border-4 border-indigo-500/30 rounded-full"}),(0,A.jsx)("div",{className:"absolute inset-0 border-4 border-t-indigo-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"}),(0,A.jsx)("div",{className:"absolute inset-4 border-4 border-purple-500/30 rounded-full"}),(0,A.jsx)("div",{className:"absolute inset-4 border-4 border-b-purple-500 border-t-transparent border-l-transparent border-r-transparent rounded-full animate-spin-reverse"}),(0,A.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,A.jsx)(sF,{className:"w-8 h-8 text-white animate-pulse"})})]}),(0,A.jsxs)("div",{className:"text-center space-y-2 animate-pulse",children:[(0,A.jsx)("p",{className:"text-xl font-bold text-white",children:"Procesando Datos"}),(0,A.jsx)("p",{className:"text-sm text-slate-400",children:"Conectando con Gemini AI..."})]})]}),l&&0===i.length&&(0,A.jsxs)("div",{className:"glass-panel p-6 rounded-2xl border border-rose-500/30 bg-rose-500/5 flex flex-col items-center text-center gap-4",children:[(0,A.jsx)("div",{className:"w-12 h-12 rounded-full bg-rose-500/10 flex items-center justify-center text-rose-400",children:(0,A.jsx)(og,{className:"w-6 h-6"})}),(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"font-bold text-rose-200 mb-1",children:"Algo salió mal"}),(0,A.jsx)("p",{className:"text-sm text-rose-200/60",children:l})]}),(0,A.jsx)("button",{onClick:f,className:"px-6 py-2 rounded-xl bg-rose-500/20 hover:bg-rose-500/30 text-rose-200 text-sm font-bold transition",children:"Reintentar"})]}),i.length>0&&(0,A.jsxs)("div",{className:"space-y-4 animate-slide-up",children:[(0,A.jsxs)("div",{className:"flex items-center justify-between px-4",children:[(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),(0,A.jsx)("span",{className:"text-xs font-bold text-slate-300 uppercase tracking-wider",children:"Sesión Activa"})]}),(0,A.jsxs)("button",{onClick:f,className:"text-xs text-slate-400 hover:text-white transition flex items-center gap-1.5 bg-white/5 hover:bg-white/10 px-3 py-1.5 rounded-full",children:[(0,A.jsx)(s_.ArrowPathIcon,{className:"w-3.5 h-3.5"}),"Reiniciar Sesión"]})]}),(0,A.jsxs)("div",{className:"space-y-6",children:[i.map((e,t)=>(0,A.jsx)("div",{className:`flex ${"user"===e.role?"justify-end":"justify-start"}`,children:(0,A.jsx)("div",{className:`max-w-[100%] sm:max-w-[85%] rounded-[2rem] p-6 shadow-xl backdrop-blur-xl border ${"user"===e.role?"bg-indigo-600/80 border-indigo-500/30 text-white rounded-tr-none":"bg-[#0F172A]/80 border-white/10 text-slate-200 rounded-tl-none"}`,children:"user"===e.role?(0,A.jsx)("p",{className:"whitespace-pre-wrap",children:e.text}):(0,A.jsx)("div",{className:"prose prose-invert prose-indigo max-w-none prose-headings:font-bold prose-p:text-slate-300 prose-strong:text-white prose-li:text-slate-300",children:(0,A.jsx)(uC,{components:{h1:({...e})=>(0,A.jsx)("h1",{className:"text-2xl mb-6 pb-4 border-b border-white/10 text-transparent bg-clip-text bg-gradient-to-r from-white to-slate-400",...e}),h2:({...e})=>(0,A.jsxs)("div",{className:"mt-8 mb-4 flex items-center gap-3",children:[(0,A.jsx)("div",{className:"h-px flex-1 bg-gradient-to-r from-indigo-500/50 to-transparent"}),(0,A.jsx)("h2",{className:"text-lg text-indigo-300 m-0 whitespace-nowrap",...e}),(0,A.jsx)("div",{className:"h-px flex-1 bg-gradient-to-l from-indigo-500/50 to-transparent"})]}),h3:({...e})=>(0,A.jsx)("h3",{className:"text-base text-white mt-6 mb-2",...e}),p:({...e})=>(0,A.jsx)("p",{className:"mb-4 text-sm leading-relaxed text-slate-300",...e}),ul:({...e})=>(0,A.jsx)("ul",{className:"space-y-3 mb-6",...e}),li:({children:e,...t})=>Array.isArray(e)&&"string"==typeof e[0]&&/^[🟢🔴💡]/.test(e[0])?(0,A.jsx)("li",{className:"flex items-start gap-3 text-sm bg-white/[0.03] p-3 rounded-xl border border-white/5",...t,children:e}):(0,A.jsxs)("li",{className:"flex items-start gap-3 text-sm",...t,children:[(0,A.jsx)("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-indigo-500 flex-shrink-0"}),(0,A.jsx)("span",{children:e})]}),strong:({...e})=>(0,A.jsx)("strong",{className:"text-white font-bold",...e}),blockquote:({...e})=>(0,A.jsx)("blockquote",{className:"border-l-4 border-purple-500/50 pl-4 py-3 my-6 bg-gradient-to-r from-purple-500/10 to-transparent rounded-r-xl italic text-purple-200 text-sm",...e})},children:e.text})})})},t)),s&&(0,A.jsx)("div",{className:"flex justify-start",children:(0,A.jsxs)("div",{className:"bg-[#0F172A]/80 border border-white/10 rounded-[2rem] rounded-tl-none p-6 flex items-center gap-3",children:[(0,A.jsx)(sF,{className:"w-5 h-5 text-indigo-400 animate-pulse"}),(0,A.jsx)("span",{className:"text-sm text-slate-400",children:"Denarius está escribiendo..."})]})}),(0,A.jsx)("div",{ref:m})]}),(0,A.jsx)("div",{className:"sticky bottom-6 mt-4",children:(0,A.jsxs)("form",{onSubmit:g,className:"relative group",children:[(0,A.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl blur opacity-25 group-focus-within:opacity-75 transition duration-1000"}),(0,A.jsxs)("div",{className:"relative flex items-center",children:[(0,A.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),placeholder:"Pregúntale algo más a Denarius...",className:"w-full bg-slate-900 text-white placeholder-slate-500 border border-white/10 rounded-2xl py-4 pl-6 pr-14 focus:outline-none focus:bg-slate-800 transition shadow-xl",disabled:s}),(0,A.jsx)("button",{type:"submit",disabled:s||!h.trim(),className:"absolute right-2 p-2 rounded-xl bg-indigo-600 text-white hover:bg-indigo-500 disabled:opacity-50 disabled:hover:bg-indigo-600 transition-colors",children:(0,A.jsx)(ox,{className:"w-5 h-5"})})]})]})})]})]})}let uA=P.forwardRef(function({title:e,titleId:t,...n},r){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?P.createElement("title",{id:t},e):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}),uP="https://ve.dolarapi.com/v1/dolares";function uM(){let[e,t]=(0,P.useState)("accounts"),[n,r]=(0,P.useState)({USD:1,USDT:1}),[i,a]=(0,P.useState)({USD:!1,USDT:!1}),s=function(){let[e,t]=(0,P.useState)({accounts:[],buckets:[],transactions:[],wishlist:[]}),[n,r]=(0,P.useState)(!0),i=async()=>{try{r(!0);let[e,n,i,a]=await Promise.all([L.get("/accounts"),L.get("/buckets"),L.get("/transactions"),L.get("/wishlist")]);t({accounts:e,buckets:n,transactions:i,wishlist:a})}catch(e){console.error("Error fetching data:",e)}finally{r(!1)}};(0,P.useEffect)(()=>{i()},[]);let a=async(e,t,n,r=0,a=null,s=null)=>{try{let o=await L.post("/accounts",{name:e,type:t,currency:n,balance:0,start_date:a||null,due_date:s||null});r&&r>0?"ASSET"===t?await h(r,"INCOME",parseInt(o.id),null,"Saldo Inicial"):("RECEIVABLE"===t||"LIABILITY"===t)&&(await L.put(`/accounts/${o.id}`,{balance:r}),await i()):await i()}catch(e){throw console.error("Error creating account:",e),e}},s=async(e,t)=>{try{await L.put(`/accounts/${e}`,t),await i()}catch(e){throw console.error("Error updating account:",e),e}},o=async e=>{try{await L.delete(`/accounts/${e}`),await i()}catch(e){throw console.error("Error deleting account:",e),e}},l=async(e,t,n=0)=>{try{let r=await L.post("/buckets",{name:e,currency:t,balance:0});n&&n>0?await h(parseFloat(String(n)),"INCOME",null,parseInt(r.id),"Fondo Inicial"):await i()}catch(e){throw console.error("Error creating bucket:",e),e}},c=async(e,t)=>{try{await L.put(`/buckets/${e}`,t),await i()}catch(e){throw console.error("Error updating bucket:",e),e}},u=async e=>{try{await L.delete(`/buckets/${e}`),await i()}catch(e){throw console.error("Error deleting bucket:",e),e}},d=async(e,t,n,r)=>{try{await L.post("/transactions",{date:new Date().toISOString(),amount:parseFloat(String(n)),type:"bucket_move",account_id:null,bucket_id:t,source_bucket_id:e,description:"Transferencia entre presupuestos",target_amount:void 0!==r?parseFloat(String(r)):void 0}),await i()}catch(e){throw console.error("Error transferring between buckets:",e),e}},h=async(t,n,r,a,s,o)=>{if(t=parseFloat(String(t)),("INCOME"===n||"EXPENSE"===n)&&null!==r){console.log("addTransaction Debug:",{accountId:r,type:n,accountsCount:e.accounts.length});let t=e.accounts.find(e=>String(e.id)===String(r));if(console.log("Found account:",t),!t||"ASSET"!==t.type&&"LIABILITY"!==t.type&&"RECEIVABLE"!==t.type)return void console.error("Para ingresos/egresos, seleccione una cuenta de tipo ASSET, LIABILITY o RECEIVABLE.",{accountId:r,foundAccount:t})}try{await L.post("/transactions",{date:new Date().toISOString(),amount:t,type:n,account_id:r,bucket_id:a,source_bucket_id:null,description:s,target_amount:o}),await i()}catch(e){throw console.error("Error adding transaction:",e),e}},p=async(e,t)=>{try{await L.put(`/transactions/${e}`,t),await i()}catch(e){throw console.error("Error updating transaction:",e),e}},m=async e=>{try{await L.delete(`/transactions/${e}`),await i()}catch(e){throw console.error("Error deleting transaction:",e),e}},f=async(e,t=5)=>{try{return(await L.get("/transactions",{account_id:e,limit:String(t)})).filter(t=>String(t.account_id)===String(e))}catch(e){return console.error("Error fetching transactions for account:",e),[]}},g=async(e,t,n,r)=>{try{await L.post("/wishlist",{product_name:e,price:t,currency:n,details:r}),await i()}catch(e){throw console.error("Error adding wishlist item:",e),e}},x=async(e,t)=>{try{await L.put(`/wishlist/${e}`,t),await i()}catch(e){throw console.error("Error updating wishlist item:",e),e}},y=async e=>{try{await L.delete(`/wishlist/${e}`),await i()}catch(e){throw console.error("Error deleting wishlist item:",e),e}};return{...e,loading:n,fetchData:i,createAccount:a,updateAccount:s,deleteAccount:o,createBucket:l,updateBucket:c,deleteBucket:u,transferBucket:d,addTransaction:h,updateTransaction:p,deleteTransaction:m,addWishlistItem:g,updateWishlistItem:x,deleteWishlistItem:y,getBalanceSheet:(t,n,r)=>{let i=0,a=0,s=0;e.accounts.forEach(e=>{let o=((e,i)=>{if(i===t)return e;if("VES"===t){if("USD"===i)return e*n;if("USDT"===i)return e*r}if("USD"===t){if("VES"===i)return e/n;if("USDT"===i)return e*r/n}if("USDT"===t){if("VES"===i)return e/r;if("USD"===i)return e*n/r}return e})(e.balance,e.currency);console.log(`Account: ${e.name}, Type: ${e.type}, Balance: ${e.balance}, Currency: ${e.currency}, Converted to ${t}: ${o}, Rate USD: ${n}, Rate USDT: ${r}`),"ASSET"===e.type?i+=o:"LIABILITY"===e.type?a+=Math.abs(o):"RECEIVABLE"===e.type&&(s+=Math.abs(o))});let o=i+s-a;return console.log(`Balance Sheet in ${t}: Assets=${i}, Liabilities=${a}, Receivables=${s}, Equity=${o}`),{assets:i,liabilities:a,receivables:s,equity:o}},filterTransactions:t=>e.transactions.filter(e=>{if(t.search&&!e.description.toLowerCase().includes(t.search.toLowerCase()))return!1;let n=new Date(e.date);if(t.start){let[e,r,i]=t.start.split("-").map(Number);if(n<new Date(e,r-1,i))return!1}if(t.end){let[e,r,i]=t.end.split("-").map(Number),a=new Date(e,r-1,i);if(a.setHours(23,59,59,999),n>a)return!1}return("ALL"===t.type||("INCOME"!==t.type||!!(e.type.includes("INCOME")||e.type.includes("TRANSFER_IN")))&&("EXPENSE"!==t.type||!!(e.type.includes("EXPENSE")||e.type.includes("TRANSFER_OUT"))))&&!("ALL"!==t.bucket&&String(e.bucket_id)!==t.bucket||t.min&&e.amount<parseFloat(t.min)||t.max&&e.amount>parseFloat(t.max))}),getTransactionsByAccount:f}}(),o=async(e=!1)=>{a(e=>({...e,USD:!0}));try{let e=await fetch(`${uP}/oficial`);if(!e.ok)throw Error("HTTP "+e.status);let t=await e.json(),n=parseFloat(t?.promedio);if(!n||isNaN(n))throw Error("Tasa no válida");r(e=>({...e,USD:n})),console.log("Tasa oficial cargada:",n)}catch(t){console.error("Error al obtener tasa oficial:",t),e||alert("No se pudo obtener la tasa oficial del dólar.")}finally{a(e=>({...e,USD:!1}))}},l=async(e=!1)=>{a(e=>({...e,USDT:!0}));try{let e=await fetch(`${uP}/paralelo`);if(!e.ok)throw Error("HTTP "+e.status);let t=await e.json(),n=parseFloat(t?.promedio);if(!n||isNaN(n))throw Error("Tasa no válida");r(e=>({...e,USDT:n})),console.log("Tasa paralelo cargada:",n)}catch(t){console.error("Error al obtener tasa paralelo:",t),e||alert("No se pudo obtener la tasa paralelo (USDT).")}finally{a(e=>({...e,USDT:!1}))}},c=async(e=!1)=>{await Promise.all([o(e),l(e)])};(0,P.useEffect)(()=>{document.title=({accounts:"Denarius - Cuentas",budgets:"Denarius - Presupuestos",transactions:"Denarius - Transacciones",wishlist:"Denarius - Wishlist",calculator:"Denarius - Conversor",statistics:"Denarius - Estadísticas"})[e]||"Denarius"},[e]),(0,P.useEffect)(()=>{c(!0),s.fetchData()},[]);let u=[{id:"accounts",label:"Cuentas",icon:W},{id:"budgets",label:"Presupuesto",icon:V},{id:"transactions",label:"Transacciones",icon:K},{id:"wishlist",label:"Wishlist",icon:uA},{id:"calculator",label:"Conversor",icon:sz},{id:"statistics",label:"Insights AI",icon:og}];return(0,A.jsxs)("div",{className:"min-h-screen bg-slate-800 text-slate-100 flex flex-col",children:[(0,A.jsx)(O.default,{title:(0,A.jsxs)("span",{children:["Dena",(0,A.jsx)("span",{className:"text-blue-500",children:"rius"})]}),subtitle:"",showBack:!0,showRefresh:!0,onRefresh:s.fetchData}),(0,A.jsx)("main",{className:"flex-1 overflow-y-auto hide-scrollbar p-6 pb-28",children:(0,A.jsx)("div",{className:"max-w-3xl mx-auto",children:s.loading?(0,A.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,A.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})}):(0,A.jsxs)(A.Fragment,{children:["accounts"===e&&(0,A.jsx)(ee,{accounts:s.accounts,onCreateAccount:s.createAccount,onUpdateAccount:s.updateAccount,onDeleteAccount:s.deleteAccount,getTransactionsByAccount:s.getTransactionsByAccount,rates:n,loadingRates:i,onFetchUsdRate:o,onFetchUsdtRate:l,onSetRate:(e,t)=>{r(n=>({...n,[e]:t}))},buckets:s.buckets,onAddTransaction:s.addTransaction}),"budgets"===e&&(0,A.jsx)(ea,{buckets:s.buckets,onCreateBucket:s.createBucket,onUpdateBucket:s.updateBucket,onDeleteBucket:s.deleteBucket,onTransferBucket:s.transferBucket,rates:n,accounts:s.accounts}),"transactions"===e&&(0,A.jsx)(sV,{transactions:s.transactions,buckets:s.buckets,accounts:s.accounts,onDeleteTransaction:s.deleteTransaction,onUpdateTransaction:s.updateTransaction}),"wishlist"===e&&(0,A.jsx)(sB,{wishlist:s.wishlist,onAddItem:s.addWishlistItem,onUpdateItem:s.updateWishlistItem,onDeleteItem:s.deleteWishlistItem}),"calculator"===e&&(0,A.jsx)(sH,{rates:n,onRefreshRates:c}),"statistics"===e&&(0,A.jsx)(uD,{transactions:s.transactions,accounts:s.accounts,buckets:s.buckets,apiKey:"AIzaSyByqtwnAzJNkDgAd6LencekxqwB4WLAfM4"})]})})}),(0,A.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/95 backdrop-blur-md border-t border-slate-700 z-20",children:(0,A.jsx)("div",{className:"max-w-3xl mx-auto grid grid-cols-6 gap-1 p-2",children:u.map(n=>{let r=n.icon,i=e===n.id;return(0,A.jsx)("button",{onClick:()=>t(n.id),className:`flex flex-col items-center justify-center py-3 px-3 rounded-xl transition ${i?"bg-indigo-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:(0,A.jsx)(r,{className:"w-6 h-6"})},n.id)})})})]})}e.s(["default",()=>uM],52911)}]);